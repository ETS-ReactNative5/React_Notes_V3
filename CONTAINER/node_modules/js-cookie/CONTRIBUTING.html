<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>CONTRIBUTING</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
</head>
<body>
<h2 id="issues">Issues</h2>
<ul>
<li>Report issues or feature requests on <a href="https://github.com/js-cookie/js-cookie/issues">GitHub Issues</a>.</li>
<li>If reporting a bug, please add a <a href="http://sscce.org/">simplified example</a>.</li>
</ul>
<h2 id="pull-requests">Pull requests</h2>
<ul>
<li>Create a new topic branch for every separate change you make.</li>
<li>Create a test case if you are fixing a bug or implementing an important feature.</li>
<li>Make sure the build runs successfully.</li>
</ul>
<h2 id="development">Development</h2>
<h3 id="tools">Tools</h3>
<p>We use the following tools for development:</p>
<ul>
<li><a href="http://qunitjs.com/">Qunit</a> for tests.</li>
<li><a href="http://nodejs.org/download/">NodeJS</a> required to run grunt.</li>
<li><a href="http://gruntjs.com/getting-started">Grunt</a> for task management.</li>
</ul>
<h3 id="getting-started">Getting started</h3>
<p>Install <a href="http://nodejs.org/">NodeJS</a>.<br />
Install globally grunt-cli using the following command:</p>
<pre><code>$ npm install -g grunt-cli</code></pre>
<p>Browse to the project root directory and install the dev dependencies:</p>
<pre><code>$ npm install -d</code></pre>
<p>To execute the build and tests run the following command in the root of the project:</p>
<pre><code>$ grunt</code></pre>
<p>You should see a green message in the console:</p>
<pre><code>Done, without errors.</code></pre>
<h3 id="tests">Tests</h3>
<p>You can also run the tests in the browser.<br />
Start a test server from the project root:</p>
<pre><code>$ grunt connect:tests</code></pre>
<p>This will automatically open the test suite at http://127.0.0.1:10000 in the default browser, with livereload enabled.</p>
<p><em>Note: we recommend cleaning all the browser cookies before running the tests, that can avoid false positive failures.</em></p>
<h3 id="automatic-build">Automatic build</h3>
<p>You can build automatically after a file change using the following command:</p>
<pre><code>$ grunt watch</code></pre>
<h2 id="integration-with-server-side">Integration with server-side</h2>
<p>js-cookie allows integrating the encoding test suite with solutions written in other server-side languages. To integrate successfully, the server-side solution need to execute the <code>test/encoding.html</code> file in it’s integration testing routine with a web automation tool, like <a href="http://www.seleniumhq.org/">Selenium</a>. js-cookie test suite exposes an API to make this happen.</p>
<h3 id="integration_baseurl">?integration_baseurl</h3>
<p>Specify the base url to pass the cookies into the server through a query string. If <code>integration_baseurl</code> query is not present, then js-cookie will assume there’s no server.</p>
<h3 id="window.global_test_results">window.global_test_results</h3>
<p>After the test suite has finished, js-cookie exposes the global <code>window.global_test_results</code> property containing an Object Literal that represents the <a href="http://api.qunitjs.com/QUnit.done/">QUnit’s details</a>. js-cookie also adds an additional property representing an Array containing the tests data.</p>
<h3 id="handling-requests">Handling requests</h3>
<p>When js-cookie encoding tests are executed, it will request a url in the server through an iframe representing each test being run. js-cookie expects the server to handle the input and return the proper <code>Set-Cookie</code> headers in the response. js-cookie will then read the response and verify if the encoding is consistent with js-cookie default encoding mechanism</p>
<p>js-cookie will send some requests to the server from the baseurl in the format <code>/encoding?name=&lt;cookie&gt;</code>, where <code>&lt;cookie&gt;</code> represents the cookie-name to be read from the request.</p>
<p>The server should handle those requests, internally parsing the cookie from the request and writing it again. It must set an <code>application/json</code> content type containing an object literal in the content body with <code>name</code> and <code>value</code> keys, each representing the cookie-name and cookie-value decoded by the server-side implementation.</p>
<p>If the server fails to respond with this specification in any request, the related QUnit test will fail. This is to make sure the server-side implementation will always be in sync with js-cookie encoding tests for maximum compatibility.</p>
<h3 id="projects-using-it">Projects using it</h3>
<p>This hook is being used in the following projects:</p>
<ul>
<li><a href="https://github.com/js-cookie/java-cookie">Java Cookie</a>.</li>
</ul>
</body>
</html>
