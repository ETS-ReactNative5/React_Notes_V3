<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>README</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<h1 id="xregexp-4.0.0">XRegExp 4.0.0</h1>
<p><a href="https://travis-ci.org/slevithan/xregexp"><img src="https://travis-ci.org/slevithan/xregexp.svg?branch=master" alt="Build Status" /></a></p>
<p>XRegExp provides augmented (and extensible) JavaScript regular expressions. You get modern syntax and flags beyond what browsers support natively. XRegExp is also a regex utility belt with tools to make your grepping and parsing easier, while freeing you from regex cross-browser inconsistencies and other annoyances.</p>
<p>XRegExp supports all native ES6 regular expression syntax. It supports ES5+ browsers, and you can use it with Node.js or as a RequireJS module.</p>
<h2 id="performance">Performance</h2>
<p>XRegExp compiles to native <code>RegExp</code> objects. Therefore regexes built with XRegExp perform just as fast as native regular expressions. There is a tiny extra cost when compiling a pattern for the first time.</p>
<h2 id="usage-examples">Usage examples</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="co">// Using named capture and flag x for free-spacing and line comments</span></a>
<a class="sourceLine" id="cb1-2" title="2"><span class="kw">const</span> date <span class="op">=</span> <span class="at">XRegExp</span>(</a>
<a class="sourceLine" id="cb1-3" title="3">    <span class="vs">`(?&lt;year&gt;  [0-9]{4} ) -?  # year</span></a>
<a class="sourceLine" id="cb1-4" title="4"><span class="vs">     (?&lt;month&gt; [0-9]{2} ) -?  # month</span></a>
<a class="sourceLine" id="cb1-5" title="5"><span class="vs">     (?&lt;day&gt;   [0-9]{2} )     # day`</span><span class="op">,</span> <span class="st">&#39;x&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-6" title="6"></a>
<a class="sourceLine" id="cb1-7" title="7"><span class="co">// XRegExp.exec gives you named backreferences on the match result</span></a>
<a class="sourceLine" id="cb1-8" title="8"><span class="kw">let</span> match <span class="op">=</span> <span class="va">XRegExp</span>.<span class="at">exec</span>(<span class="st">&#39;2017-02-22&#39;</span><span class="op">,</span> date)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-9" title="9"><span class="va">match</span>.<span class="at">year</span><span class="op">;</span> <span class="co">// -&gt; &#39;2017&#39;</span></a>
<a class="sourceLine" id="cb1-10" title="10"></a>
<a class="sourceLine" id="cb1-11" title="11"><span class="co">// It also includes optional pos and sticky arguments</span></a>
<a class="sourceLine" id="cb1-12" title="12"><span class="kw">let</span> pos <span class="op">=</span> <span class="dv">3</span><span class="op">;</span></a>
<a class="sourceLine" id="cb1-13" title="13"><span class="kw">const</span> result <span class="op">=</span> []<span class="op">;</span></a>
<a class="sourceLine" id="cb1-14" title="14"><span class="cf">while</span> (match <span class="op">=</span> <span class="va">XRegExp</span>.<span class="at">exec</span>(<span class="st">&#39;&lt;1&gt;&lt;2&gt;&lt;3&gt;4&lt;5&gt;&#39;</span><span class="op">,</span> <span class="ss">/&lt;</span><span class="sc">(\d+)</span><span class="ss">&gt;/</span><span class="op">,</span> pos<span class="op">,</span> <span class="st">&#39;sticky&#39;</span>)) <span class="op">{</span></a>
<a class="sourceLine" id="cb1-15" title="15">    <span class="va">result</span>.<span class="at">push</span>(match[<span class="dv">1</span>])<span class="op">;</span></a>
<a class="sourceLine" id="cb1-16" title="16">    pos <span class="op">=</span> <span class="va">match</span>.<span class="at">index</span> <span class="op">+</span> match[<span class="dv">0</span>].<span class="at">length</span><span class="op">;</span></a>
<a class="sourceLine" id="cb1-17" title="17"><span class="op">}</span></a>
<a class="sourceLine" id="cb1-18" title="18"><span class="co">// result -&gt; [&#39;2&#39;, &#39;3&#39;]</span></a>
<a class="sourceLine" id="cb1-19" title="19"></a>
<a class="sourceLine" id="cb1-20" title="20"><span class="co">// XRegExp.replace allows named backreferences in replacements</span></a>
<a class="sourceLine" id="cb1-21" title="21"><span class="va">XRegExp</span>.<span class="at">replace</span>(<span class="st">&#39;2017-02-22&#39;</span><span class="op">,</span> date<span class="op">,</span> <span class="st">&#39;$&lt;month&gt;/$&lt;day&gt;/$&lt;year&gt;&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-22" title="22"><span class="co">// -&gt; &#39;02/22/2017&#39;</span></a>
<a class="sourceLine" id="cb1-23" title="23"><span class="va">XRegExp</span>.<span class="at">replace</span>(<span class="st">&#39;2017-02-22&#39;</span><span class="op">,</span> date<span class="op">,</span> (match) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb1-24" title="24">    <span class="cf">return</span> <span class="vs">`</span><span class="sc">${</span><span class="va">match</span>.<span class="at">month</span><span class="sc">}</span><span class="vs">/</span><span class="sc">${</span><span class="va">match</span>.<span class="at">day</span><span class="sc">}</span><span class="vs">/</span><span class="sc">${</span><span class="va">match</span>.<span class="at">year</span><span class="sc">}</span><span class="vs">`</span><span class="op">;</span></a>
<a class="sourceLine" id="cb1-25" title="25"><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-26" title="26"><span class="co">// -&gt; &#39;02/22/2017&#39;</span></a>
<a class="sourceLine" id="cb1-27" title="27"></a>
<a class="sourceLine" id="cb1-28" title="28"><span class="co">// XRegExps compile to RegExps and work perfectly with native methods</span></a>
<a class="sourceLine" id="cb1-29" title="29"><span class="va">date</span>.<span class="at">test</span>(<span class="st">&#39;2017-02-22&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-30" title="30"><span class="co">// -&gt; true</span></a>
<a class="sourceLine" id="cb1-31" title="31"></a>
<a class="sourceLine" id="cb1-32" title="32"><span class="co">// The only caveat is that named captures must be referenced using</span></a>
<a class="sourceLine" id="cb1-33" title="33"><span class="co">// numbered backreferences if used with native methods</span></a>
<a class="sourceLine" id="cb1-34" title="34"><span class="st">&#39;2017-02-22&#39;</span>.<span class="at">replace</span>(date<span class="op">,</span> <span class="st">&#39;$2/$3/$1&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-35" title="35"><span class="co">// -&gt; &#39;02/22/2017&#39;</span></a>
<a class="sourceLine" id="cb1-36" title="36"></a>
<a class="sourceLine" id="cb1-37" title="37"><span class="co">// Use XRegExp.forEach to extract every other digit from a string</span></a>
<a class="sourceLine" id="cb1-38" title="38"><span class="kw">const</span> evens <span class="op">=</span> []<span class="op">;</span></a>
<a class="sourceLine" id="cb1-39" title="39"><span class="va">XRegExp</span>.<span class="at">forEach</span>(<span class="st">&#39;1a2345&#39;</span><span class="op">,</span> <span class="ss">/</span><span class="sc">\d</span><span class="ss">/</span><span class="op">,</span> (match<span class="op">,</span> i) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb1-40" title="40">    <span class="cf">if</span> (i <span class="op">%</span> <span class="dv">2</span>) <span class="va">evens</span>.<span class="at">push</span>(<span class="op">+</span>match[<span class="dv">0</span>])<span class="op">;</span></a>
<a class="sourceLine" id="cb1-41" title="41"><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-42" title="42"><span class="co">// evens -&gt; [2, 4]</span></a>
<a class="sourceLine" id="cb1-43" title="43"></a>
<a class="sourceLine" id="cb1-44" title="44"><span class="co">// Use XRegExp.matchChain to get numbers within &lt;b&gt; tags</span></a>
<a class="sourceLine" id="cb1-45" title="45"><span class="va">XRegExp</span>.<span class="at">matchChain</span>(<span class="st">&#39;1 &lt;b&gt;2&lt;/b&gt; 3 &lt;B&gt;4 </span><span class="sc">\n</span><span class="st"> 56&lt;/B&gt;&#39;</span><span class="op">,</span> [</a>
<a class="sourceLine" id="cb1-46" title="46">    <span class="at">XRegExp</span>(<span class="st">&#39;(?is)&lt;b&gt;.*?&lt;/b&gt;&#39;</span>)<span class="op">,</span></a>
<a class="sourceLine" id="cb1-47" title="47">    <span class="ss">/</span><span class="sc">\d+</span><span class="ss">/</span></a>
<a class="sourceLine" id="cb1-48" title="48">])<span class="op">;</span></a>
<a class="sourceLine" id="cb1-49" title="49"><span class="co">// -&gt; [&#39;2&#39;, &#39;4&#39;, &#39;56&#39;]</span></a>
<a class="sourceLine" id="cb1-50" title="50"></a>
<a class="sourceLine" id="cb1-51" title="51"><span class="co">// You can also pass forward and return specific backreferences</span></a>
<a class="sourceLine" id="cb1-52" title="52"><span class="kw">const</span> html <span class="op">=</span></a>
<a class="sourceLine" id="cb1-53" title="53">    <span class="vs">`&lt;a href=&quot;http://xregexp.com/&quot;&gt;XRegExp&lt;/a&gt;</span></a>
<a class="sourceLine" id="cb1-54" title="54"><span class="vs">     &lt;a href=&quot;http://www.google.com/&quot;&gt;Google&lt;/a&gt;`</span><span class="op">;</span></a>
<a class="sourceLine" id="cb1-55" title="55"><span class="va">XRegExp</span>.<span class="at">matchChain</span>(html<span class="op">,</span> [</a>
<a class="sourceLine" id="cb1-56" title="56">    <span class="op">{</span><span class="dt">regex</span><span class="op">:</span> <span class="ss">/&lt;a href=&quot;</span><span class="sc">([^&quot;]+)</span><span class="ss">&quot;&gt;/i</span><span class="op">,</span> <span class="dt">backref</span><span class="op">:</span> <span class="dv">1</span><span class="op">},</span></a>
<a class="sourceLine" id="cb1-57" title="57">    <span class="op">{</span><span class="dt">regex</span><span class="op">:</span> <span class="at">XRegExp</span>(<span class="st">&#39;(?i)^https?://(?&lt;domain&gt;[^/?#]+)&#39;</span>)<span class="op">,</span> <span class="dt">backref</span><span class="op">:</span> <span class="st">&#39;domain&#39;</span><span class="op">}</span></a>
<a class="sourceLine" id="cb1-58" title="58">])<span class="op">;</span></a>
<a class="sourceLine" id="cb1-59" title="59"><span class="co">// -&gt; [&#39;xregexp.com&#39;, &#39;www.google.com&#39;]</span></a>
<a class="sourceLine" id="cb1-60" title="60"></a>
<a class="sourceLine" id="cb1-61" title="61"><span class="co">// Merge strings and regexes, with updated backreferences</span></a>
<a class="sourceLine" id="cb1-62" title="62"><span class="va">XRegExp</span>.<span class="at">union</span>([<span class="st">&#39;m+a*n&#39;</span><span class="op">,</span> <span class="ss">/</span><span class="sc">(</span><span class="ss">bear</span><span class="sc">)\1</span><span class="ss">/</span><span class="op">,</span> <span class="ss">/</span><span class="sc">(</span><span class="ss">pig</span><span class="sc">)\1</span><span class="ss">/</span>]<span class="op">,</span> <span class="st">&#39;i&#39;</span><span class="op">,</span> <span class="op">{</span><span class="dt">conjunction</span><span class="op">:</span> <span class="st">&#39;or&#39;</span><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-63" title="63"><span class="co">// -&gt; /m\+a\*n|(bear)\1|(pig)\2/i</span></a></code></pre></div>
<p>These examples give the flavor of what’s possible, but XRegExp has more syntax, flags, methods, options, and browser fixes that aren’t shown here. You can also augment XRegExp’s regular expression syntax with addons (see below) or write your own. See <a href="http://xregexp.com/">xregexp.com</a> for details.</p>
<h2 id="addons">Addons</h2>
<p>You can either load addons individually, or bundle all addons with XRegExp by loading <code>xregexp-all.js</code> from https://unpkg.com/xregexp/xregexp-all.js.</p>
<h3 id="unicode">Unicode</h3>
<p>If not using <code>xregexp-all.js</code>, first include the Unicode Base script and then one or more of the addons for Unicode blocks, categories, properties, or scripts.</p>
<p>Then you can do this:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="co">// Test the Unicode category L (Letter)</span></a>
<a class="sourceLine" id="cb2-2" title="2"><span class="kw">const</span> unicodeWord <span class="op">=</span> <span class="at">XRegExp</span>(<span class="st">&#39;^</span><span class="sc">\\</span><span class="st">pL+$&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-3" title="3"><span class="va">unicodeWord</span>.<span class="at">test</span>(<span class="st">&#39;Русский&#39;</span>)<span class="op">;</span> <span class="co">// -&gt; true</span></a>
<a class="sourceLine" id="cb2-4" title="4"><span class="va">unicodeWord</span>.<span class="at">test</span>(<span class="st">&#39;日本語&#39;</span>)<span class="op">;</span> <span class="co">// -&gt; true</span></a>
<a class="sourceLine" id="cb2-5" title="5"><span class="va">unicodeWord</span>.<span class="at">test</span>(<span class="st">&#39;العربية&#39;</span>)<span class="op">;</span> <span class="co">// -&gt; true</span></a>
<a class="sourceLine" id="cb2-6" title="6"></a>
<a class="sourceLine" id="cb2-7" title="7"><span class="co">// Test some Unicode scripts</span></a>
<a class="sourceLine" id="cb2-8" title="8"><span class="at">XRegExp</span>(<span class="st">&#39;^</span><span class="sc">\\</span><span class="st">p{Hiragana}+$&#39;</span>).<span class="at">test</span>(<span class="st">&#39;ひらがな&#39;</span>)<span class="op">;</span> <span class="co">// -&gt; true</span></a>
<a class="sourceLine" id="cb2-9" title="9"><span class="at">XRegExp</span>(<span class="st">&#39;^[</span><span class="sc">\\</span><span class="st">p{Latin}</span><span class="sc">\\</span><span class="st">p{Common}]+$&#39;</span>).<span class="at">test</span>(<span class="st">&#39;Über Café.&#39;</span>)<span class="op">;</span> <span class="co">// -&gt; true</span></a></code></pre></div>
<p>By default, <code>\p{…}</code> and <code>\P{…}</code> support the Basic Multilingual Plane (i.e. code points up to <code>U+FFFF</code>). You can opt-in to full 21-bit Unicode support (with code points up to <code>U+10FFFF</code>) on a per-regex basis by using flag <code>A</code>. This is called <em>astral mode</em>. You can automatically add flag <code>A</code> for all new regexes by running <code>XRegExp.install('astral')</code>. When in astral mode, <code>\p{…}</code> and <code>\P{…}</code> always match a full code point rather than a code unit, using surrogate pairs for code points above <code>U+FFFF</code>.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="co">// Using flag A to match astral code points</span></a>
<a class="sourceLine" id="cb3-2" title="2"><span class="at">XRegExp</span>(<span class="st">&#39;^</span><span class="sc">\\</span><span class="st">pS$&#39;</span>).<span class="at">test</span>(<span class="st">&#39;💩&#39;</span>)<span class="op">;</span> <span class="co">// -&gt; false</span></a>
<a class="sourceLine" id="cb3-3" title="3"><span class="at">XRegExp</span>(<span class="st">&#39;^</span><span class="sc">\\</span><span class="st">pS$&#39;</span><span class="op">,</span> <span class="st">&#39;A&#39;</span>).<span class="at">test</span>(<span class="st">&#39;💩&#39;</span>)<span class="op">;</span> <span class="co">// -&gt; true</span></a>
<a class="sourceLine" id="cb3-4" title="4"><span class="at">XRegExp</span>(<span class="st">&#39;(?A)^</span><span class="sc">\\</span><span class="st">pS$&#39;</span>).<span class="at">test</span>(<span class="st">&#39;💩&#39;</span>)<span class="op">;</span> <span class="co">// -&gt; true</span></a>
<a class="sourceLine" id="cb3-5" title="5"><span class="co">// Using surrogate pair U+D83D U+DCA9 to represent U+1F4A9 (pile of poo)</span></a>
<a class="sourceLine" id="cb3-6" title="6"><span class="at">XRegExp</span>(<span class="st">&#39;(?A)^</span><span class="sc">\\</span><span class="st">pS$&#39;</span>).<span class="at">test</span>(<span class="st">&#39;</span><span class="sc">\uD83D\uDCA9</span><span class="st">&#39;</span>)<span class="op">;</span> <span class="co">// -&gt; true</span></a>
<a class="sourceLine" id="cb3-7" title="7"></a>
<a class="sourceLine" id="cb3-8" title="8"><span class="co">// Implicit flag A</span></a>
<a class="sourceLine" id="cb3-9" title="9"><span class="va">XRegExp</span>.<span class="at">install</span>(<span class="st">&#39;astral&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-10" title="10"><span class="at">XRegExp</span>(<span class="st">&#39;^</span><span class="sc">\\</span><span class="st">pS$&#39;</span>).<span class="at">test</span>(<span class="st">&#39;💩&#39;</span>)<span class="op">;</span> <span class="co">// -&gt; true</span></a></code></pre></div>
<p>Opting in to astral mode disables the use of <code>\p{…}</code> and <code>\P{…}</code> within character classes. In astral mode, use e.g. <code>(\pL|[0-9_])+</code> instead of <code>[\pL0-9_]+</code>.</p>
<p>XRegExp uses Unicode 9.0.0.</p>
<h3 id="xregexp.build">XRegExp.build</h3>
<p>Build regular expressions using named subpatterns, for readability and pattern reuse:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1"><span class="kw">const</span> time <span class="op">=</span> <span class="va">XRegExp</span>.<span class="at">build</span>(<span class="st">&#39;(?x)^ {{hours}} ({{minutes}}) $&#39;</span><span class="op">,</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb4-2" title="2">    <span class="dt">hours</span><span class="op">:</span> <span class="va">XRegExp</span>.<span class="at">build</span>(<span class="st">&#39;{{h12}} : | {{h24}}&#39;</span><span class="op">,</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb4-3" title="3">        <span class="dt">h12</span><span class="op">:</span> <span class="ss">/1</span><span class="sc">[0-2]|</span><span class="ss">0</span><span class="sc">?[1-9]</span><span class="ss">/</span><span class="op">,</span></a>
<a class="sourceLine" id="cb4-4" title="4">        <span class="dt">h24</span><span class="op">:</span> <span class="ss">/2</span><span class="sc">[0-3]|[01][0-9]</span><span class="ss">/</span></a>
<a class="sourceLine" id="cb4-5" title="5">    <span class="op">}</span>)<span class="op">,</span></a>
<a class="sourceLine" id="cb4-6" title="6">    minutes<span class="op">:</span> <span class="ss">/</span><span class="sc">^[0-5][0-9]$</span><span class="ss">/</span></a>
<a class="sourceLine" id="cb4-7" title="7">})<span class="op">;</span></a>
<a class="sourceLine" id="cb4-8" title="8"></a>
<a class="sourceLine" id="cb4-9" title="9"><span class="va">time</span>.<span class="at">test</span>(<span class="st">&#39;10:59&#39;</span>)<span class="op">;</span> <span class="co">// -&gt; true</span></a>
<a class="sourceLine" id="cb4-10" title="10"><span class="va">XRegExp</span>.<span class="at">exec</span>(<span class="st">&#39;10:59&#39;</span><span class="op">,</span> time).<span class="at">minutes</span><span class="op">;</span> <span class="co">// -&gt; &#39;59&#39;</span></a></code></pre></div>
<p>Named subpatterns can be provided as strings or regex objects. A leading <code>^</code> and trailing unescaped <code>$</code> are stripped from subpatterns if both are present, which allows embedding independently-useful anchored patterns. <code>{{…}}</code> tokens can be quantified as a single unit. Any backreferences in the outer pattern or provided subpatterns are automatically renumbered to work correctly within the larger combined pattern. The syntax <code>({{name}})</code> works as shorthand for named capture via <code>(?&lt;name&gt;{{name}})</code>. Named subpatterns cannot be embedded within character classes.</p>
<h4 id="xregexp.tag-included-with-xregexp.build">XRegExp.tag (included with XRegExp.build)</h4>
<p>Provides tagged template literals that create regexes with XRegExp syntax and flags:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb5-1" title="1"><span class="kw">const</span> h12 <span class="op">=</span> <span class="ss">/1</span><span class="sc">[0-2]|</span><span class="ss">0</span><span class="sc">?[1-9]</span><span class="ss">/</span><span class="op">;</span></a>
<a class="sourceLine" id="cb5-2" title="2"><span class="kw">const</span> h24 <span class="op">=</span> <span class="ss">/2</span><span class="sc">[0-3]|[01][0-9]</span><span class="ss">/</span><span class="op">;</span></a>
<a class="sourceLine" id="cb5-3" title="3"><span class="kw">const</span> hours <span class="op">=</span> <span class="va">XRegExp</span>.<span class="at">tag</span>(<span class="st">&#39;x&#39;</span>)<span class="vs">`</span><span class="sc">${</span>h12<span class="sc">}</span><span class="vs"> : | </span><span class="sc">${</span>h24<span class="sc">}</span><span class="vs">`</span><span class="op">;</span></a>
<a class="sourceLine" id="cb5-4" title="4"><span class="kw">const</span> minutes <span class="op">=</span> <span class="ss">/</span><span class="sc">^[0-5][0-9]$</span><span class="ss">/</span><span class="op">;</span></a>
<a class="sourceLine" id="cb5-5" title="5"><span class="co">// Note that explicitly naming the &#39;minutes&#39; group is required for named backreferences</span></a>
<a class="sourceLine" id="cb5-6" title="6"><span class="kw">const</span> time <span class="op">=</span> <span class="va">XRegExp</span>.<span class="at">tag</span>(<span class="st">&#39;x&#39;</span>)<span class="vs">`^ </span><span class="sc">${</span>hours<span class="sc">}</span><span class="vs"> (?&lt;minutes&gt;</span><span class="sc">${</span>minutes<span class="sc">}</span><span class="vs">) $`</span><span class="op">;</span></a>
<a class="sourceLine" id="cb5-7" title="7"><span class="va">time</span>.<span class="at">test</span>(<span class="st">&#39;10:59&#39;</span>)<span class="op">;</span> <span class="co">// -&gt; true</span></a>
<a class="sourceLine" id="cb5-8" title="8"><span class="va">XRegExp</span>.<span class="at">exec</span>(<span class="st">&#39;10:59&#39;</span><span class="op">,</span> time).<span class="at">minutes</span><span class="op">;</span> <span class="co">// -&gt; &#39;59&#39;</span></a></code></pre></div>
<p>XRegExp.tag does more than just basic interpolation. For starters, you get all the XRegExp syntax and flags. Even better, since <code>XRegExp.tag</code> uses your pattern as a raw string, you no longer need to escape all your backslashes. And since it relies on <code>XRegExp.build</code> under the hood, you get all of its extras for free. Leading <code>^</code> and trailing unescaped <code>$</code> are stripped from interpolated patterns if both are present (to allow embedding independently useful anchored regexes), interpolating into a character class is an error (to avoid unintended meaning in edge cases), interpolated patterns are treated as atomic units when quantified, interpolated strings have their special characters escaped, and any backreferences within an interpolated regex are rewritten to work within the overall pattern.</p>
<h3 id="xregexp.matchrecursive">XRegExp.matchRecursive</h3>
<p>Match recursive constructs using XRegExp pattern strings as left and right delimiters:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb6-1" title="1"><span class="kw">const</span> str1 <span class="op">=</span> <span class="st">&#39;(t((e))s)t()(ing)&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb6-2" title="2"><span class="va">XRegExp</span>.<span class="at">matchRecursive</span>(str1<span class="op">,</span> <span class="st">&#39;</span><span class="sc">\\</span><span class="st">(&#39;</span><span class="op">,</span> <span class="st">&#39;</span><span class="sc">\\</span><span class="st">)&#39;</span><span class="op">,</span> <span class="st">&#39;g&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb6-3" title="3"><span class="co">// -&gt; [&#39;t((e))s&#39;, &#39;&#39;, &#39;ing&#39;]</span></a>
<a class="sourceLine" id="cb6-4" title="4"></a>
<a class="sourceLine" id="cb6-5" title="5"><span class="co">// Extended information mode with valueNames</span></a>
<a class="sourceLine" id="cb6-6" title="6"><span class="kw">const</span> str2 <span class="op">=</span> <span class="st">&#39;Here is &lt;div&gt; &lt;div&gt;an&lt;/div&gt;&lt;/div&gt; example&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb6-7" title="7"><span class="va">XRegExp</span>.<span class="at">matchRecursive</span>(str2<span class="op">,</span> <span class="st">&#39;&lt;div</span><span class="sc">\\</span><span class="st">s*&gt;&#39;</span><span class="op">,</span> <span class="st">&#39;&lt;/div&gt;&#39;</span><span class="op">,</span> <span class="st">&#39;gi&#39;</span><span class="op">,</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb6-8" title="8">    <span class="dt">valueNames</span><span class="op">:</span> [<span class="st">&#39;between&#39;</span><span class="op">,</span> <span class="st">&#39;left&#39;</span><span class="op">,</span> <span class="st">&#39;match&#39;</span><span class="op">,</span> <span class="st">&#39;right&#39;</span>]</a>
<a class="sourceLine" id="cb6-9" title="9"><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb6-10" title="10"><span class="co">/* -&gt; [</span></a>
<a class="sourceLine" id="cb6-11" title="11"><span class="co">{name: &#39;between&#39;, value: &#39;Here is &#39;,       start: 0,  end: 8},</span></a>
<a class="sourceLine" id="cb6-12" title="12"><span class="co">{name: &#39;left&#39;,    value: &#39;&lt;div&gt;&#39;,          start: 8,  end: 13},</span></a>
<a class="sourceLine" id="cb6-13" title="13"><span class="co">{name: &#39;match&#39;,   value: &#39; &lt;div&gt;an&lt;/div&gt;&#39;, start: 13, end: 27},</span></a>
<a class="sourceLine" id="cb6-14" title="14"><span class="co">{name: &#39;right&#39;,   value: &#39;&lt;/div&gt;&#39;,         start: 27, end: 33},</span></a>
<a class="sourceLine" id="cb6-15" title="15"><span class="co">{name: &#39;between&#39;, value: &#39; example&#39;,       start: 33, end: 41}</span></a>
<a class="sourceLine" id="cb6-16" title="16"><span class="co">] */</span></a>
<a class="sourceLine" id="cb6-17" title="17"></a>
<a class="sourceLine" id="cb6-18" title="18"><span class="co">// Omitting unneeded parts with null valueNames, and using escapeChar</span></a>
<a class="sourceLine" id="cb6-19" title="19"><span class="kw">const</span> str3 <span class="op">=</span> <span class="st">&#39;...{1}.</span><span class="sc">\\</span><span class="st">{{function(x,y){return {y:x}}}&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb6-20" title="20"><span class="va">XRegExp</span>.<span class="at">matchRecursive</span>(str3<span class="op">,</span> <span class="st">&#39;{&#39;</span><span class="op">,</span> <span class="st">&#39;}&#39;</span><span class="op">,</span> <span class="st">&#39;g&#39;</span><span class="op">,</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb6-21" title="21">    <span class="dt">valueNames</span><span class="op">:</span> [<span class="st">&#39;literal&#39;</span><span class="op">,</span> <span class="kw">null</span><span class="op">,</span> <span class="st">&#39;value&#39;</span><span class="op">,</span> <span class="kw">null</span>]<span class="op">,</span></a>
<a class="sourceLine" id="cb6-22" title="22">    <span class="dt">escapeChar</span><span class="op">:</span> <span class="st">&#39;</span><span class="sc">\\</span><span class="st">&#39;</span></a>
<a class="sourceLine" id="cb6-23" title="23"><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb6-24" title="24"><span class="co">/* -&gt; [</span></a>
<a class="sourceLine" id="cb6-25" title="25"><span class="co">{name: &#39;literal&#39;, value: &#39;...&#39;,  start: 0, end: 3},</span></a>
<a class="sourceLine" id="cb6-26" title="26"><span class="co">{name: &#39;value&#39;,   value: &#39;1&#39;,    start: 4, end: 5},</span></a>
<a class="sourceLine" id="cb6-27" title="27"><span class="co">{name: &#39;literal&#39;, value: &#39;.\\{&#39;, start: 6, end: 9},</span></a>
<a class="sourceLine" id="cb6-28" title="28"><span class="co">{name: &#39;value&#39;,   value: &#39;function(x,y){return {y:x}}&#39;, start: 10, end: 37}</span></a>
<a class="sourceLine" id="cb6-29" title="29"><span class="co">] */</span></a>
<a class="sourceLine" id="cb6-30" title="30"></a>
<a class="sourceLine" id="cb6-31" title="31"><span class="co">// Sticky mode via flag y</span></a>
<a class="sourceLine" id="cb6-32" title="32"><span class="kw">const</span> str4 <span class="op">=</span> <span class="st">&#39;&lt;1&gt;&lt;&lt;&lt;2&gt;&gt;&gt;&lt;3&gt;4&lt;5&gt;&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb6-33" title="33"><span class="va">XRegExp</span>.<span class="at">matchRecursive</span>(str4<span class="op">,</span> <span class="st">&#39;&lt;&#39;</span><span class="op">,</span> <span class="st">&#39;&gt;&#39;</span><span class="op">,</span> <span class="st">&#39;gy&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb6-34" title="34"><span class="co">// -&gt; [&#39;1&#39;, &#39;&lt;&lt;2&gt;&gt;&#39;, &#39;3&#39;]</span></a></code></pre></div>
<p><code>XRegExp.matchRecursive</code> throws an error if it scans past an unbalanced delimiter in the target string.</p>
<h2 id="installation-and-usage">Installation and usage</h2>
<p>In browsers (bundle XRegExp with all of its addons):</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb7-1" title="1"><span class="kw">&lt;script</span><span class="ot"> src=</span><span class="st">&quot;https://unpkg.com/xregexp/xregexp-all.js&quot;</span><span class="kw">&gt;&lt;/script&gt;</span></a></code></pre></div>
<p>Using <a href="https://www.npmjs.com/">npm</a>:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb8-1" title="1"><span class="ex">npm</span> install xregexp</a></code></pre></div>
<p>In <a href="http://nodejs.org/">Node.js</a>:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb9-1" title="1"><span class="kw">const</span> XRegExp <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;xregexp&#39;</span>)<span class="op">;</span></a></code></pre></div>
<p>In an AMD loader like <a href="http://requirejs.org/">RequireJS</a>:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb10-1" title="1"><span class="at">require</span>(<span class="op">{</span><span class="dt">paths</span><span class="op">:</span> <span class="op">{</span><span class="dt">xregexp</span><span class="op">:</span> <span class="st">&#39;xregexp-all&#39;</span><span class="op">}},</span> [<span class="st">&#39;xregexp&#39;</span>]<span class="op">,</span> (XRegExp) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb10-2" title="2">    <span class="va">console</span>.<span class="at">log</span>(<span class="va">XRegExp</span>.<span class="at">version</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb10-3" title="3"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<h2 id="about">About</h2>
<p>XRegExp copyright 2007-2017 by <a href="http://stevenlevithan.com/">Steven Levithan</a>. Unicode data generators by <a href="http://mathiasbynens.be/">Mathias Bynens</a>, adapted from <a href="http://git.io/unicode">unicode-data</a>. XRegExp’s syntax extensions and flags come from <a href="http://www.perl.org/">Perl</a>, <a href="http://www.microsoft.com/net">.NET</a>, etc.</p>
<p>All code, including addons, tools, and tests, is released under the terms of the <a href="http://mit-license.org/">MIT License</a>.</p>
<p>Learn more at <a href="http://xregexp.com/">xregexp.com</a>.</p>
</body>
</html>
