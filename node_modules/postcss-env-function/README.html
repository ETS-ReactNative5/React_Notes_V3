<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>README</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<h1 id="postcss-environment-variables-postcss">PostCSS Environment Variables <a href="https://github.com/postcss/postcss"><img src="https://postcss.github.io/postcss/logo.svg" alt="PostCSS Logo" width="90" height="90" align="right"></a></h1>
<p><a href="https://www.npmjs.com/package/postcss-env-function"><img src="https://img.shields.io/npm/v/postcss-env-function.svg" alt="NPM Version" /></a> <a href="https://cssdb.org/#environment-variables"><img src="https://cssdb.org/badge/environment-variables.svg" alt="CSS Standard Status" /></a> <a href="https://travis-ci.org/jonathantneal/postcss-env-function"><img src="https://img.shields.io/travis/jonathantneal/postcss-env-function.svg" alt="Build Status" /></a> <a href="https://gitter.im/postcss/postcss"><img src="https://img.shields.io/badge/support-chat-blue.svg" alt="Support Chat" /></a></p>
<p><a href="https://github.com/jonathantneal/postcss-env-function">PostCSS Environment Variables</a> lets you use <code>env()</code> variables in CSS, following the <a href="https://drafts.csswg.org/css-env-1/">CSS Environment Variables</a> specification.</p>
<pre class="pcss"><code>@media (max-width: env(--branding-small)) {
  body {
    padding: env(--branding-padding);
  }
}

/* becomes */

@media (min-width: 600px) {
  body {
    padding: 20px;
  }
}

/* when the `importFrom` option is: {
  &quot;environmentVariables&quot;: {
    &quot;--branding-small&quot;: &quot;600px&quot;,
    &quot;--branding-padding&quot;: &quot;20px&quot;
  }
} */</code></pre>
<h2 id="usage">Usage</h2>
<p>Add <a href="https://github.com/jonathantneal/postcss-env-function">PostCSS Environment Variables</a> to your project:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb2-1" title="1"><span class="ex">npm</span> install postcss-env-function --save-dev</a></code></pre></div>
<p>Use <a href="https://github.com/jonathantneal/postcss-env-function">PostCSS Environment Variables</a> to process your CSS:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="kw">const</span> postcssEnvFunction <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;postcss-env-function&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-2" title="2"></a>
<a class="sourceLine" id="cb3-3" title="3"><span class="va">postcssEnvFunction</span>.<span class="at">process</span>(YOUR_CSS <span class="co">/*, processOptions, pluginOptions */</span>)<span class="op">;</span></a></code></pre></div>
<p>Or use it as a <a href="https://github.com/postcss/postcss">PostCSS</a> plugin:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1"><span class="kw">const</span> postcss <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;postcss&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-2" title="2"><span class="kw">const</span> postcssEnvFunction <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;postcss-env-function&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-3" title="3"></a>
<a class="sourceLine" id="cb4-4" title="4"><span class="at">postcss</span>([</a>
<a class="sourceLine" id="cb4-5" title="5">  <span class="at">postcssEnvFunction</span>(<span class="co">/* pluginOptions */</span>)</a>
<a class="sourceLine" id="cb4-6" title="6">]).<span class="at">process</span>(YOUR_CSS <span class="co">/*, processOptions */</span>)<span class="op">;</span></a></code></pre></div>
<p><a href="https://github.com/jonathantneal/postcss-env-function">PostCSS Environment Variables</a> runs in all Node environments, with special instructions for:</p>
<table>
<thead>
<tr class="header">
<th><a href="INSTALL.md#node">Node</a></th>
<th><a href="INSTALL.md#postcss-cli">PostCSS CLI</a></th>
<th><a href="INSTALL.md#webpack">Webpack</a></th>
<th><a href="INSTALL.md#create-react-app">Create React App</a></th>
<th><a href="INSTALL.md#gulp">Gulp</a></th>
<th><a href="INSTALL.md#grunt">Grunt</a></th>
</tr>
</thead>
<tbody>
</tbody>
</table>
<h2 id="options">Options</h2>
<h3 id="importfrom">importFrom</h3>
<p>The <code>importFrom</code> option specifies sources where Environment Variables can be imported from, which might be JS and JSON files, functions, and directly passed objects.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb5-1" title="1"><span class="at">postcssCustomProperties</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb5-2" title="2">  <span class="dt">importFrom</span><span class="op">:</span> <span class="st">&#39;path/to/file.js&#39;</span> <span class="co">/* module.exports = {</span></a>
<a class="sourceLine" id="cb5-3" title="3"><span class="co">      environmentVariables: {</span></a>
<a class="sourceLine" id="cb5-4" title="4"><span class="co">        &#39;--branding-padding&#39;: &#39;20px&#39;,</span></a>
<a class="sourceLine" id="cb5-5" title="5"><span class="co">        &#39;--branding-small&#39;: &#39;600px&#39;</span></a>
<a class="sourceLine" id="cb5-6" title="6"><span class="co">      }</span></a>
<a class="sourceLine" id="cb5-7" title="7"><span class="co">    } */</span></a>
<a class="sourceLine" id="cb5-8" title="8"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<pre class="pcss"><code>@media (max-width: env(--branding-small)) {
  body {
    padding: env(--branding-padding);
  }
}

/* becomes */

@media (min-width: 600px) {
  body {
    padding: 20px;
  }
}</code></pre>
<p>Multiple sources can be passed into this option, and they will be parsed in the order they are received. JavaScript files, JSON files, functions, and objects will need to namespace Custom Properties using the <code>environmentVariables</code> or <code>variables-variables</code> key.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb7-1" title="1"><span class="at">postcssCustomProperties</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb7-2" title="2">  <span class="dt">importFrom</span><span class="op">:</span> [</a>
<a class="sourceLine" id="cb7-3" title="3">    <span class="st">&#39;path/to/file.js&#39;</span><span class="op">,</span> <span class="co">// module.exports = { environmentVariables: { &#39;--branding-padding&#39;: &#39;20px&#39; } }</span></a>
<a class="sourceLine" id="cb7-4" title="4">    <span class="st">&#39;and/then/this.json&#39;</span><span class="op">,</span> <span class="co">// { &quot;environment-variables&quot;: { &quot;--branding-padding&quot;: &quot;20px&quot; } }</span></a>
<a class="sourceLine" id="cb7-5" title="5">    <span class="op">{</span></a>
<a class="sourceLine" id="cb7-6" title="6">      <span class="dt">environmentVariables</span><span class="op">:</span> <span class="op">{</span> <span class="st">&#39;--branding-padding&#39;</span><span class="op">:</span> <span class="st">&#39;20px&#39;</span> <span class="op">}</span></a>
<a class="sourceLine" id="cb7-7" title="7">    <span class="op">},</span></a>
<a class="sourceLine" id="cb7-8" title="8">    () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb7-9" title="9">      <span class="kw">const</span> environmentVariables <span class="op">=</span> <span class="op">{</span> <span class="st">&#39;--branding-padding&#39;</span><span class="op">:</span> <span class="st">&#39;20px&#39;</span> <span class="op">};</span></a>
<a class="sourceLine" id="cb7-10" title="10"></a>
<a class="sourceLine" id="cb7-11" title="11">      <span class="cf">return</span> <span class="op">{</span> environmentVariables <span class="op">};</span></a>
<a class="sourceLine" id="cb7-12" title="12">    <span class="op">}</span></a>
<a class="sourceLine" id="cb7-13" title="13">  ]</a>
<a class="sourceLine" id="cb7-14" title="14"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>See example imports written in <a href="test/import-variables.js">JS</a> and <a href="test/import-variables.json">JSON</a>.</p>
</body>
</html>
