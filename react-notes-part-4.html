<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>react-notes-part-4</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
</head>
<body>
<h1 id="react-notes-part-4">React Notes Part 4</h1>
<h2 id="basic-react-objectives">Basic React Objectives</h2>
<p>Learning React can seem daunting. The documentation available on the main site is geared toward people who have a lot of experience creating front-end applications. The basic React objectives gets you over that hump. At the end of the lessons, you should be able to:</p>
<ul>
<li>Explain how React uses a tree data structure called the “virtual DOM” to model the DOM</li>
<li>Use <code>React.createElement</code> to create virtual DOM nodes</li>
<li>Use <code>ReactDOM.render</code> to have React render your virtual DOM nodes into the actual Web page</li>
<li>Use JSX to create virtual DOM nodes</li>
<li>Describe how JSX transforms into <code>React.createElement</code> calls</li>
<li>Use <code>Array#map</code> to create an array of virtual DOM nodes while specifying a unique key for each created virtual DOM node</li>
</ul>
<h2 id="from-javascript-to-dom">From JavaScript To DOM</h2>
<p>The path from JavaScript to actual DOM elements appearing in your HTML document is not complex thanks to React. However, it is worth reviewing so that there is no mystery about it.</p>
<p>In this article, you will review how to use <code>React.createElement</code> to get what you want into React’s virtual DOM so that React will convert into real DOM. There are three steps:</p>
<ul>
<li>Invoking <code>createElement</code> to build the “element tree”</li>
<li>Invoking <code>render</code> to let React build its virtual DOM</li>
<li>“Waiting” for React to convert its virtual DOM into real DOM</li>
</ul>
<p>This article’s goal is for React to create the following HTML in the DOM.</p>
<pre class="text"><code>&lt;ul&gt;
  &lt;li class=&quot;selected&quot;&gt;
    &lt;a href=&quot;/pets&quot;&gt;Pets&lt;/a&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;a href=&quot;/owners&quot;&gt;Owners&lt;/a&gt;
  &lt;/li&gt;
&lt;/ul&gt;</code></pre>
<h3 id="using-react">Using React</h3>
<p>There is one method to consider when building interfaces using low-level React. From the <a href="https://reactjs.org/docs/react-api.html#createelement">documentation</a>, the <code>React.createElement</code> function has the following form:</p>
<pre class="text"><code>React.createElement(
  type,
  [props],
  [...children]
)</code></pre>
<p>The arguments for it are</p>
<ul>
<li><strong>type</strong>: the type of element to create, either a string for an HTML element, or a reference to a function or class that is a React component</li>
<li><strong>props</strong>: an object that contains data to render the element, either data to dynamically show or attributes to put on the element in the HTML</li>
<li><strong>children</strong>: the children of the element, as many as you want</li>
</ul>
<h3 id="creating-elements">Creating elements</h3>
<p>For each tag that you want to create with React, you will make a call to <code>React.createElement</code>. In the HTML above, there are five tags to create:</p>
<ul>
<li>One <code>ul</code> element</li>
<li>Two <code>li</code> elements</li>
<li>Two <code>a</code> elements</li>
</ul>
<p>Three of those tags have attributes that you want to have appear in the DOM:</p>
<ul>
<li>One <code>li</code> element has a “class” attribute (which you <em>must</em> translate to “className” when using in React)</li>
<li>Both <code>a</code> elements have “href” attributes</li>
</ul>
<p>Finally, there is a parent-child relationship between the elements.</p>
<ul>
<li>The <code>ul</code> element is the parent of both <code>li</code> elements</li>
<li>Both <code>li</code> elements have a single <code>a</code> element child</li>
<li>Both <code>a</code> elements have “child” text content</li>
</ul>
<p>To summarize, here are the elements and how you would translate them to their respective arguments for <code>React.createElement</code>.</p>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">HTML snippet</th>
<th style="text-align: left;">type</th>
<th style="text-align: left;">props</th>
<th style="text-align: left;">children</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>&lt;ul&gt;...&lt;/ul&gt;</code></td>
<td style="text-align: left;"><code>'ul'</code></td>
<td style="text-align: left;"><code>null</code></td>
<td style="text-align: left;">Two calls to <code>React.createElement</code>, one for each <code>li</code> child</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>&lt;li class="selected"&gt;...&lt;/li&gt;</code></td>
<td style="text-align: left;"><code>'li'</code></td>
<td style="text-align: left;"><code>{ className: 'selected' }</code></td>
<td style="text-align: left;">One call to <code>React.createElement</code> for the <code>a</code> child</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>&lt;li&gt;...&lt;/li&gt;</code></td>
<td style="text-align: left;"><code>'li'</code></td>
<td style="text-align: left;"><code>null</code></td>
<td style="text-align: left;">One call to <code>React.createElement</code> for the <code>a</code> child</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>&lt;a href="/pets"&gt;Pets&lt;/a&gt;</code></td>
<td style="text-align: left;"><code>'a'</code></td>
<td style="text-align: left;"><code>{ href: '/pets' }</code></td>
<td style="text-align: left;">The string <code>'Pets'</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>&lt;a href="/owners"&gt;Owners&lt;/a&gt;</code></td>
<td style="text-align: left;"><code>'a'</code></td>
<td style="text-align: left;"><code>{ href: '/owners' }</code></td>
<td style="text-align: left;">The string <code>'Owners'</code></td>
</tr>
</tbody>
</table>
<p>To create this tree of elements, you will use nested calls to <code>React.createElement</code>. The standard formatting for this is for elements to have children, put each argument on its own line, and for elements that have no children or just text content, put all arguments on a single line.</p>
<p>Since the <code>ul</code> has children, it will have its arguments on separate lines. Referring to the table above gives you:</p>
<pre class="text"><code>React.createElement(
  &#39;ul&#39;,
  null,
  // First li child,
  // Second li child,
);</code></pre>
<p>The first <code>li</code> element has a child. Its call to <code>React.createElement</code> will have its arguments each go on their own separate lines:</p>
<pre class="text"><code>React.createElement(
  &#39;ul&#39;,
  null,
  React.createElement(
    &#39;li&#39;,
    { className: &#39;selected&#39; },
    // a child
  ),
  // Second li child,
);</code></pre>
<p>The anchor element for “Pets” has only one text child. Its call to <code>React.createElement</code> will have its arguments on one line:</p>
<pre class="text"><code>React.createElement(
  &#39;ul&#39;,
  null,
  React.createElement(
    &#39;li&#39;,
    { className: &#39;selected&#39; },
    React.createElement(&#39;a&#39;, { href: &#39;/pets&#39;}, &#39;Pets&#39;),
  ),
  // Second li child,
);</code></pre>
<p>The second <code>li</code> element has a child. Its call to <code>React.createElement</code> will have its arguments each go on their own separate lines:</p>
<pre class="text"><code>React.createElement(
  &#39;ul&#39;,
  null,
  React.createElement(
    &#39;li&#39;,
    { className: &#39;selected&#39; },
    React.createElement(&#39;a&#39;, { href: &#39;/pets&#39;}, &#39;Pets&#39;),
  ),
  React.createElement(
    &#39;li&#39;,
    null,
    // a child
  ),
);</code></pre>
<p>The other anchor element, the one for “Owners” has only one text child. Its call to <code>React.createElement</code> will have its arguments on one line:</p>
<pre class="text"><code>React.createElement(
  &#39;ul&#39;,
  null,
  React.createElement(
    &#39;li&#39;,
    { className: &#39;selected&#39; },
    React.createElement(&#39;a&#39;, { href: &#39;/pets&#39;}, &#39;Pets&#39;),
  ),
  React.createElement(
    &#39;li&#39;,
    null,
    React.createElement(&#39;a&#39;, { href: &#39;/owners&#39;}, &#39;Owners&#39;),
  ),
);</code></pre>
<p>That’s how you translate what you want from simple HTML into well-formatted calls to <code>React.createElement</code>. That will build the “element tree” for React to use.</p>
<h3 id="converting-to-virtual-dom">Converting to virtual DOM</h3>
<p>To tell React to start the conversion process, you have to use the <code>React.render</code> method which takes a value returned from <code>React.createElement</code> and a DOM node in the actual document where React will insert the result of the conversion into real DOM.</p>
<p>If you wanted to insert what was created in the last section into the <code>main</code> tag, the most forward way of doing that is like this.</p>
<pre class="text"><code>// Put the element tree in a variable
const navList = React.createElement(
  &#39;ul&#39;,
  null,
  React.createElement(
    &#39;li&#39;,
    { className: &#39;selected&#39; },
    React.createElement(&#39;a&#39;, { href: &#39;/pets&#39;}, &#39;Pets&#39;),
  ),
  React.createElement(
    &#39;li&#39;,
    null,
    React.createElement(&#39;a&#39;, { href: &#39;/owners&#39;}, &#39;Owners&#39;),
  ),
);

// Get a DOM node for React to render to
const mainElement = document.querySelector(&#39;main&#39;);

// Give React the element tree and the target
ReactDOM.render(navList, mainElement);</code></pre>
<p>At this point, you have given the element tree that you want created to React. It will then take that and construct its virtual DOM from it.</p>
<p><a href="https://camo.githubusercontent.com/46fad4e7a7986e25d8b20785c6baee6d8eca7c725d4ad4f181b963c57615abcd/68747470733a2f2f61707061636164656d792d6f70656e2d6173736574732e73332d75732d776573742d312e616d617a6f6e6177732e636f6d2f4d6f64756c61722d437572726963756c756d2f636f6e74656e742f72656163742d72656475782f746f706963732f696e74726f2d746f2d72656163742f6173736574732f72656163742d6578616d706c652d636f6e76657273696f6e2d7669727475616c2d646f6d2e737667"><img src="https://camo.githubusercontent.com/46fad4e7a7986e25d8b20785c6baee6d8eca7c725d4ad4f181b963c57615abcd/68747470733a2f2f61707061636164656d792d6f70656e2d6173736574732e73332d75732d776573742d312e616d617a6f6e6177732e636f6d2f4d6f64756c61722d437572726963756c756d2f636f6e74656e742f72656163742d72656475782f746f706963732f696e74726f2d746f2d72656163742f6173736574732f72656163742d6578616d706c652d636f6e76657273696f6e2d7669727475616c2d646f6d2e737667" alt="Convert element tree to virtual DOM" /></a></p>
<p>Now that it has built it’s own model of the virtual DOM using the elements that you created, it can now take that and turn that into real DOM.</p>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/react-example-conversion-real-dom.svg"><img src="https://github.com/bgoonz/React_Notes_V3/raw/master/my-other-notes-n-projects/images/react-example-conversion-real-dom.svg" alt="Convert virtual DOM to real DOM" /></a></p>
<p>It takes that real DOM and inserts it as the content of the target that you gave it which, in this case, is the <code>main</code> element in the body of the document.</p>
<h3 id="updates">Updates</h3>
<p>When you call <code>React.render</code> again for the same component and target, React takes the existing virtual DOM it knows about last time it rendered the element tree, compares it to whatever new thing you want to render, and determines which (if any) of the living DOM needs to change.</p>
<p>For example, let’s say you constructed the same element tree but left off the “selected” class for the first list element. Then, when you rendered it, again, by calling <code>React.render</code>, React would compare the new element tree with the old element tree, figure out that one class was missing on that one <code>li</code> element, and remove that and only that from the real DOM.</p>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/react-example-virtual-dom-diff.svg"><img src="https://github.com/bgoonz/React_Notes_V3/raw/master/my-other-notes-n-projects/images/react-example-virtual-dom-diff.svg" alt="Virtual DOM diff" /></a></p>
<h3 id="what-youve-learned">What you’ve learned</h3>
<p>In this article, you learned</p>
<ul>
<li>To convert desired HTML into properly-formatted nested calls of <code>React.createElement</code></li>
<li>How React takes your element tree and builds its virtual DOM from the elements that you created</li>
<li>How React takes that virtual DOM and inserts it into the living HTML document</li>
<li>How React will compare an old virtual DOM tree with a new virtual DOM tree, figure out what changed, and then change that and only that in the real DOM</li>
</ul>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/react-example-virtual-dom-diff.svg">Virtual DOM diff</a>: images/react-example-virtual-dom-diff.svgimages/react-example-virtual-dom-diff.svg orderedList=false} –&gt;</p>
<h2 id="javascript-extension">JavaScript eXtension</h2>
<p>Using <code>React.createElement</code> is a bore and a chore when creating React-powered applications. The developers that used React, both inside and outside of Facebook, wanted an easier way to interact with the React API and hide all of the minutiae that comes with using <code>React.createElement</code>. They invented a new language that sits on top of JavaScript called <em>JavaScript eXtension</em>, or JSX.</p>
<p>In this article, you will learn</p>
<ul>
<li>How to use JSX in your application</li>
<li>The syntax of JSX, and</li>
<li>How JSX transforms into <code>React.createElement</code> calls</li>
</ul>
<h3 id="how-to-use-jsx">How to use JSX</h3>
<p>Because browsers don’t understand JSX, you have to use some tools to translate JSX into just plain old JavaScript. The main tool that you will use in almost every case is one called <a href="https://babeljs.io/">Babel</a>. It is a tool that can convert versions of modern JavaScript into old version of JavaScript. It can convert <em>future</em> features of JavaScript into modern JavaScript. It can convert JSX into modern (or old) JavaScript.</p>
<p>However, using Babel by itself is like building a house with just a hammer. It’d be nice to have fancier tools to help you build that house. That’s where tools like <a href="https://github.com/facebook/create-react-app">Create React App</a> come into play. <strong>Create React App</strong> uses Babel underneath and, then, adds a whole lot more. You’ll see more of *<em>Create React App</em> as you progress through the course.</p>
<h3 id="jsx-syntax">JSX Syntax</h3>
<p>Here’s a function-based component using <code>React.createElement</code> that has an <code>h1</code> element with the content “Hello!”, a placeholder image, and a link to some search engine passed in through props.</p>
<pre class="text"><code>const ExampleComponent = props =&gt; React.createElement(
  React.Fragment,
  null,
  React.createElement(&#39;h1&#39;, null, &#39;Hello!&#39;),
  React.createElement(&#39;img&#39;, { src: &#39;images/150&#39; }),
  React.createElement(&#39;a&#39;, { href: props.searchUrl }, props.searchText),
);</code></pre>
<p>You’ve likely seen that before. JSX allows you to get rid of all of the calls to <code>React.createElement</code> and replace them with almost HTML-looking tags. Here’s what the above content looks like in JSX.</p>
<pre class="text"><code>const ExampleComponent = props =&gt;
  &lt;React.Fragment&gt;
    &lt;h1&gt;Hello!&lt;/h1&gt;
    &lt;img src=&quot;images/150&quot; /&gt;
    &lt;a href={props.searchUrl}&gt;{props.searchText}&lt;/a&gt;
  &lt;/React.Fragment&gt;
;</code></pre>
<p>You can see Babel in action converting that JSX code above. Here’s a <a href="https://babeljs.io/en/repl#?babili=false&amp;browsers=&amp;build=&amp;builtIns=false&amp;spec=false&amp;loose=false&amp;code_lz=DwIwrgLhD2B2AEcDCAbAlgYwNYF4DeAFAJTw4B88EAFmgM4B0tAphAMoQCGETBe86WJgBMAXJQBOYJvAC-RGWQBQ8FfAAyaQYuAB6cFDhkgA&amp;debug=false&amp;forceAllTransforms=false&amp;shippedProposals=false&amp;circleciRepo=&amp;evaluate=false&amp;fileSize=false&amp;timeTravel=false&amp;sourceType=module&amp;lineWrap=true&amp;presets=es2015%2Creact%2Cstage-2&amp;prettier=false&amp;targets=&amp;version=7.4.3">link to Babel</a> already configured for you. Copy and paste that code above to see it transform back into <code>React.createElement</code> invocations.</p>
<h4 id="html-like-tags-but">HTML-like tags, but…</h4>
<p>The <code>React.Fragment</code> element <em>contains</em> the <code>h1</code>, <code>img</code>, and <code>a</code>, just like it does in the <code>React.createElement</code> version, except instead of using a method call to do it, it uses more familiar HTML-like tags. There’s one super big difference between the HTML that you know and what JSX expects. Can you see it?</p>
<p>Look at the end of the <code>img</code> tag. See that “/” before the closing angle bracket? You <em>must</em> include that if the tag that you’re using doesn’t have a close tag. If you want to use those HTML element in your JSX, then you have to put the slash. The following table shows some common tags that you’d use and their JSX equivalent.</p>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">HTML self-closing tag</th>
<th style="text-align: left;">JSX equivalent</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>&lt;br&gt;</code></td>
<td style="text-align: left;"><code>&lt;br /&gt;</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>&lt;hr&gt;</code></td>
<td style="text-align: left;"><code>&lt;hr /&gt;</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>&lt;img&gt;</code></td>
<td style="text-align: left;"><code>&lt;img /&gt;</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>&lt;input&gt;</code></td>
<td style="text-align: left;"><code>&lt;input /&gt;</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>&lt;link&gt;</code></td>
<td style="text-align: left;"><code>&lt;link /&gt;</code></td>
</tr>
</tbody>
</table>
<h4 id="properties-and-data">Properties and data</h4>
<p>When you use the low-level <code>React.createElement</code> function call, you pass the properties in as an object as the second argument. In JSX, you pass in properties as if they were attributes on the tag.</p>
<p>When you want to use a static value, just use a string literal like this.</p>
<pre class="text"><code>&lt;img src=&quot;https://via.placeholder.com/150&quot; /&gt;</code></pre>
<p>becomes</p>
<pre class="text"><code>React.createElement(
  &#39;img&#39;,
  { src: &quot;https://via.placeholder.com/150&quot; }
)</code></pre>
<p>And, when you want to pass in some data rather than a sting literal like above, you use curly braces to turn</p>
<pre class="text"><code>&lt;a href={props.searchUrl}&gt;{props.searchText}&lt;/a&gt;</code></pre>
<p>into</p>
<pre class="text"><code>React.createElement(
  &#39;a&#39;,
  { href: props.searchUrl },
  props.searchText
)</code></pre>
<p>The stuff inside the curly braces is just a JavaScript expression, so you could do something like this, if you wanted, to make the search text uppercase:</p>
<pre class="text"><code>&lt;a href={props.searchUrl}&gt;
  {props.searchText.toUpperCase()}
&lt;/a&gt;</code></pre>
<h4 id="comments">Comments</h4>
<p>To use comments in JSX, you use curly braces (because that means its just a normal JavaScript expression) and block-level JavaScript comments.</p>
<pre class="text"><code>&lt;div&gt;
  &lt;h2&gt;This is JSX&lt;/h2&gt;
  {/* This is a comment in JSX */}
&lt;/div&gt;</code></pre>
<h4 id="property-names">Property names</h4>
<p>Please read <a href="https://reactjs.org/docs/dom-elements.html">DOM Elements</a> in the React documentation to understand how property names work, as well as the special property names that React supports. You can be assessed on the following special attributes:</p>
<ul>
<li><code>checked</code></li>
<li><code>className</code></li>
<li><code>dangerouslySetInnerHTML</code></li>
<li><code>htmlFor</code></li>
<li><code>onChange</code></li>
<li><code>style</code></li>
<li><code>value</code></li>
</ul>
<p>Also, you can be assessed on knowing that React uses camel-case for its attribute names so attributes like <code>maxlength</code> in HTML are <code>maxLength</code> in React.</p>
<h3 id="the-jsx-semicolon-gotcha">The JSX semicolon gotcha</h3>
<p>You will also see code like this in other React projects, as well as in code generated by tools. It is a function-based component that uses the <code>function</code> keyword rather than an arrow function. Note the <code>return</code> statement.</p>
<pre class="text"><code>function App() {
  return (
    &lt;div&gt;
      &lt;h1&gt;Hello!&lt;/h1&gt;
      &lt;div&gt;Welcome to JSX.&lt;/div&gt;
    &lt;/div&gt;
  );
}</code></pre>
<p>You’ll see that the JSX block is wrapped in parentheses. This is due to the way that JavaScript handles something called <a href="https://www.ecma-international.org/ecma-262/#sec-rules-of-automatic-semicolon-insertion">“automatic semicolon insertion”</a>. Here’s a simple example. What do you think the function returns? (Yes, this <em>is</em> a “trick question”.)</p>
<pre class="text"><code>function sum(i, j) {
  return
    i + j;
}</code></pre>
<p>If the answer isn’t obvious, start Node on the command line, type it in exactly the way it is there, and try calling it with <code>sum(1, 2)</code>.</p>
<p>You may be surprised to see that it returns <code>undefined</code>. Here’s why: when JavaScript reads your source code, it tries to be “helpful”. When it reads the lines of your code, it asks, is each line a “complete” line? Is it and the following lines valid JavaScript expressions? If the answer is “yes”, then it will add a semicolon at the end of the line <em>for you</em>. When it reads the above “sum” function, the JavaScript runner “thinks” to itself:</p>
<ul>
<li>Ok, I have two lines:
<ul>
<li><code>return</code></li>
<li><code>i + j;</code></li>
</ul></li>
<li>Are each of those valid JavaScript expressions? Yes!</li>
<li>Now, I will put semicolons at the end of the lines that don’t have any
<ul>
<li><code>return;</code></li>
<li><code>i + j;</code></li>
</ul></li>
</ul>
<p>Now, your function, in the eyes of JavaScript, looks like this.</p>
<pre class="text"><code>function sum(i, j) {
  return; // &lt;- There&#39;s a new semicolon!
    i + j;
}</code></pre>
<p>That function never gets to <code>i + j</code> because it always returns “no value” on the first line. Yikes!</p>
<p>To get around that, you can add parentheses to tell JavaScript that “more is coming”.</p>
<pre class="text"><code>function sum(i, j) {
  return (
    i + j
  );
}</code></pre>
<p>Now, when JavaScript reads the line <code>return (</code>, it “thinks” to itself, “Well, that’s not a complete expression. There must be more coming. I will <em>not</em> put a semicolon there.”</p>
<p>The same is true for functions containing JSX. The above code</p>
<pre class="text"><code>function App() {
  return (
    &lt;div&gt;
      &lt;h1&gt;Hello!&lt;/h1&gt;
      &lt;div&gt;Welcome to JSX.&lt;/div&gt;
    &lt;/div&gt;
  );
}</code></pre>
<p>is equivalent to</p>
<pre class="text"><code>function App() {
  return (
    React.createElement(
      &#39;div&#39;,
      null,
      React.createElement(&#39;h1&#39;, null, &#39;Hello!&#39;),
      React.createElement(&#39;div&#39;, null, &#39;Welcome to JSX.&#39;),
    )
  );
}</code></pre>
<p>Without the parentheses starting right after the <code>return</code> keyword and ending after the outer call of <code>React.createElement</code>, JavaScript would just stick a semicolon after the <code>return</code> keyword and all of the fancy React stuff would get ignored.</p>
<p>The message is clear: if you use the <code>return</code> keyword in a function to “return some JSX”, then make sure you wrap the JSX in parentheses.</p>
<h3 id="what-youve-learned-1">What you’ve learned</h3>
<p>That’s really all there is to JSX. You combine your knowledge of HTML and your knowledge of <code>React.createElement</code> to allow the Babel tool to turn your code into plain old JavaScript for you. Specifically, you have seen the following conversions:</p>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Conversion type</th>
<th style="text-align: left;">JSX</th>
<th style="text-align: left;">JavaScript</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">tags</td>
<td style="text-align: left;"><code>&lt;h1&gt;&lt;/h1&gt;</code></td>
<td style="text-align: left;"><code>React.createElement('h1', null)</code></td>
</tr>
<tr class="even">
<td style="text-align: left;">attributes</td>
<td style="text-align: left;"><code>&lt;img src="images/foo.png"/&gt;</code></td>
<td style="text-align: left;"><code>React.createElement('img', { src: "foo.png" })</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;">variables</td>
<td style="text-align: left;"><code>&lt;h1&gt;{message}&lt;/h1&gt;</code></td>
<td style="text-align: left;"><code>React.createElement('h1', null, message)</code></td>
</tr>
</tbody>
</table>
<p>You’ve also read about the special property names that React supports.</p>
<p>Finally, you learned about the frustrating side effect of “automatic semicolon insertion” and, if you do use the <code>return</code> keyword in your functions, that you should wrap the JSX in parentheses to prevent JavaScript from <em>not</em> returning your code.</p>
<h2 id="walk-through-creating-elements-in-react">Walk-Through: Creating Elements In React</h2>
<p>To start your React journey, you will build your foundational knowledge by starting out with the basic <code>React.createElement</code> and <code>ReactDOM.render</code>. One of the compelling features of this type of solution is that you do not need <em>any</em> extra tools to get your app running in the browser. In the next walk-through, you will have to <em>install</em> a ton of packages just to get React to properly work. This project will walk you through how to use a pure JavaScript version of React. Everything will work right out of the box.</p>
<h3 id="getting-started">Getting started</h3>
<p>Install the <a href="https://chrome.google.com/webstore/detail/react-developer-tools/fmkadmapgofadopljbjfkapdkoienihi">React DevTools for Google Chrome</a>.</p>
<p><a href="https://camo.githubusercontent.com/ed6ef6e77ef9916d970667512572a0ebef83b6a4b55a1ced108f2ad3b91cb209/68747470733a2f2f61707061636164656d792d6f70656e2d6173736574732e73332d75732d776573742d312e616d617a6f6e6177732e636f6d2f4d6f64756c61722d437572726963756c756d2f636f6e74656e742f72656163742d72656475782f746f706963732f696e74726f2d746f2d72656163742f6173736574732f72656163742d646576746f6f6c732e706e67"><img src="https://camo.githubusercontent.com/ed6ef6e77ef9916d970667512572a0ebef83b6a4b55a1ced108f2ad3b91cb209/68747470733a2f2f61707061636164656d792d6f70656e2d6173736574732e73332d75732d776573742d312e616d617a6f6e6177732e636f6d2f4d6f64756c61722d437572726963756c756d2f636f6e74656e742f72656163742d72656475782f746f706963732f696e74726f2d746f2d72656163742f6173736574732f72656163742d646576746f6f6c732e706e67" alt="React DevTools for Google Chrome screenshot" /></a></p>
<p>Create a new directory to contain this new project. In that directory, create two files: an <strong>index.html</strong> file and an <strong>app.js</strong> file. In the <strong>index.html</strong> file, create a standard HTML 5 document. In the HTML <code>body</code> (in this order), create a <code>main</code> element and a <code>script</code> element for your <strong>app.js</strong> file with <code>type="module"</code> so you can use ES6 modules.</p>
<p>Serve your files with a local Python server by running the <code>python3 -m http.server</code> command in your terminal. Make sure you are running the command from within your project directory. You should be able to open <a href="http://localhost:8000/">http://localhost:8000</a> to see the page, empty as it is.</p>
<h3 id="test-that-things-are-working">Test that things are working</h3>
<p>Get ready! You’re going to do the first React thing! You’re going to create a React element that will display “Hello, programmers!”. You will then have React render it to the DOM.</p>
<p>Copy and paste the following JavaScript code into your <strong>app.js</strong>, refresh your page, look at the code to get a feel for what it does, try to come up with explanations on your own, and then continue reading.</p>
<pre class="text"><code>import &#39;https://unpkg.com/react@16/umd/react.development.js&#39;;
import &#39;https://unpkg.com/react-dom@16/umd/react-dom.development.js&#39;;

const HelloWorld = () =&gt; React.createElement(
  &#39;h1&#39;,
  null,
  &#39;Hello, programmers&#39;,
);

const target = document.querySelector(&#39;main&#39;);
const app = React.createElement(HelloWorld, null);
ReactDOM.render(app, target);</code></pre>
<p><strong>Note</strong>: You may want to turn on “Disable cache” on the <em>Network</em> tab of your DevTools and keep the DevTools open while you’re doing this to make sure you always have the newest version of the files.</p>
<p>You should now have <em>Components</em> and <em>Profiler</em> tabs in your DevTools. If you click on the <code>HelloWorld</code> component in the <em>Components</em> tab, you can see that it has no <em>props</em>. You’ll learn much more about props later. For now, just remember that the React DevTools extension is a helpful tool for you to view information about your components and their props.</p>
<h3 id="walking-through-the-code">Walking through the code</h3>
<p>Even though there are only five statements in that code block, a lot is going on. This section carefully walks through each of the statements to help you get a deeper understanding.</p>
<h4 id="those-wacky-import-statements">Those wacky import statements</h4>
<p>Consider those <code>import</code> statements. These differ in two ways from what you’ve seen with ES modules to date.</p>
<ol type="1">
<li>They come from another website altogether. When you use <code>import</code> to bring in modules from another domain, that request is governed by CORS; that means the other server <em>must</em> have CORS configured to let you import their code. Luckily, unpkg.com configures CORS to allow any authority to import their script files.</li>
<li>They don’t seem to import anything. There is no <code>import { React } from</code> there. It’s just <code>import 'url'</code>. This is called a <em>side effect</em> import and is generally frowned upon in modern Web development. But, React does not package their code in ES6 format. What those <code>import</code> statements do is <em>add variables in the global scope</em>. The two variables they add are <code>React</code> from the first import, and <code>ReactDOM</code> from the second import. Those global variables can then be used by your code, which happens with <code>React.createElement</code> and <code>ReactDOM.render</code>.</li>
</ol>
<p>If you were going to move these into production, you would change the URLs that you import from</p>
<pre class="text"><code>import &#39;https://unpkg.com/react@16/umd/react.development.js&#39;;
import &#39;https://unpkg.com/react-dom@16/umd/react-dom.development.js&#39;;</code></pre>
<p>to</p>
<pre class="text"><code>import &#39;https://unpkg.com/react@16/umd/react.production.min.js&#39;;
import &#39;https://unpkg.com/react-dom@16.13.1/umd/react-dom.production.min.js&#39;;</code></pre>
<p>Those files contain the minified “production” version of the code, which is just a smaller version of the “development” versions. If you open up the links to the <a href="https://unpkg.com/react@16/umd/react.development.js">react.development.js</a> and <a href="https://unpkg.com/react@16/umd/react.production.min.js">react-production.min.js</a> files in your browser, you’ll see JavaScript in both files. Notice how the non-minified version (<a href="https://unpkg.com/react@16/umd/react.development.js">react.development.js</a>) includes plain JavaScript you’re used to seeing. The minified version simply compresses that JavaScript.</p>
<h4 id="the-odd-looking-function">The odd-looking function</h4>
<p>Turn your attention to this statement.</p>
<pre class="text"><code>const HelloWorld = () =&gt; React.createElement(
  &#39;h1&#39;,
  null,
  &#39;Hello, programmers!&#39;
);</code></pre>
<p>The statement declares the <code>HelloWorld</code> variable and stores a function in it. This is the way that components look in React. It is a function-based component because it’s a function. It returns the value returned from <code>React.createElement</code>. If that syntax is weird, it is functionally the same as this code.</p>
<pre class="text"><code>const HelloWorld = () =&gt; {
  return React.createElement(&#39;h1&#39;, null, &#39;Hello, programmers!&#39;);
}</code></pre>
<p>Because there are a lot of die-hard functional programmers (as opposed to object-oriented programmers) that like that kind of syntax (arrow functions without curly braces that span multiple lines), you will see it in a lot of places while learning React.</p>
<p>The arguments passed to <code>React.createElement</code> are:</p>
<ol type="1">
<li>What to create in the DOM.</li>
</ol>
<ul>
<li>If it is a string, it needs to be all lowercase and the name of the HTML element to create. This example passes in <code>'h1'</code> as the tag to create in the DOM.</li>
<li>Otherwise, it should be the variable that holds another component. You can see it being used that way in the later code.</li>
</ul>
<ol type="1">
<li>Any properties/attributes to put on the generated element. This example passes in <code>null</code> because there are no attributes needed. You will see some, soon.</li>
<li>The child content of the element. The third (and fourth and fifth and…) arguments contains what React should put as the children of the content of the element. In this case, the content is <code>'Hello, programmers!'</code>.</li>
</ol>
<p><strong>Important</strong>: Every time this walk-through asks you to create a function-based component, this is what it will mostly look like. It will look like this <em>or</em> it will look like this and have a single parameter named <code>props</code> like this.</p>
<pre class="text"><code>// Without the need for data
const HelloWorldNoData = () =&gt; React.createElement(
  &#39;h1&#39;,
  null,
  &#39;Hello, programmers!&#39;
);

// With the need for data has the
// props parameter.
const HelloWorldWithData = props =&gt; React.createElement(
  &#39;h1&#39;,
  null,
  &#39;Hello, programmers!&#39;
);</code></pre>
<h4 id="putting-it-in-the-page">Putting it in the page</h4>
<p>The last three statements in the code block are these.</p>
<pre class="text"><code>const target = document.querySelector(&#39;main&#39;);
const app = React.createElement(HelloWorld, null);
ReactDOM.render(app, target);</code></pre>
<p>The first line is something you should be really familiar with. You are selecting the <code>&lt;main&gt;</code> element and referencing it as <code>target</code>.</p>
<p>The second line is using <code>React.createElement</code> to create an element from the <code>HelloWorld</code> function-based component discussed in the last section. It has <code>null</code> properties.</p>
<p>The third line <em>renders</em> the component into the actual Web page, the component specified by the first argument, which is the one created from the <code>HelloWorld</code> component. Remember that you can open your DevTools, find the <em>Components</em> tab, and click it to see the React DevTools show you the “HelloWorld” component rendered by React.</p>
<p><a href="https://camo.githubusercontent.com/34c87f7d0be732eed985d8bcea1e451c873f70dce946c9a245aad1078b6e0dbc/68747470733a2f2f61707061636164656d792d6f70656e2d6173736574732e73332d75732d776573742d312e616d617a6f6e6177732e636f6d2f4d6f64756c61722d437572726963756c756d2f636f6e74656e742f72656163742d72656475782f746f706963732f696e74726f2d746f2d72656163742f6173736574732f72656163742d68656c6c6f2d70726f6772616d6d6572732d6372656174652d656c656d656e742d776974682d72656163742d746f6f6c732e706e67"><img src="https://camo.githubusercontent.com/34c87f7d0be732eed985d8bcea1e451c873f70dce946c9a245aad1078b6e0dbc/68747470733a2f2f61707061636164656d792d6f70656e2d6173736574732e73332d75732d776573742d312e616d617a6f6e6177732e636f6d2f4d6f64756c61722d437572726963756c756d2f636f6e74656e742f72656163742d72656475782f746f706963732f696e74726f2d746f2d72656163742f6173736574732f72656163742d68656c6c6f2d70726f6772616d6d6572732d6372656174652d656c656d656e742d776974682d72656163742d746f6f6c732e706e67" alt="Hello programmers with dev tools" /></a></p>
<p>Before moving on, add some more to that, so you get a feel for how it works. Replace the content of your <strong>app.js</strong> with this stuff. The comments to the right of each line shows what React will do with the stuff only after you call <code>ReactDOM.render</code> with it.</p>
<blockquote>
<p><strong>Note:</strong> since you have not included a CSS file to style <code>#nav-links</code> and <code>.is-selected</code> in your project, the <code>id</code> and <code>className</code> aren’t actually being used for any styling purpose. The code below includes an <code>id</code> and <code>className</code> to shows an example of setting <code>id</code> and <code>className</code> with <code>React.createElement</code> and how it translates to HTML.</p>
</blockquote>
<pre class="text"><code>import &#39;https://unpkg.com/react@16/umd/react.development.js&#39;;
import &#39;https://unpkg.com/react-dom@16/umd/react-dom.development.js&#39;;

const Links = () =&gt; React.createElement(
  &#39;ul&#39;,                                  // &lt;ul
  { id: &#39;nav-links&#39; },                   //  id=&quot;nav-links&quot;&gt;
  React.createElement(
    &#39;li&#39;,                                // &lt;li
    { className: &#39;is-selected&#39; },        //  class=&quot;is-selected&quot;&gt;
    React.createElement(
      &#39;a&#39;,                               // &lt;a
      { href: &#39;https://lambda-resources.netlify.app/&#39; }, //  href=&quot;...&quot;&gt;
      &#39;Lambda&#39;                      //    Lambda
    ),                                   // &lt;/a&gt;
  ),                                     // &lt;/li&gt;
  React.createElement(
    &#39;li&#39;,                                // &lt;li&gt;
    null,
    React.createElement(
      &#39;a&#39;,                               // &lt;a
      { href: &#39;https://lambda-resources.netlify.app/&#39; },   //  href=&quot;...&quot;&gt;
      &#39;Lambda Resources&#39;,                       
    ),                                   // &lt;/a&gt;
  ),                                     // &lt;/li&gt;
);                                       // &lt;/ul&gt;

const HelloWorld = () =&gt; React.createElement(
  &#39;h1&#39;,
  null,
  &#39;Hello, programmers&#39;,
);

// Creates the HelloWorld first and, then, creates
// the Links
const AllTogether = () =&gt; React.createElement(
  &#39;div&#39;,
  null,
  React.createElement(HelloWorld, null),
  React.createElement(Links, null),
);

const target = document.querySelector(&#39;main&#39;);
const app = React.createElement(AllTogether, null);
ReactDOM.render(app, target);</code></pre>
<p>Look at what gets produced in the <em>Elements</em> tab of your DevTools. Look at what gets produced in the <em>Components</em> tab of your DevTools for all three of your components. Play around with it: change tags, replace some of those <code>null</code> second arguments with objects to see what gets presented. Give it a whirl. From this point on, you’ll be working with JavaScript code known as <strong>JSX</strong> in your React projects. JSX is just syntactic sugar that translates to creating React element objects. Although you won’t be creating full-scale projects with <code>React.createElement</code>, it’s important to remember that React is actually using <code>React.createElement</code> under the hood.</p>
<h2 id="thinking-in-components">Thinking In Components</h2>
<p>For the next couple of walk through articles, you will be reproducing a page from Petrack. Please go to <a href="https://polar-beach-08187.herokuapp.com/">Petrack</a> and click around it so you can see how it works. Pay special attention to the detail page for the pets. This article will analyze it so that it can introduce you into how to “think in React”.</p>
<p><a href="https://camo.githubusercontent.com/516a3c3be41766740df025045e45a19a064fd638b816cb831766888afe249798/68747470733a2f2f61707061636164656d792d6f70656e2d6173736574732e73332d75732d776573742d312e616d617a6f6e6177732e636f6d2f4d6f64756c61722d437572726963756c756d2f636f6e74656e742f72656163742d72656475782f746f706963732f696e74726f2d746f2d72656163742f6173736574732f706574747261636b2d7065742d64657461696c2e706e67"><img src="https://camo.githubusercontent.com/516a3c3be41766740df025045e45a19a064fd638b816cb831766888afe249798/68747470733a2f2f61707061636164656d792d6f70656e2d6173736574732e73332d75732d776573742d312e616d617a6f6e6177732e636f6d2f4d6f64756c61722d437572726963756c756d2f636f6e74656e742f72656163742d72656475782f746f706963732f696e74726f2d746f2d72656163742f6173736574732f706574747261636b2d7065742d64657461696c2e706e67" alt="Petrack pet detail page" /></a></p>
<p>When you “think in React”, you are supposed to “think in components”. A component in React is usually a JavaScript function or a class that returns a special React object called an “element”. There is a <em>very</em> vocal community that believes that function-based components are far superior than class-based components because they’re easier to understand. You will have the opportunity to use both in this class and make up your mind which you like better.</p>
<p>In this article, you will gain insight into how to break a UI down into portions of functionality that React calls “components”. The way this article presents the components is only one way to do it. Other developers may choose to do it differently. There is usually no wrong way to do it.</p>
<h3 id="components">Components</h3>
<p>In React-speak, a “component” is a chunk of the user interface that can (or should) be treated as a unit because it may (or likely will) be used more than once or used to structure a page. That’s not a very satisfying definition. This article will walk you through breaking down the page using the practical example of the Petrack pet detail page.</p>
<p>When you think of components, it’s good to think in terms of the Single Responsibility Principle. Remember that? It’s good to have a component do one thing and one thing well. In this analysis, it will identify how it fits (or doesn’t fit) in with the Single Responsibility Principle.</p>
<p>If you think in terms of Pug, then a component is kind of like an <code>include</code>, a big or small amount of code that you could use over and over in your UI. The main difference is that React is <em>in the browser</em> and handles user events and HTML generation for you so that you’re not creating template strings and adding them via the <code>innerHTML</code> property or <code>appendChild</code> method. Pug is just on the server generating HTML.</p>
<h3 id="the-navigation-component">The navigation component</h3>
<p>On all of the pages, there is the same navigation at the top of the page.</p>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/pettrack-pet-detail-static-content.png"><img src="https://github.com/bgoonz/React_Notes_V3/raw/master/my-other-notes-n-projects/images/pettrack-pet-detail-static-content.png" alt="Petrack navigation" /></a></p>
<p>If you were working in Pug, that would be in your <strong>layout.pug</strong> because you would want it to appear in every page. In React, you will create a reusable component, maybe call it <code>Navigation</code>, and use it on all of your React-enabled pages.</p>
<p>This does one thing and one thing well: it shows the static content of the navigation. There’s nothing else it needs to do. Good job, <code>Navigation</code> component!</p>
<p>What this means is that the code that will create the heading “Petrack”, the links “Pets” and “Owners”, and the “Back” link will all be in their own component, which is just a JavaScript function or class. It could look something like this, but with real code where it reads “some cool React code here”. This is the skeleton of the code.</p>
<pre class="text"><code>// Navigation.js
import React from &#39;react&#39;;

const Navigation = props =&gt; {
  /* some cool React code here */
}

export default Navigation;</code></pre>
<p>You would put that in a file named <strong>Navigation.js</strong>. It’s capitalized because, in React world, the names of your custom components are <em>always</em> capitalized.</p>
<p>Don’t worry if that doesn’t make complete sense, yet. You will be making these components and their files <em>for the rest of your lives</em>. Or, at least, for the rest of this course. And, definitely, for the remainder of this module.</p>
<p>The walk through articles that follow this will explain what’s going on as well as what that <code>props</code> parameter is.</p>
<h3 id="the-details-components">The details components</h3>
<p>Now, for the remainder of the page.</p>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/pettrack-pet-detail-component.png"><img src="https://github.com/bgoonz/React_Notes_V3/raw/master/my-other-notes-n-projects/images/pettrack-pet-detail-component.png" alt="Petrack detail" /></a></p>
<p>This could be another component. It would create the “Details” headline, show the individual details of the pet, create the “Owners” headline, and then create the links to the owners. It could look something like this.</p>
<pre class="text"><code>// PetDetail.js
import React from &#39;react&#39;;

const PetDetail = props =&gt; {
  /* some cool React code here */
}

export default PetDetail;</code></pre>
<p>This component, the <code>PetDetail</code> component, does too much. It’s in charge of showing two different kinds of information, the details of the pet <em>and</em> the owners links. That means there’s probably an opportunity to create more components that this component can then use. This is called <em>component composition</em>.</p>
<h4 id="breaking-it-down-further">Breaking it down further</h4>
<p>Now, please think like a Pug developer for just a moment. How would you create this page in Pug? The code for this from the project looks like this.</p>
<pre class="text"><code>extends ../layout

block content
  h1 Details
  dl
    dt Name
    dd= pet.name
    dt Age
    dd= pet.age
    dt Type
    dd= pet.PetType.type

  h2 Owners
  ul
    each owner in pet.Owners
      li: a(href=&quot;/owners/&quot; + owner.id) #{owner.lastName}, #{owner.firstName}</code></pre>
<p>To start thinking in components, ask yourself</p>
<ul>
<li>What parts of that page are repeated?</li>
<li>What parts have the same structure?</li>
</ul>
<p>You can see that in the <em>Details</em> section of the page, there are repeated structures of <code>dt</code> and <code>dd</code> elements. You can see in the <em>Owners</em> section, there is a loop that creates a link to the owners based on the owner information. Those types of reusable chunks of content are good candidates for being their own components.</p>
<h4 id="the-pet-information-item-component">The pet information item component</h4>
<p>You can extract the creation of the <code>dt</code> and <code>dd</code> elements into its own component.</p>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/pettrack-pet-detail-information-item-component.png"><img src="https://github.com/bgoonz/React_Notes_V3/raw/master/my-other-notes-n-projects/images/pettrack-pet-detail-information-item-component.png" alt="Petrack pet information item" /></a></p>
<p>That could look something like this.</p>
<pre class="text"><code>// PetInformationItem.js
import React from &#39;react&#39;;

const PetInformationItem = props =&gt; {
  /* some cool React code here */
}

export default PetInformationItem;</code></pre>
<p>It would be responsible for making that portion of the Web page appear. And, you would use it over and over for each of the different pieces of data you wanted to show. As you add more data about pets, you could use that <code>PetInformationItem</code> to maintain the visual consistency of the Web page, as well as allowing you to write less code. This component does one thing and does it well.</p>
<h4 id="the-owner-link-component">The owner link component</h4>
<p>Just like extracting the pet information item, you can extract that owner link into its own component. It would generate the the <code>a</code> and format the person’s name.</p>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/pettrack-pet-detail-owner-link-component.png"><img src="https://github.com/bgoonz/React_Notes_V3/raw/master/my-other-notes-n-projects/images/pettrack-pet-detail-owner-link-component.png" alt="Petrack owner link" /></a></p>
<p>Again, the skeleton code would look something like this.</p>
<pre class="text"><code>// OwnerLink.js
import React from &#39;react&#39;;

const OwnerLink = props =&gt; {
  /* some cool React code here */
}

export default OwnerLink;</code></pre>
<p>This component also does one thing and does it well. If you ever need to change the way owner names appear in lists of links in the application, you can come to this one component and change it. It would then take effect everywhere! Single Responsibility Principle for the win!</p>
<h4 id="the-owners-list-component">The owners list component</h4>
<p>Now, the thing that manages the list itself and the use of the <code>OwnerLink</code> component is eligible for being its own component, too.</p>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/pettrack-pet-detail-owners-list-component.png"><img src="https://github.com/bgoonz/React_Notes_V3/raw/master/my-other-notes-n-projects/images/pettrack-pet-detail-owners-list-component.png" alt="Petrack owners list" /></a></p>
<p>It’s single responsibility is to manage creating the “Owners” header and the unordered list. It will use the <code>OwnerLink</code> component to do that! Again, this is called <em>component composition</em>.</p>
<pre class="text"><code>// OwnersList.js
import OwnerLink from &#39;./OwnerLink&#39;;
import React from &#39;react&#39;;

const OwnersList = props =&gt; {
  /* some cool React code here */

  /**
   * Use the OwnerLink component, too!
   */
}

export default OwnersList;</code></pre>
<h4 id="putting-the-list-and-details-together">Putting the list and details together</h4>
<p>If you create the <code>PetInformationItem</code> and the <code>OwnerLink</code> component, then you will want to use them in your <code>PetDetail</code> component. That is as easy as using the <code>import</code> statement to allow them to be used by that code.</p>
<pre class="text"><code>// PetDetail.js
import OwnersList from &#39;./OwnersList&#39;;
import PetInformationItem from &#39;./PetInformationItem&#39;;
import React from &#39;react&#39;;

const PetDetail = props =&gt; {
  /* some cool React code here */

  /**
   * Use the OwnersList and PetInformationItem
   * components, too!
   */
}

export default PetDetail;</code></pre>
<h3 id="putting-it-all-together">Putting it all together</h3>
<p>Once you have all of those components, you would create one more component, the top-level “page” component, that would render the <code>Navigation</code> and <code>PetDetail</code> components.</p>
<pre class="text"><code>// PetDetailPage.js
import Navigation from &#39;./Navigation&#39;;
import PetDetail from &#39;./PetDetail&#39;;
import React from &#39;react&#39;;

const PetDetailPage = props =&gt; {
  /* some cool React code here */

  /**
   * Use the Navigation and PetDetail
   * components, too!
   */
}

export default PetDetailPage;</code></pre>
<p>The final analysis in this breakdown of “components” to “think in React” looks like this.</p>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/pettrack-pet-detail-all-components.png"><img src="https://github.com/bgoonz/React_Notes_V3/raw/master/my-other-notes-n-projects/images/pettrack-pet-detail-all-components.png" alt="Petrack final analysis" /></a></p>
<p>You can see each of the components that were described in this article. You can also see how the <code>PetInformationItem</code> and <code>OwnerLink</code> components get used multiple times on the page.</p>
<h3 id="there-is-probably-more">There is probably more</h3>
<p>Take a look at this, again, and think about if there is any “missing” component before continuing.</p>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/pettrack-pet-detail-all-components.png"><img src="https://github.com/bgoonz/React_Notes_V3/raw/master/my-other-notes-n-projects/images/pettrack-pet-detail-all-components.png" alt="Petrack final analysis" /></a></p>
<p>You could also create a <code>PetDetailList</code> component, if you want, that would manage the “Details” header and the definition list. That would reflect the same structure that the <code>OwnersList</code> has, a component responsible for generating a header and a list. In the following walk through articles, the <code>PetDetailList</code> component will also be included in the development.</p>
<h3 id="what-youve-seen">What you’ve seen</h3>
<p>This is thinking in React. Looking at a Web page and deciding what parts of it belong in sections, what parts are repeated, and how to group them all together. The React documentation calls this <a href="https://reactjs.org/docs/thinking-in-react.html#step-1-break-the-ui-into-a-component-hierarchy">breaking the UI into a component hierarchy</a>. That link is to a section in the React documentation entitled <em>Thinking in React</em>. That section performs the same exercise that this article performed, but with a lot fewer words and pictures.</p>
<p>In the upcoming exercises, you will create these components in a couple of ways. The first way is the hard way, but shows you how React works under the covers. The second way uses the fancy JSX language to make it easier for you.</p>
<h2 id="jsx-walk-through-navigation-component">JSX Walk-Through: Navigation Component</h2>
<p>You will now work on creating the PetTrack page.</p>
<ul>
<li><code>PetDetailPage</code>: Created in this step</li>
<li><code>Navigation</code>: Created in this step</li>
<li><code>PetDetails</code></li>
<li><code>PetDetailList</code></li>
<li><code>PetInformationItem</code></li>
<li><code>OwnersList</code></li>
<li><code>OwnerLink</code></li>
</ul>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/pettrack-pet-detail-all-components-with-details-list.png"><img src="https://github.com/bgoonz/React_Notes_V3/raw/master/my-other-notes-n-projects/images/pettrack-pet-detail-all-components-with-details-list.png" alt="Petrack component analysis" /></a></p>
<h3 id="the-strategy">The strategy</h3>
<p>This guide will work top-down, in that it will start with the top-most (or outer-most) component, the <code>PetDetailPage</code> component. Then, it will move to a next level component, like <code>Navigation</code>. It will just keep adding components and getting them to work with the data from the AJAX call.</p>
<h3 id="the-pet-detail-page-component">The pet detail page component</h3>
<p>The <code>PetDetailPage</code> component will be responsible for showing the navigation component, the details list component, and the owners list component. None of those exist, yet, so just stub out a new component to hold the source.</p>
<p>Create a new file named <strong>PetDetailPage.js</strong> in the <strong>src</strong> directory. In that file, type this content into it.</p>
<pre class="text"><code>import React from &#39;react&#39;;

const PetDetailPage = () =&gt;
  &lt;div&gt;PetDetailPage component&lt;/div&gt; // Temporary so it builds
;

export default PetDetailPage;</code></pre>
<p>Here’s some analysis.</p>
<h4 id="the-import-statement">The import statement</h4>
<p>You will notice that the top of the file imports the <code>React</code> object, but you do not use it anywhere in the file! You have to do this because, remember, each JSX element, like <code>&lt;header&gt;...&lt;/header&gt;</code>, ends up getting translated to <code>React.createElement</code> calls. Without the <code>import</code> statement, the <code>React</code> object would not exist and compiling would fail.</p>
<h4 id="the-component">The component</h4>
<p>The <code>const PetDetailPage = () =&gt; ...</code> is just a normal arrow function.</p>
<p>The body of the component is a JSX expression <code>&lt;div&gt;&lt;/div&gt;</code> which Babel will translate into an invocation of <code>React.createElement</code>. Here’s what it looks like after passing through Babel.</p>
<pre class="text"><code>var PetDetailPage = function PetDetailPage() {
  return React.createElement(&quot;div&quot;, null, &quot;PetDetailPage component&quot;);
} // Temporary so it builds
;</code></pre>
<h4 id="the-export-statement">The export statement</h4>
<p>This is just so you can import it into other components for use, which you will do now.</p>
<h3 id="using-the-pet-detail-page-component">Using the pet detail page component</h3>
<p>Open up <strong>src/App.js</strong>. Import the newly-created <code>PetDetailPage</code> component. Remember that this is Webpack that’s doing this for you, so you <em>do not</em> need to put the <strong>.js</strong> extension on the name of the module that you import.</p>
<p>Replace the <code>&lt;h1&gt;Hello&lt;/h1&gt;</code> with <code>&lt;PetDetailPage&gt;&lt;/PetDetailPage&gt;</code>. Save all of your files. You should now see this content in your browser and <em>Components</em> tab.</p>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/create-react-app-with-default-pet-detail-page.png"><img src="https://github.com/bgoonz/React_Notes_V3/raw/master/my-other-notes-n-projects/images/create-react-app-with-default-pet-detail-page.png" alt="Petrack with default PetDetailPage" /></a></p>
<p>The content of the <strong>src/App.js</strong> should look similar to this.</p>
<pre class="text"><code>import React from &#39;react&#39;;

import PetDetailPage from &#39;./PetDetailPage&#39;;

function App() {
  return (
    &lt;PetDetailPage&gt;&lt;/PetDetailPage&gt;
  );
}

export default App;</code></pre>
<p>Since <code>PetDetailPage</code> has no child content, you could also write that code like this, with the ending slash.</p>
<pre class="text"><code>import React from &#39;react&#39;;

import PetDetailPage from &#39;./PetDetailPage&#39;;

function App() {
  return (
    &lt;PetDetailPage /&gt;
  );
}

export default App;</code></pre>
<h3 id="the-navigation-component-1">The navigation component</h3>
<p>Create a new file named <strong>Navigation.js</strong> in the <strong>src</strong> directory of your application. Put this content in there. Please type it rather than copy and paste it.</p>
<pre class="text"><code>import React from &#39;react&#39;;

const Navigation = () =&gt;
  &lt;header&gt;
    &lt;h1&gt;Petrack&lt;/h1&gt;
    &lt;nav&gt;
      &lt;ul&gt;
        &lt;li&gt;
          &lt;a href=&quot;/pets&quot;&gt;Pets&lt;/a&gt;
        &lt;/li&gt;
        &lt;li&gt;
          &lt;a href=&quot;/owners&quot;&gt;Owners&lt;/a&gt;
        &lt;/li&gt;
      &lt;/ul&gt;
    &lt;/nav&gt;
  &lt;/header&gt;
;

export default Navigation;</code></pre>
<p>All of the JSX, the html-looking tags, those get converted into the calls to <code>React.createElement</code>. When Babel gets done with it, it looks like this, which is just an ugly version of one call to <code>React.createElement</code> for each of the elements in the JSX.</p>
<pre class="text"><code>var Navigation = function Navigation() {
  return React.createElement(&quot;header&quot;, null, React.createElement(&quot;h1&quot;, null, &quot;Petrack&quot;), React.createElement(&quot;nav&quot;, null, React.createElement(&quot;ul&quot;, null, React.createElement(&quot;li&quot;, null, React.createElement(&quot;a&quot;, {
    href: &quot;/pets&quot;
  }, &quot;Pets&quot;)), React.createElement(&quot;li&quot;, null, React.createElement(&quot;a&quot;, {
    href: &quot;/owners&quot;
  }, &quot;Owners&quot;)))));
};</code></pre>
<h3 id="using-the-navigation-component">Using the navigation component</h3>
<p>Back in the <strong>src/PetDetailPage.js</strong> file, import the <code>Navigation</code> component and replace the <code>&lt;div&gt;PetDetailPage component&lt;/div&gt;</code> with the <code>Navigation</code> component much like you did in the <code>App</code> component with <code>PetDetailPage</code>.</p>
<p>Once you save your files, you should see the navigation.</p>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/react-pet-detail-page-nav-complete.png"><img src="https://github.com/bgoonz/React_Notes_V3/raw/master/my-other-notes-n-projects/images/react-pet-detail-page-nav-complete.png" alt="PetDetailPage navigation complete" /></a></p>
<h3 id="what-just-happened">What just happened?</h3>
<p>You created two new components and added them to the <strong>src</strong> directory. You imported them so that other components could use them. It was fast and easy and (hopefully) painless. JSX is lovely to work with, far easier than the calls to <code>React.createElement</code> if that didn’t exist.</p>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/create-react-app-with-default-pet-detail-page.png">Petrack with default PetDetailPage</a>: images/create-react-app-with-default-pet-detail-page.pngimages/create-react-app-with-default-pet-detail-page.png6 orderedList=false} –&gt;</p>
<p>You will now work on creating the PetTrack page.</p>
<ul>
<li><code>PetDetailPage</code>: Created in this step</li>
<li><code>Navigation</code>: Created in this step</li>
<li><code>PetDetails</code></li>
<li><code>PetDetailList</code></li>
<li><code>PetInformationItem</code></li>
<li><code>OwnersList</code></li>
<li><code>OwnerLink</code></li>
</ul>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/pettrack-pet-detail-all-components-with-details-list.png"><img src="https://github.com/bgoonz/React_Notes_V3/raw/master/my-other-notes-n-projects/images/pettrack-pet-detail-all-components-with-details-list.png" alt="Petrack component analysis" /></a></p>
<h3 id="the-strategy-1">The strategy</h3>
<p>This guide will work top-down, in that it will start with the top-most (or outer-most) component, the <code>PetDetailPage</code> component. Then, it will move to a next level component, like <code>Navigation</code>. It will just keep adding components and getting them to work with the data from the AJAX call.</p>
<h3 id="the-pet-detail-page-component-1">The pet detail page component</h3>
<p>The <code>PetDetailPage</code> component will be responsible for showing the navigation component, the details list component, and the owners list component. None of those exist, yet, so just stub out a new component to hold the source.</p>
<p>Create a new file named <strong>PetDetailPage.js</strong> in the <strong>src</strong> directory. In that file, type this content into it.</p>
<pre class="text"><code>import React from &#39;react&#39;;

const PetDetailPage = () =&gt;
  &lt;div&gt;PetDetailPage component&lt;/div&gt; // Temporary so it builds
;

export default PetDetailPage;</code></pre>
<p>Here’s some analysis.</p>
<h4 id="the-import-statement-1">The import statement</h4>
<p>You will notice that the top of the file imports the <code>React</code> object, but you do not use it anywhere in the file! You have to do this because, remember, each JSX element, like <code>&lt;header&gt;...&lt;/header&gt;</code>, ends up getting translated to <code>React.createElement</code> calls. Without the <code>import</code> statement, the <code>React</code> object would not exist and compiling would fail.</p>
<h4 id="the-component-1">The component</h4>
<p>The <code>const PetDetailPage = () =&gt; ...</code> is just a normal arrow function.</p>
<p>The body of the component is a JSX expression <code>&lt;div&gt;&lt;/div&gt;</code> which Babel will translate into an invocation of <code>React.createElement</code>. Here’s what it looks like after passing through Babel.</p>
<pre class="text"><code>var PetDetailPage = function PetDetailPage() {
  return React.createElement(&quot;div&quot;, null, &quot;PetDetailPage component&quot;);
} // Temporary so it builds
;</code></pre>
<h4 id="the-export-statement-1">The export statement</h4>
<p>This is just so you can import it into other components for use, which you will do now.</p>
<h3 id="using-the-pet-detail-page-component-1">Using the pet detail page component</h3>
<p>Open up <strong>src/App.js</strong>. Import the newly-created <code>PetDetailPage</code> component. Remember that this is Webpack that’s doing this for you, so you <em>do not</em> need to put the <strong>.js</strong> extension on the name of the module that you import.</p>
<p>Replace the <code>&lt;h1&gt;Hello&lt;/h1&gt;</code> with <code>&lt;PetDetailPage&gt;&lt;/PetDetailPage&gt;</code>. Save all of your files. You should now see this content in your browser and <em>Components</em> tab.</p>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/create-react-app-with-default-pet-detail-page.png"><img src="https://github.com/bgoonz/React_Notes_V3/raw/master/my-other-notes-n-projects/images/create-react-app-with-default-pet-detail-page.png" alt="Petrack with default PetDetailPage" /></a></p>
<p>The content of the <strong>src/App.js</strong> should look similar to this.</p>
<pre class="text"><code>import React from &#39;react&#39;;

import PetDetailPage from &#39;./PetDetailPage&#39;;

function App() {
  return (
    &lt;PetDetailPage&gt;&lt;/PetDetailPage&gt;
  );
}

export default App;</code></pre>
<p>Since <code>PetDetailPage</code> has no child content, you could also write that code like this, with the ending slash.</p>
<pre class="text"><code>import React from &#39;react&#39;;

import PetDetailPage from &#39;./PetDetailPage&#39;;

function App() {
  return (
    &lt;PetDetailPage /&gt;
  );
}

export default App;</code></pre>
<h3 id="the-navigation-component-2">The navigation component</h3>
<p>Create a new file named <strong>Navigation.js</strong> in the <strong>src</strong> directory of your application. Put this content in there. Please type it rather than copy and paste it.</p>
<pre class="text"><code>import React from &#39;react&#39;;

const Navigation = () =&gt;
  &lt;header&gt;
    &lt;h1&gt;Petrack&lt;/h1&gt;
    &lt;nav&gt;
      &lt;ul&gt;
        &lt;li&gt;
          &lt;a href=&quot;/pets&quot;&gt;Pets&lt;/a&gt;
        &lt;/li&gt;
        &lt;li&gt;
          &lt;a href=&quot;/owners&quot;&gt;Owners&lt;/a&gt;
        &lt;/li&gt;
      &lt;/ul&gt;
    &lt;/nav&gt;
  &lt;/header&gt;
;

export default Navigation;</code></pre>
<p>All of the JSX, the html-looking tags, those get converted into the calls to <code>React.createElement</code>. When Babel gets done with it, it looks like this, which is just an ugly version of one call to <code>React.createElement</code> for each of the elements in the JSX.</p>
<pre class="text"><code>var Navigation = function Navigation() {
  return React.createElement(&quot;header&quot;, null, React.createElement(&quot;h1&quot;, null, &quot;Petrack&quot;), React.createElement(&quot;nav&quot;, null, React.createElement(&quot;ul&quot;, null, React.createElement(&quot;li&quot;, null, React.createElement(&quot;a&quot;, {
    href: &quot;/pets&quot;
  }, &quot;Pets&quot;)), React.createElement(&quot;li&quot;, null, React.createElement(&quot;a&quot;, {
    href: &quot;/owners&quot;
  }, &quot;Owners&quot;)))));
};</code></pre>
<h3 id="using-the-navigation-component-1">Using the navigation component</h3>
<p>Back in the <strong>src/PetDetailPage.js</strong> file, import the <code>Navigation</code> component and replace the <code>&lt;div&gt;PetDetailPage component&lt;/div&gt;</code> with the <code>Navigation</code> component much like you did in the <code>App</code> component with <code>PetDetailPage</code>.</p>
<p>Once you save your files, you should see the navigation.</p>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/react-pet-detail-page-nav-complete.png"><img src="https://github.com/bgoonz/React_Notes_V3/raw/master/my-other-notes-n-projects/images/react-pet-detail-page-nav-complete.png" alt="PetDetailPage navigation complete" /></a></p>
<h3 id="what-just-happened-1">What just happened?</h3>
<p>You created two new components and added them to the <strong>src</strong> directory. You imported them so that other components could use them. It was fast and easy and (hopefully) painless. JSX is lovely to work with, far easier than the calls to <code>React.createElement</code> if that didn’t exist.</p>
<h2 id="jsx-walk-through-pet-details-part-1">JSX Walk-Through: Pet Details, Part 1</h2>
<p>You will now start adding data rendering to the page with the components created and modified in this step.</p>
<ul>
<li><code>PetDetailPage</code>: Modified in this step</li>
<li><code>Navigation</code>: Done</li>
<li><code>PetDetails</code>: Created in this step</li>
<li><code>PetDetailList</code>: Created in this step</li>
<li><code>PetInformationItem</code>: Created in this step</li>
<li><code>OwnersList</code></li>
<li><code>OwnerLink</code></li>
</ul>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/pettrack-pet-detail-all-components-with-details-list.png"><img src="https://github.com/bgoonz/React_Notes_V3/raw/master/my-other-notes-n-projects/images/pettrack-pet-detail-all-components-with-details-list.png" alt="Petrack component analysis" /></a></p>
<h3 id="getting-some-data">Getting some data</h3>
<p>Open the <strong>src/index.js</strong> file. In it, after the call to <code>ReactDOM.render</code>, create a fetch call for the RESTful endpoint <a href="https://polar-beach-08187.herokuapp.com/api/pets/2">https://polar-beach-08187.herokuapp.com/api/pets/2</a>. (You can click on the link to see the data. That’s “Mog”, the cat. She is forgetful.) Do all of the normal stuff that you would do with <code>async</code> functions and what not.</p>
<pre class="text"><code>(async () =&gt; {
  const url = &#39;https://polar-beach-08187.herokuapp.com/api/pets/2&#39;;
  const response = await fetch(url);
  if (response.ok) {
    const pet = await response.json();
    console.log(pet);
  }
})();</code></pre>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/react-mog-data-pull.png"><img src="https://github.com/bgoonz/React_Notes_V3/raw/master/my-other-notes-n-projects/images/react-mog-data-pull.png" alt="Petrack Mog data fetch" /></a></p>
<p>Now, to pass that data into your React components, you will pass it as a property. You have to pass it on the element getting rendered. React is all about rendering things. You can just call another render from inside your <code>async</code> function. But, this time, you will pass the pet data in as an attribute of the <code>App</code> component with curly braces to indicate to JSX that it is a data value and not a string.</p>
<pre class="text"><code>(async () =&gt; {
  const url = &#39;https://polar-beach-08187.herokuapp.com/api/pets/2&#39;;
  const response = await fetch(url);
  if (response.ok) {
    const pet = await response.json();
    console.log(pet);

    ReactDOM.render(
      &lt;React.StrictMode&gt;
        &lt;App pet={pet} /&gt;   {/* Now, with data */}
      &lt;/React.StrictMode&gt;,
      document.getElementById(&#39;root&#39;)
    );
  }
})();</code></pre>
<p>This has changed everything! You don’t see it, yet, but once the AJAX call completes, go look at the <em>Components</em> tab of your DevTools. Click on the <code>App</code> component and look at the values in the right pane. React now knows about the data that you passed in!</p>
<p>Now, you need to pass that to the <code>PetDetailPage</code> component. In the <strong>src/App.js</strong> file, change the function’s parameter list to have a single parameter named “props”. Then, pass the value of <code>props.pet</code> into the pet attribute of the <code>PetDetailPage</code> component, similar to what you did in <strong>src/index.js</strong> for the <code>App</code> component. You should be able to see the props in the <em>Components</em> tab for both the <code>App</code> and <code>PetDetailPage</code> components.</p>
<p><a href="https://camo.githubusercontent.com/8cc6113ce88eebafd0e9beb8407ef4d7b1e1bd8752dcc76958e2b14b1cc0df68/68747470733a2f2f61707061636164656d792d6f70656e2d6173736574732e73332d75732d776573742d312e616d617a6f6e6177732e636f6d2f4d6f64756c61722d437572726963756c756d2f636f6e74656e742f72656163742d72656475782f746f706963732f696e74726f2d746f2d72656163742f6173736574732f6372656174652d72656163742d6170702d70617373696e672d646174612d696e746f2d7065742d64657461696c2d706167652e676966"><img src="https://camo.githubusercontent.com/8cc6113ce88eebafd0e9beb8407ef4d7b1e1bd8752dcc76958e2b14b1cc0df68/68747470733a2f2f61707061636164656d792d6f70656e2d6173736574732e73332d75732d776573742d312e616d617a6f6e6177732e636f6d2f4d6f64756c61722d437572726963756c756d2f636f6e74656e742f72656163742d72656475782f746f706963732f696e74726f2d746f2d72656163742f6173736574732f6372656174652d72656163742d6170702d70617373696e672d646174612d696e746f2d7065742d64657461696c2d706167652e676966" alt="Data passed down to PetDetailPage" /></a></p>
<p>You will use that data to pass down into the detail components that you will now create.</p>
<h3 id="the-pet-details-component">The pet details component</h3>
<p><strong>Note</strong>: This section introduces an error that you will fix. It is a common error, so knowing how to fix it when you see it is good information to have.</p>
<p>The <code>PetDetails</code> component is in charge of rendering the <code>PetDetailList</code> and the <code>OwnersList</code> components. For now, get a new component working.</p>
<p>Create a new file named <strong>src/PetDetails.js</strong>. Import the <code>React</code> object. Create a function-based <code>PetDetails</code> component that has a <code>props</code> parameter, and have it render an empty <code>div</code>. Export the component as the default export for the module.</p>
<p>In the <strong>PetDetailPage.js</strong> file, import the new <code>PetDetails</code> component. Change the <code>PetDetailPage</code> component to accept a <code>props</code> parameter rather then an empty parameter list. Then, use the <code>PetDetails</code> component in the body of the <code>PetDetailPage</code> as a sibling to the <code>Navigation</code> component. You need to pass the pet data into it. Your code should look like this. (You may have empty tags rather than the self-closing slash tags. That’s fine.)</p>
<pre class="text"><code>import React from &#39;react&#39;;

import Navigation from &#39;./Navigation&#39;;
import PetDetails from &#39;./PetDetails&#39;;

const PetDetailPage = props =&gt;
  &lt;Navigation /&gt;
  &lt;PetDetails pet={props.pet} /&gt;
;

export default PetDetailPage;</code></pre>
<p>Save all of your files. Look at your browser. There is an error.</p>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/create-react-app-pet-detail-page-without-single-root-error.png"><img src="https://github.com/bgoonz/React_Notes_V3/raw/master/my-other-notes-n-projects/images/create-react-app-pet-detail-page-without-single-root-error.png" alt="PetDetailPage with adjacent element error" /></a></p>
<p>This happens because components <em>must</em> have a single top-level element. You can see that <code>PetDetailPage</code> now has two because both <code>Navigation</code> and <code>PetDetails</code> are at the top level.</p>
<p>To solve this, you need the two elements in a single element. You could do that with a <code>div</code>, for example.</p>
<pre class="text"><code>const PetDetailPage = props =&gt;
  &lt;div&gt;
    &lt;Navigation /&gt;
    &lt;PetDetails pet={props.pet} /&gt;
  &lt;/div&gt;
;</code></pre>
<p>This is fine, except for when you don’t want to introduce extra tags for no reason in your HTML. That is why, in React 16, the developers introduced the idea of a <code>Fragment</code>. The <code>Fragment</code> is a special placeholder that groups together JSX elements in the virtual DOM, but does not creating any tags in the real DOM. You can wrap those two elements (or any number of elements) in a <code>React.Fragment</code> JSX element like this.</p>
<pre class="text"><code>const PetDetailPage = props =&gt;
  &lt;React.Fragment&gt;
    &lt;Navigation /&gt;
    &lt;PetDetails pet={props.pet} /&gt;
  &lt;/React.Fragment&gt;
;</code></pre>
<p>If you do that and save the file, the compile error goes away and you see the content as it should be.</p>
<p>Wrapping things in <code>Fragment</code> elements like that is such a common thing, that there is a shortcut syntax for it. Since the <code>Fragment</code> does not represent any real tag, you write it like an HTML tag that <em>has no name</em>.</p>
<pre class="text"><code>const PetDetailPage = props =&gt;
  &lt;&gt;
    &lt;Navigation /&gt;
    &lt;PetDetails pet={props.pet} /&gt;
  &lt;/&gt;
;</code></pre>
<p>It’s pretty weird. But, it’s a very <em>React</em> way of doing things.</p>
<h3 id="create-the-pet-detail-list-component">Create the pet detail list component</h3>
<p>Here’s some code for you that you can use for your <code>PetDetailList</code> component. Create a file named <strong>src/PetDetailList.js</strong> and put it in there. Feel free to copy and paste it so that you can get on to the neat-o data stuff.</p>
<pre class="text"><code>import React from &#39;react&#39;;

const PetDetailList = props =&gt;
  &lt;&gt;
    &lt;h2&gt;Details&lt;/h2&gt;
    &lt;dl&gt;

    &lt;/dl&gt;
  &lt;/&gt;
;

export default PetDetailList;</code></pre>
<p>Back in <strong>PetDetails.js</strong>, import this new <code>PetDetailList</code> component, and replace the empty <code>div</code> with it.</p>
<pre class="text"><code>// Add the import line
import PetDetailList from &#39;./PetDetailList.js&#39;;

const PetDetails = props =&gt;
  &lt;PetDetailList pet={props.pet} /&gt;
;

export default PetDetails;</code></pre>
<p>Refresh your page. You should now see the <code>PetDetailList</code> in the <em>Components</em> tab. It’s props should have all of data for the pet on it. You should also see the “Details” headline in the rendered HTML, too.</p>
<p>The next step is to create the <code>PetInformationItem</code> component to fill out that <code>dl</code> just yearning for content in the <code>PetDetailList</code> component.</p>
<h3 id="the-pet-information-item-component-1">The pet information item component</h3>
<p><strong>Note</strong>: The following steps will introduce an error that you will fix. This is so you can get a feel for what kind of errors you will see when working with React.</p>
<p><strong>Mira’s Note</strong>: The following will not actually introduce an error for the reason provided, because there is no missing pass-down of props in the chain of nested components if you follow the instructions. The error described after it, however, will show.</p>
<p>Create a new file, <strong>src/PetInformationItem.js</strong>. It will contain a function-based component that needs data to render, so stub out the function with the “props” parameter. Don’t forget to import the React. Then, it needs to render two elements, the <code>dt</code> element and the <code>dd</code> element. Do that by wrapping a fragment around them.</p>
<pre class="text"><code>&lt;dt&gt;Name of property&lt;/dt&gt;
&lt;dd&gt;Value of property&lt;/dd&gt;</code></pre>
<p>So, the code will look something like this.</p>
<pre class="text"><code>import React from &#39;react&#39;;

const PetInformationItem = props =&gt;
  &lt;&gt;
    &lt;dt&gt;{props.name}&lt;/dt&gt;
    {/* Replace this with the dd element and value */}
  &lt;/&gt;
;

export default PetInformationItem;</code></pre>
<p>Replace the comment with a <code>dd</code> JSX element that has <code>props.value</code> as its content, similar to how the <code>dt</code> has <code>props.name</code> as its content.</p>
<p>That implies an expectation that this component <em>needs</em> a property named “name” that will be used to render the <code>dt</code> element, and it <em>needs</em> a property named “value” to render the <code>dd</code> element.</p>
<p>Once you have that done, it’s time to use it in the <code>PetDetailList</code> components. Go back to <strong>src/PetDetailList.js</strong>. Import the <code>PetInformationItem</code> component. You will use it three times, to show the name, age, and pet type of the pet. Here’s the first one. Just put it in there and save it because you have to investigate an error.</p>
<pre class="text"><code>const PetDetailList = props =&gt;
  &lt;&gt;
    &lt;h2&gt;Details&lt;/h2&gt;
    &lt;dl&gt;
      &lt;PetInformationItem name=&quot;Name&quot; value={props.pet.name}/&gt;
    &lt;/dl&gt;
  &lt;/&gt;
;</code></pre>
<p>This shows that <code>PetDetailList</code> now has an expectation that <code>props</code> will have a “name” property, an “age” property, and a “PetType” property that will have a “type” property on it! That’s a lot of expectations…</p>
<p>If you refresh your page, an error might occur.</p>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/create-react-app-with-property-error.png"><img src="https://github.com/bgoonz/React_Notes_V3/raw/master/my-other-notes-n-projects/images/create-react-app-with-property-error.png" alt="Petrack PetDetails with error" /></a></p>
<p>The <em>Create React App</em> reports the error for you in the browser’s main window. This is nice so that you don’t have to go mucking about the console to try to determine what went wrong.</p>
<p>In the above screen shot, it complains that it cannot get the “property ‘name’ of undefined”. If you get this error, make sure you are passing down the <code>pet</code> prop from the <code>App</code> component all the way down to the <code>PetDetailList</code> component. You can see all the props for each component in the Chrome dev tools Component tab.</p>
<p>The following conditions trigger that same error but for a different reason.</p>
<p>In the <code>src/index.js</code> file, you render <code>App</code> twice. Once before the fetch call, and once after the fetch response comes back. <strong>NOTE: This is NOT the normal way to render the App after a fetch call. You will be learning a better way to use fetch calls with React tomorrow.</strong></p>
<p>Your <code>src/index.js</code> should now look like this:</p>
<pre class="text"><code>// ... imports
ReactDOM.render(
  &lt;React.StrictMode&gt;
    &lt;App /&gt;
  &lt;/React.StrictMode&gt;,
  document.getElementById(&#39;root&#39;)
);

(async () =&gt; {
  const url = &#39;https://polar-beach-08187.herokuapp.com/api/pets/2&#39;;
  const response = await fetch(url);
  if (response.ok) {
    const pet = await response.json();
    ReactDOM.render(
      &lt;React.StrictMode&gt;
        &lt;App pet={pet} /&gt;   {/* Now, with data */}
      &lt;/React.StrictMode&gt;,
      document.getElementById(&#39;root&#39;)
    );
  }
})();</code></pre>
<p>If you refresh your page, you should see the following error.</p>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/create-react-app-with-property-error.png"><img src="https://github.com/bgoonz/React_Notes_V3/raw/master/my-other-notes-n-projects/images/create-react-app-with-property-error.png" alt="Petrack PetDetails with error" /></a></p>
<p>Can you see where that’s happening in the <strong>PetDetailList.js</strong> file? Take a moment to figure out where the error is being thrown.</p>
<p>If you identified the expression <code>props.pet.name</code>, then you got it! Remember that when the React first renders the virtual DOM, it has <em>no data</em>. That doesn’t come until later, after the AJAX call completes. There are <em>so many</em> ways to fix this but <strong>only one</strong> is idiomatic React. That is the use of <code>defaultProps</code>.</p>
<p>Recall that the <code>PetDetailList</code> component has an expectation that the <code>props</code> value should have a “pet” property that is an object. You can specify a default value for the “pet” property for the <code>PetDetails</code> component by putting the following code <em>after</em> the function declaration.</p>
<pre class="text"><code>PetDetailList.defaultProps = {
  pet: {},
};</code></pre>
<p>This tells React that, when the <code>PetDetailList</code> renders, if the “pet” property of <code>props</code> is undefined, then it should use the default value specified in the assignment. This is a built-in React feature and fixes the problem.</p>
<p>Refresh the page. You should now see the page render and, when the AJAX call completes, the name “Mog” to appear.</p>
<p>Now, add the other two <code>PetInformationItem</code> calls. One should have the name “Age” and the value of <code>props.pet.age</code>. The second should have the name “Type” and the value of <code>props.pet.PetType.type</code>. That will cause another error, so take care of it in the <code>defaultProps</code>.</p>
<p><a href="https://camo.githubusercontent.com/17ec7caf469354066cbc253ee3f9440fd721d1a0d386a8111de29765ed8fa7c2/68747470733a2f2f61707061636164656d792d6f70656e2d6173736574732e73332d75732d776573742d312e616d617a6f6e6177732e636f6d2f4d6f64756c61722d437572726963756c756d2f636f6e74656e742f72656163742d72656475782f746f706963732f696e74726f2d746f2d72656163742f6173736574732f72656163742d696e666f726d6174696f6e2d646174612d6c6f61642e676966"><img src="https://camo.githubusercontent.com/17ec7caf469354066cbc253ee3f9440fd721d1a0d386a8111de29765ed8fa7c2/68747470733a2f2f61707061636164656d792d6f70656e2d6173736574732e73332d75732d776573742d312e616d617a6f6e6177732e636f6d2f4d6f64756c61722d437572726963756c756d2f636f6e74656e742f72656163742d72656475782f746f706963732f696e74726f2d746f2d72656163742f6173736574732f72656163742d696e666f726d6174696f6e2d646174612d6c6f61642e676966" alt="Petrack PetDetails before and after load" /></a></p>
<p>If it’s hard to see the before load, comment out the async function in the <code>src/index.js</code> to see what the page looks like before the fetch call is made.</p>
<pre class="text"><code>// ... src/index.js

// (async () =&gt; {
//   const url = &#39;https://polar-beach-08187.herokuapp.com/api/pets/2&#39;;
//   const response = await fetch(url);
//   if (response.ok) {
//     const pet = await response.json();
//     ReactDOM.render(
//       &lt;React.StrictMode&gt;
//         &lt;App pet={pet} /&gt;   {/* Now, with data */}
//       &lt;/React.StrictMode&gt;,
//       document.getElementById(&#39;root&#39;)
//     );
//   }
// })();</code></pre>
<p>If you want that yucky bumpy load to not happen, consider creating a default value for the “value” property in <code>PetInformationItem</code>. In the following screenshot, you can see what happens when you set a default value of “loading…” for the “value” property in <code>PetInformationItem</code>.</p>
<p><a href="https://camo.githubusercontent.com/dcd0fcc5e6fcdb05d7992173a8064922d0076072d81f1d5dd9bbb601d076978f/68747470733a2f2f61707061636164656d792d6f70656e2d6173736574732e73332d75732d776573742d312e616d617a6f6e6177732e636f6d2f4d6f64756c61722d437572726963756c756d2f636f6e74656e742f72656163742d72656475782f746f706963732f696e74726f2d746f2d72656163742f6173736574732f72656163742d696e666f726d6174696f6e2d776974682d6c6f6164696e672d6d6573736167652d646174612d6c6f61642e676966"><img src="https://camo.githubusercontent.com/dcd0fcc5e6fcdb05d7992173a8064922d0076072d81f1d5dd9bbb601d076978f/68747470733a2f2f61707061636164656d792d6f70656e2d6173736574732e73332d75732d776573742d312e616d617a6f6e6177732e636f6d2f4d6f64756c61722d437572726963756c756d2f636f6e74656e742f72656163742d72656475782f746f706963732f696e74726f2d746f2d72656163742f6173736574732f72656163742d696e666f726d6174696f6e2d776974682d6c6f6164696e672d6d6573736167652d646174612d6c6f61642e676966" alt="Petrack PetDetails with loading message" /></a></p>
<h3 id="what-youve-seen-1">What you’ve seen</h3>
<p>In this part of building a React application, you have</p>
<ul>
<li>Passed data from an AJAX call (or really wherever) into a React component</li>
<li>Accessed data using the conventionally-named <code>props</code> parameter in your function-based components</li>
<li>Passed data from a “parent” component to a “child” component</li>
<li>Used default values to prevent errors and improve the aesthetic experience of using your application</li>
</ul>
<p>Just one more step and you’re done!</p>
<h2 id="jsx-walk-through-pet-details-part-2">JSX Walk-Through: Pet Details, Part 2</h2>
<p>All you have left is to create a list of owners with links.</p>
<ul>
<li><code>PetDetailPage</code>: Done</li>
<li><code>Navigation</code>: Done</li>
<li><code>PetDetails</code>: Modified in this step</li>
<li><code>PetDetailList</code>: Done</li>
<li><code>PetInformationItem</code>: Done</li>
<li><code>OwnersList</code>: Created in this step</li>
<li><code>OwnerLink</code>Created in this step</li>
</ul>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/pettrack-pet-detail-all-components-with-details-list.png"><img src="https://github.com/bgoonz/React_Notes_V3/raw/master/my-other-notes-n-projects/images/pettrack-pet-detail-all-components-with-details-list.png" alt="Petrack component analysis" /></a></p>
<p>You’re almost done. Now, you get to handle a collection of data from the owners.</p>
<h3 id="stub-out-the-owners-list-component">Stub out the owners list component</h3>
<p>You’ve done this four other times, so it’s pretty straight forward.</p>
<ul>
<li>Create the <strong>src/OwnersList.js</strong> file. In it,
<ul>
<li>Import the React object</li>
<li>Create the function-based component named <code>OwnersList</code> with a <code>props</code> argument that uses a <code>React.Fragment</code> as its element</li>
<li>Add a child that is an ‘h2’ with the content “Owners”</li>
<li>Using <code>defaultProps</code>, add a default property value for “owners” and set it to an empty array because this component will expect an array of owner data</li>
<li>Export the <code>OwnersList</code> as the default export</li>
</ul></li>
<li>In the <strong>PetDetails.js</strong> file,
<ul>
<li>Import the <code>OwnersList</code> component</li>
<li>Add it as another child element of the <code>PetDetailPage</code> component after the <code>PetDetailList</code></li>
<li>Wrap both the <code>PetDetailList</code> and <code>OwnersList</code> in a <code>Fragment</code>.</li>
<li>Pass in the owners to the <code>OwnersList</code> component in a property named “owners” like this <code>{props.pet.Owners}</code> which will pass in the array of owners for the pet</li>
<li>Fix the error with a default value for the “pet” property</li>
</ul></li>
</ul>
<pre class="text"><code>// src/PetDetails.js
import React from &#39;react&#39;;

import OwnersList from &#39;./OwnersList&#39;;
import PetDetailList from &#39;./PetDetailList&#39;;

const PetDetails = props =&gt;
  &lt;&gt;
    &lt;PetDetailList pet={props.pet} /&gt;
    &lt;OwnersList owners={props.pet.Owners} /&gt;
  &lt;/&gt;
;

PetDetails.defaultProps = {
  pet: {
    PetType: {},
  },
};

export default PetDetails;</code></pre>
<p>Refresh the page and make sure everything still works.</p>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/react-pet-detail-with-owners-headline.png"><img src="https://github.com/bgoonz/React_Notes_V3/raw/master/my-other-notes-n-projects/images/react-pet-detail-with-owners-headline.png" alt="Petrack with owners headline" /></a></p>
<h3 id="dealing-with-the-list">Dealing with the list</h3>
<p><strong>Note</strong>: This section introduces an error that you will fix. It is a common error about how to create React elements from lists. You may see it often. This way, you will know how to fix it, too.</p>
<p>Back in <strong>OwnersList.js</strong>, you want a <code>ul</code> to follow the <code>h2</code>.</p>
<pre class="text"><code>const OwnersList = props =&gt;
  &lt;&gt;
    &lt;h2&gt;Owners&lt;/h2&gt;
    &lt;ul&gt;
      {/* Create li elements here */}
    &lt;/ul&gt;
  &lt;/&gt;
;</code></pre>
<p>Here’s the thing. You have an array of owners. You want to turn them into some list items. For each owner, you want to <em>map</em> that to a list item. And, therein lies the hint. Since the value in <code>props.owners</code> is an array, you can use the <code>map</code> function to generate another array of React elements and plop them in there! Give it a go with this code. Replace the comment about where list items go above with this line of code.</p>
<pre class="text"><code>{ props.owners.map(owner =&gt;
  &lt;li&gt;{owner.firstName}&lt;/li&gt;
)}</code></pre>
<p>Refresh the page. What happens? You should now see “Human” for each of the list items. That’s great! In the console, there’s an error. That’s sad!</p>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/react-pet-detail-owners-list-with-key-error.png"><img src="https://github.com/bgoonz/React_Notes_V3/raw/master/my-other-notes-n-projects/images/react-pet-detail-owners-list-with-key-error.png" alt="Petrack with owners list and key error" /></a></p>
<p>In this last step, you’ve changed the way you’re passing children into the <code>React.createElement</code>. Up until now, you’ve had discrete single elements as children, like in <strong>PetDetailList.js</strong> where you have this code.</p>
<pre class="text"><code>const PetDetailList = props =&gt;
  &lt;&gt;
    &lt;h2&gt;Details&lt;/h2&gt;
    &lt;dl&gt;
      &lt;PetInformationItem name=&quot;Name&quot; value={props.pet.name}/&gt;
      &lt;PetInformationItem name=&quot;Age&quot; value={props.pet.age}/&gt;
      &lt;PetInformationItem name=&quot;Type&quot; value={props.pet.PetType.type}/&gt;
    &lt;/dl&gt;
  &lt;/&gt;
;</code></pre>
<p>Each of <code>PetInformationItem</code> elements is a different, discrete, and separate child for the <code>dl</code> element.</p>
<p>The code in <strong>OwnersList.js</strong>, this code,</p>
<pre class="text"><code>const OwnersList = props =&gt;
  &lt;&gt;
    &lt;h2&gt;Owners&lt;/h2&gt;
    &lt;ul&gt;
      {props.owners.map(owner =&gt;
        &lt;li&gt;{owner.firstName}&lt;/li&gt;
      )}
    &lt;/ul&gt;
  &lt;/&gt;
;</code></pre>
<p>in that, you have created an <em>array</em> of objects. Recall that when you call the <code>map</code> function on an array, it returns <em>another array</em>. React doesn’t care about this, but it would like a little help in tracking each of those entries in the virtual DOM that it builds. That’s what the error message is about, giving React a little help by providing a “key” property for each of the elements that you’re creating in the array. The value of the “key” property must be unique and stable, that is, for a given object (like an owner named “Human One” with an id of 7), the value returned must always be the same. Luckily, because you have the id of the owner, you can use that because that id value is tied to a primary key, somewhere, and should never change for this object. The name can change, of course. But, the id will likely never change.</p>
<p>Add a “key” property to the <code>li</code> element and set it equal to the id of the owner object, like this.</p>
<pre class="text"><code>&lt;li key={owner.id}&gt;{owner.firstName}&lt;/li&gt;</code></pre>
<p>Now, the error in the console goes away.</p>
<p>Back to the <code>OwnersList</code> component, look at the formatting, the indentation that you see in the code.</p>
<pre class="text"><code>const OwnersList = props =&gt;
  &lt;&gt;
    &lt;h2&gt;Owners&lt;/h2&gt;
    &lt;ul&gt;
      {props.owners.map(owner =&gt;
        &lt;li key={owner.id}&gt;
          {owner.firstName}
        &lt;/li&gt;
      )}
    &lt;/ul&gt;
  &lt;/&gt;
;</code></pre>
<p>That, too, is idiomatic React, the <em>React</em> way of doing things. You’ll see that kind of code all over the React world.</p>
<h3 id="the-owner-link-component-1">The owner link component</h3>
<p>While it’s nice, and all, to see the owner’s first name in the list, the actual page has a link to the owner page with the format “last name, first name”. Time to create the (last!) component of this walk-through.</p>
<p>Create a new file named <strong>src/OwnerLink.js</strong>. In it, do the following:</p>
<ul>
<li>Import the React object</li>
<li>Create a new function-based component named <code>OwnerLink</code> that accepts data that has
<ul>
<li><code>a</code> as its element</li>
<li>An object literal with the property name “href” and the value of the “href” property passed in through the <code>props</code></li>
<li>A string as its child which contains the last name and the first name</li>
</ul></li>
<li>Export the component as the default export</li>
</ul>
<p>Once you have that, import the <code>OwnerLink</code> component into the <strong>src/OwnersList.js</strong> file. Now, replace this line in <code>OwnersList</code></p>
<pre class="text"><code>{owner.firstName}</code></pre>
<p>with an <code>OwnerLink</code> component with <em>three</em> attributes: “href”, “firstName”, and “lastName”. Those are the three properties expected inside the component. Use the curly brace syntax to pass in the appropriate values of the <code>owner</code>. This is something you haven’t done, yet. Try to think through the problem of how to pass in <em>multiple</em> property values. If you get stuck and can’t get it after about ten minutes, ask for help!</p>
<p>Refresh the page. If everything works, you’re done!</p>
<h3 id="what-youve-done-here">What you’ve done, here</h3>
<p>In this part of the walk-through, you used a collection to render a collection of React elements. You found out that using a collection like that requires you to provide a “key” property that has a stable, unique value. Once you had that, React would gladly manage that collection of objects in its virtual DOM.</p>
<h3 id="what-youve-done-overall">What you’ve done, overall</h3>
<p>You have used JSX to do some amazing things, here.</p>
<ul>
<li>You reinforced the best practice of putting one React component in its own file (module) and exporting it as the default value of the module</li>
<li>You learned that JSX compiles to <code>React.createElement</code></li>
<li>You learned that <code>&lt;&gt;</code> and <code>&lt;/&gt;</code> are shorthand literal for the often-used <code>React.Fragment</code> element</li>
<li>You used <code>defaultProps</code> to make sure that components always had some valid values to work with</li>
<li>You used <em>pure functional components</em> all the way through this, which means that none of the components used any other data than what was given to it</li>
<li>You are intimately familiar with how React creates its elements, now, which means there will be no magical thinking about JSX when you use it</li>
</ul>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/react-pet-detail-owners-list-with-key-error.png">Petrack with owners list and key error</a>: images/react-pet-detail-owners-list-with-key-error.pngimages/react-pet-detail-owners-list-with-key-error.png=6 orderedList=false} –&gt;</p>
<p>All you have left is to create a list of owners with links.</p>
<ul>
<li><code>PetDetailPage</code>: Done</li>
<li><code>Navigation</code>: Done</li>
<li><code>PetDetails</code>: Modified in this step</li>
<li><code>PetDetailList</code>: Done</li>
<li><code>PetInformationItem</code>: Done</li>
<li><code>OwnersList</code>: Created in this step</li>
<li><code>OwnerLink</code>Created in this step</li>
</ul>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/pettrack-pet-detail-all-components-with-details-list.png"><img src="https://github.com/bgoonz/React_Notes_V3/raw/master/my-other-notes-n-projects/images/pettrack-pet-detail-all-components-with-details-list.png" alt="Petrack component analysis" /></a></p>
<p>You’re almost done. Now, you get to handle a collection of data from the owners.</p>
<h3 id="stub-out-the-owners-list-component-1">Stub out the owners list component</h3>
<p>You’ve done this four other times, so it’s pretty straight forward.</p>
<ul>
<li>Create the <strong>src/OwnersList.js</strong> file. In it,
<ul>
<li>Import the React object</li>
<li>Create the function-based component named <code>OwnersList</code> with a <code>props</code> argument that uses a <code>React.Fragment</code> as its element</li>
<li>Add a child that is an ‘h2’ with the content “Owners”</li>
<li>Using <code>defaultProps</code>, add a default property value for “owners” and set it to an empty array because this component will expect an array of owner data</li>
<li>Export the <code>OwnersList</code> as the default export</li>
</ul></li>
<li>In the <strong>PetDetails.js</strong> file,
<ul>
<li>Import the <code>OwnersList</code> component</li>
<li>Add it as another child element of the <code>PetDetailPage</code> component after the <code>PetDetailList</code></li>
<li>Wrap both the <code>PetDetailList</code> and <code>OwnersList</code> in a <code>Fragment</code>.</li>
<li>Pass in the owners to the <code>OwnersList</code> component in a property named “owners” like this <code>{props.pet.Owners}</code> which will pass in the array of owners for the pet</li>
<li>Fix the error with a default value for the “pet” property</li>
</ul></li>
</ul>
<pre class="text"><code>// src/PetDetails.js
import React from &#39;react&#39;;

import OwnersList from &#39;./OwnersList&#39;;
import PetDetailList from &#39;./PetDetailList&#39;;

const PetDetails = props =&gt;
  &lt;&gt;
    &lt;PetDetailList pet={props.pet} /&gt;
    &lt;OwnersList owners={props.pet.Owners} /&gt;
  &lt;/&gt;
;

PetDetails.defaultProps = {
  pet: {
    PetType: {},
  },
};

export default PetDetails;</code></pre>
<p>Refresh the page and make sure everything still works.</p>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/react-pet-detail-with-owners-headline.png"><img src="https://github.com/bgoonz/React_Notes_V3/raw/master/my-other-notes-n-projects/images/react-pet-detail-with-owners-headline.png" alt="Petrack with owners headline" /></a></p>
<h3 id="dealing-with-the-list-1">Dealing with the list</h3>
<p><strong>Note</strong>: This section introduces an error that you will fix. It is a common error about how to create React elements from lists. You may see it often. This way, you will know how to fix it, too.</p>
<p>Back in <strong>OwnersList.js</strong>, you want a <code>ul</code> to follow the <code>h2</code>.</p>
<pre class="text"><code>const OwnersList = props =&gt;
  &lt;&gt;
    &lt;h2&gt;Owners&lt;/h2&gt;
    &lt;ul&gt;
      {/* Create li elements here */}
    &lt;/ul&gt;
  &lt;/&gt;
;</code></pre>
<p>Here’s the thing. You have an array of owners. You want to turn them into some list items. For each owner, you want to <em>map</em> that to a list item. And, therein lies the hint. Since the value in <code>props.owners</code> is an array, you can use the <code>map</code> function to generate another array of React elements and plop them in there! Give it a go with this code. Replace the comment about where list items go above with this line of code.</p>
<pre class="text"><code>{ props.owners.map(owner =&gt;
  &lt;li&gt;{owner.firstName}&lt;/li&gt;
)}</code></pre>
<p>Refresh the page. What happens? You should now see “Human” for each of the list items. That’s great! In the console, there’s an error. That’s sad!</p>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/react-pet-detail-owners-list-with-key-error.png"><img src="https://github.com/bgoonz/React_Notes_V3/raw/master/my-other-notes-n-projects/images/react-pet-detail-owners-list-with-key-error.png" alt="Petrack with owners list and key error" /></a></p>
<p>In this last step, you’ve changed the way you’re passing children into the <code>React.createElement</code>. Up until now, you’ve had discrete single elements as children, like in <strong>PetDetailList.js</strong> where you have this code.</p>
<pre class="text"><code>const PetDetailList = props =&gt;
  &lt;&gt;
    &lt;h2&gt;Details&lt;/h2&gt;
    &lt;dl&gt;
      &lt;PetInformationItem name=&quot;Name&quot; value={props.pet.name}/&gt;
      &lt;PetInformationItem name=&quot;Age&quot; value={props.pet.age}/&gt;
      &lt;PetInformationItem name=&quot;Type&quot; value={props.pet.PetType.type}/&gt;
    &lt;/dl&gt;
  &lt;/&gt;
;</code></pre>
<p>Each of <code>PetInformationItem</code> elements is a different, discrete, and separate child for the <code>dl</code> element.</p>
<p>The code in <strong>OwnersList.js</strong>, this code,</p>
<pre class="text"><code>const OwnersList = props =&gt;
  &lt;&gt;
    &lt;h2&gt;Owners&lt;/h2&gt;
    &lt;ul&gt;
      {props.owners.map(owner =&gt;
        &lt;li&gt;{owner.firstName}&lt;/li&gt;
      )}
    &lt;/ul&gt;
  &lt;/&gt;
;</code></pre>
<p>in that, you have created an <em>array</em> of objects. Recall that when you call the <code>map</code> function on an array, it returns <em>another array</em>. React doesn’t care about this, but it would like a little help in tracking each of those entries in the virtual DOM that it builds. That’s what the error message is about, giving React a little help by providing a “key” property for each of the elements that you’re creating in the array. The value of the “key” property must be unique and stable, that is, for a given object (like an owner named “Human One” with an id of 7), the value returned must always be the same. Luckily, because you have the id of the owner, you can use that because that id value is tied to a primary key, somewhere, and should never change for this object. The name can change, of course. But, the id will likely never change.</p>
<p>Add a “key” property to the <code>li</code> element and set it equal to the id of the owner object, like this.</p>
<pre class="text"><code>&lt;li key={owner.id}&gt;{owner.firstName}&lt;/li&gt;</code></pre>
<p>Now, the error in the console goes away.</p>
<p>Back to the <code>OwnersList</code> component, look at the formatting, the indentation that you see in the code.</p>
<pre class="text"><code>const OwnersList = props =&gt;
  &lt;&gt;
    &lt;h2&gt;Owners&lt;/h2&gt;
    &lt;ul&gt;
      {props.owners.map(owner =&gt;
        &lt;li key={owner.id}&gt;
          {owner.firstName}
        &lt;/li&gt;
      )}
    &lt;/ul&gt;
  &lt;/&gt;
;</code></pre>
<p>That, too, is idiomatic React, the <em>React</em> way of doing things. You’ll see that kind of code all over the React world.</p>
<h3 id="the-owner-link-component-2">The owner link component</h3>
<p>While it’s nice, and all, to see the owner’s first name in the list, the actual page has a link to the owner page with the format “last name, first name”. Time to create the (last!) component of this walk-through.</p>
<p>Create a new file named <strong>src/OwnerLink.js</strong>. In it, do the following:</p>
<ul>
<li>Import the React object</li>
<li>Create a new function-based component named <code>OwnerLink</code> that accepts data that has
<ul>
<li><code>a</code> as its element</li>
<li>An object literal with the property name “href” and the value of the “href” property passed in through the <code>props</code></li>
<li>A string as its child which contains the last name and the first name</li>
</ul></li>
<li>Export the component as the default export</li>
</ul>
<p>Once you have that, import the <code>OwnerLink</code> component into the <strong>src/OwnersList.js</strong> file. Now, replace this line in <code>OwnersList</code></p>
<pre class="text"><code>{owner.firstName}</code></pre>
<p>with an <code>OwnerLink</code> component with <em>three</em> attributes: “href”, “firstName”, and “lastName”. Those are the three properties expected inside the component. Use the curly brace syntax to pass in the appropriate values of the <code>owner</code>. This is something you haven’t done, yet. Try to think through the problem of how to pass in <em>multiple</em> property values. If you get stuck and can’t get it after about ten minutes, ask for help!</p>
<p>Refresh the page. If everything works, you’re done!</p>
<h3 id="what-youve-done-here-1">What you’ve done, here</h3>
<p>In this part of the walk-through, you used a collection to render a collection of React elements. You found out that using a collection like that requires you to provide a “key” property that has a stable, unique value. Once you had that, React would gladly manage that collection of objects in its virtual DOM.</p>
<h3 id="what-youve-done-overall-1">What you’ve done, overall</h3>
<p>You have used JSX to do some amazing things, here.</p>
<ul>
<li>You reinforced the best practice of putting one React component in its own file (module) and exporting it as the default value of the module</li>
<li>You learned that JSX compiles to <code>React.createElement</code></li>
<li>You learned that <code>&lt;&gt;</code> and <code>&lt;/&gt;</code> are shorthand literal for the often-used <code>React.Fragment</code> element</li>
<li>You used <code>defaultProps</code> to make sure that components always had some valid values to work with</li>
<li>You used <em>pure functional components</em> all the way through this, which means that none of the components used any other data than what was given to it</li>
<li>You are intimately familiar with how React creates its elements, now, which means there will be no magical thinking about JSX when you use it</li>
</ul>
<p><em>React!</em> {ignore=true}</p>
<h2 id="basic-react-objectives-1">Basic React Objectives</h2>
<p>Learning React can seem daunting. The documentation available on the main site is geared toward people who have a lot of experience creating front-end applications. The basic React objectives gets you over that hump. At the end of the lessons, you should be able to:</p>
<ul>
<li>Explain how React uses a tree data structure called the “virtual DOM” to model the DOM</li>
<li>Use <code>React.createElement</code> to create virtual DOM nodes</li>
<li>Use <code>ReactDOM.render</code> to have React render your virtual DOM nodes into the actual Web page</li>
<li>Use JSX to create virtual DOM nodes</li>
<li>Describe how JSX transforms into <code>React.createElement</code> calls</li>
<li>Use <code>Array#map</code> to create an array of virtual DOM nodes while specifying a unique key for each created virtual DOM node</li>
</ul>
<h2 id="from-javascript-to-dom-1">From JavaScript To DOM</h2>
<p>The path from JavaScript to actual DOM elements appearing in your HTML document is not complex thanks to React. However, it is worth reviewing so that there is no mystery about it.</p>
<p>In this article, you will review how to use <code>React.createElement</code> to get what you want into React’s virtual DOM so that React will convert into real DOM. There are three steps:</p>
<ul>
<li>Invoking <code>createElement</code> to build the “element tree”</li>
<li>Invoking <code>render</code> to let React build its virtual DOM</li>
<li>“Waiting” for React to convert its virtual DOM into real DOM</li>
</ul>
<p>This article’s goal is for React to create the following HTML in the DOM.</p>
<pre class="text"><code>&lt;ul&gt;
  &lt;li class=&quot;selected&quot;&gt;
    &lt;a href=&quot;/pets&quot;&gt;Pets&lt;/a&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;a href=&quot;/owners&quot;&gt;Owners&lt;/a&gt;
  &lt;/li&gt;
&lt;/ul&gt;</code></pre>
<h3 id="using-react-1">Using React</h3>
<p>There is one method to consider when building interfaces using low-level React. From the <a href="https://reactjs.org/docs/react-api.html#createelement">documentation</a>, the <code>React.createElement</code> function has the following form:</p>
<pre class="text"><code>React.createElement(
  type,
  [props],
  [...children]
)</code></pre>
<p>The arguments for it are</p>
<ul>
<li><strong>type</strong>: the type of element to create, either a string for an HTML element, or a reference to a function or class that is a React component</li>
<li><strong>props</strong>: an object that contains data to render the element, either data to dynamically show or attributes to put on the element in the HTML</li>
<li><strong>children</strong>: the children of the element, as many as you want</li>
</ul>
<h3 id="creating-elements-1">Creating elements</h3>
<p>For each tag that you want to create with React, you will make a call to <code>React.createElement</code>. In the HTML above, there are five tags to create:</p>
<ul>
<li>One <code>ul</code> element</li>
<li>Two <code>li</code> elements</li>
<li>Two <code>a</code> elements</li>
</ul>
<p>Three of those tags have attributes that you want to have appear in the DOM:</p>
<ul>
<li>One <code>li</code> element has a “class” attribute (which you <em>must</em> translate to “className” when using in React)</li>
<li>Both <code>a</code> elements have “href” attributes</li>
</ul>
<p>Finally, there is a parent-child relationship between the elements.</p>
<ul>
<li>The <code>ul</code> element is the parent of both <code>li</code> elements</li>
<li>Both <code>li</code> elements have a single <code>a</code> element child</li>
<li>Both <code>a</code> elements have “child” text content</li>
</ul>
<p>To summarize, here are the elements and how you would translate them to their respective arguments for <code>React.createElement</code>.</p>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">HTML snippet</th>
<th style="text-align: left;">type</th>
<th style="text-align: left;">props</th>
<th style="text-align: left;">children</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>&lt;ul&gt;...&lt;/ul&gt;</code></td>
<td style="text-align: left;"><code>'ul'</code></td>
<td style="text-align: left;"><code>null</code></td>
<td style="text-align: left;">Two calls to <code>React.createElement</code>, one for each <code>li</code> child</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>&lt;li class="selected"&gt;...&lt;/li&gt;</code></td>
<td style="text-align: left;"><code>'li'</code></td>
<td style="text-align: left;"><code>{ className: 'selected' }</code></td>
<td style="text-align: left;">One call to <code>React.createElement</code> for the <code>a</code> child</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>&lt;li&gt;...&lt;/li&gt;</code></td>
<td style="text-align: left;"><code>'li'</code></td>
<td style="text-align: left;"><code>null</code></td>
<td style="text-align: left;">One call to <code>React.createElement</code> for the <code>a</code> child</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>&lt;a href="/pets"&gt;Pets&lt;/a&gt;</code></td>
<td style="text-align: left;"><code>'a'</code></td>
<td style="text-align: left;"><code>{ href: '/pets' }</code></td>
<td style="text-align: left;">The string <code>'Pets'</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>&lt;a href="/owners"&gt;Owners&lt;/a&gt;</code></td>
<td style="text-align: left;"><code>'a'</code></td>
<td style="text-align: left;"><code>{ href: '/owners' }</code></td>
<td style="text-align: left;">The string <code>'Owners'</code></td>
</tr>
</tbody>
</table>
<p>To create this tree of elements, you will use nested calls to <code>React.createElement</code>. The standard formatting for this is for elements to have children, put each argument on its own line, and for elements that have no children or just text content, put all arguments on a single line.</p>
<p>Since the <code>ul</code> has children, it will have its arguments on separate lines. Referring to the table above gives you:</p>
<pre class="text"><code>React.createElement(
  &#39;ul&#39;,
  null,
  // First li child,
  // Second li child,
);</code></pre>
<p>The first <code>li</code> element has a child. Its call to <code>React.createElement</code> will have its arguments each go on their own separate lines:</p>
<pre class="text"><code>React.createElement(
  &#39;ul&#39;,
  null,
  React.createElement(
    &#39;li&#39;,
    { className: &#39;selected&#39; },
    // a child
  ),
  // Second li child,
);</code></pre>
<p>The anchor element for “Pets” has only one text child. Its call to <code>React.createElement</code> will have its arguments on one line:</p>
<pre class="text"><code>React.createElement(
  &#39;ul&#39;,
  null,
  React.createElement(
    &#39;li&#39;,
    { className: &#39;selected&#39; },
    React.createElement(&#39;a&#39;, { href: &#39;/pets&#39;}, &#39;Pets&#39;),
  ),
  // Second li child,
);</code></pre>
<p>The second <code>li</code> element has a child. Its call to <code>React.createElement</code> will have its arguments each go on their own separate lines:</p>
<pre class="text"><code>React.createElement(
  &#39;ul&#39;,
  null,
  React.createElement(
    &#39;li&#39;,
    { className: &#39;selected&#39; },
    React.createElement(&#39;a&#39;, { href: &#39;/pets&#39;}, &#39;Pets&#39;),
  ),
  React.createElement(
    &#39;li&#39;,
    null,
    // a child
  ),
);</code></pre>
<p>The other anchor element, the one for “Owners” has only one text child. Its call to <code>React.createElement</code> will have its arguments on one line:</p>
<pre class="text"><code>React.createElement(
  &#39;ul&#39;,
  null,
  React.createElement(
    &#39;li&#39;,
    { className: &#39;selected&#39; },
    React.createElement(&#39;a&#39;, { href: &#39;/pets&#39;}, &#39;Pets&#39;),
  ),
  React.createElement(
    &#39;li&#39;,
    null,
    React.createElement(&#39;a&#39;, { href: &#39;/owners&#39;}, &#39;Owners&#39;),
  ),
);</code></pre>
<p>That’s how you translate what you want from simple HTML into well-formatted calls to <code>React.createElement</code>. That will build the “element tree” for React to use.</p>
<h3 id="converting-to-virtual-dom-1">Converting to virtual DOM</h3>
<p>To tell React to start the conversion process, you have to use the <code>React.render</code> method which takes a value returned from <code>React.createElement</code> and a DOM node in the actual document where React will insert the result of the conversion into real DOM.</p>
<p>If you wanted to insert what was created in the last section into the <code>main</code> tag, the most forward way of doing that is like this.</p>
<pre class="text"><code>// Put the element tree in a variable
const navList = React.createElement(
  &#39;ul&#39;,
  null,
  React.createElement(
    &#39;li&#39;,
    { className: &#39;selected&#39; },
    React.createElement(&#39;a&#39;, { href: &#39;/pets&#39;}, &#39;Pets&#39;),
  ),
  React.createElement(
    &#39;li&#39;,
    null,
    React.createElement(&#39;a&#39;, { href: &#39;/owners&#39;}, &#39;Owners&#39;),
  ),
);

// Get a DOM node for React to render to
const mainElement = document.querySelector(&#39;main&#39;);

// Give React the element tree and the target
ReactDOM.render(navList, mainElement);</code></pre>
<p>At this point, you have given the element tree that you want created to React. It will then take that and construct its virtual DOM from it.</p>
<p><a href="https://camo.githubusercontent.com/46fad4e7a7986e25d8b20785c6baee6d8eca7c725d4ad4f181b963c57615abcd/68747470733a2f2f61707061636164656d792d6f70656e2d6173736574732e73332d75732d776573742d312e616d617a6f6e6177732e636f6d2f4d6f64756c61722d437572726963756c756d2f636f6e74656e742f72656163742d72656475782f746f706963732f696e74726f2d746f2d72656163742f6173736574732f72656163742d6578616d706c652d636f6e76657273696f6e2d7669727475616c2d646f6d2e737667"><img src="https://camo.githubusercontent.com/46fad4e7a7986e25d8b20785c6baee6d8eca7c725d4ad4f181b963c57615abcd/68747470733a2f2f61707061636164656d792d6f70656e2d6173736574732e73332d75732d776573742d312e616d617a6f6e6177732e636f6d2f4d6f64756c61722d437572726963756c756d2f636f6e74656e742f72656163742d72656475782f746f706963732f696e74726f2d746f2d72656163742f6173736574732f72656163742d6578616d706c652d636f6e76657273696f6e2d7669727475616c2d646f6d2e737667" alt="Convert element tree to virtual DOM" /></a></p>
<p>Now that it has built it’s own model of the virtual DOM using the elements that you created, it can now take that and turn that into real DOM.</p>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/react-example-conversion-real-dom.svg"><img src="https://github.com/bgoonz/React_Notes_V3/raw/master/my-other-notes-n-projects/images/react-example-conversion-real-dom.svg" alt="Convert virtual DOM to real DOM" /></a></p>
<p>It takes that real DOM and inserts it as the content of the target that you gave it which, in this case, is the <code>main</code> element in the body of the document.</p>
<h3 id="updates-1">Updates</h3>
<p>When you call <code>React.render</code> again for the same component and target, React takes the existing virtual DOM it knows about last time it rendered the element tree, compares it to whatever new thing you want to render, and determines which (if any) of the living DOM needs to change.</p>
<p>For example, let’s say you constructed the same element tree but left off the “selected” class for the first list element. Then, when you rendered it, again, by calling <code>React.render</code>, React would compare the new element tree with the old element tree, figure out that one class was missing on that one <code>li</code> element, and remove that and only that from the real DOM.</p>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/react-example-virtual-dom-diff.svg"><img src="https://github.com/bgoonz/React_Notes_V3/raw/master/my-other-notes-n-projects/images/react-example-virtual-dom-diff.svg" alt="Virtual DOM diff" /></a></p>
<h3 id="what-youve-learned-2">What you’ve learned</h3>
<p>In this article, you learned</p>
<ul>
<li>To convert desired HTML into properly-formatted nested calls of <code>React.createElement</code></li>
<li>How React takes your element tree and builds its virtual DOM from the elements that you created</li>
<li>How React takes that virtual DOM and inserts it into the living HTML document</li>
<li>How React will compare an old virtual DOM tree with a new virtual DOM tree, figure out what changed, and then change that and only that in the real DOM</li>
</ul>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/react-example-virtual-dom-diff.svg">Virtual DOM diff</a>: images/react-example-virtual-dom-diff.svgimages/react-example-virtual-dom-diff.svg orderedList=false} –&gt;</p>
<p>The path from JavaScript to actual DOM elements appearing in your HTML document is not complex thanks to React. However, it is worth reviewing so that there is no mystery about it.</p>
<p>In this article, you will review how to use <code>React.createElement</code> to get what you want into React’s virtual DOM so that React will convert into real DOM. There are three steps:</p>
<ul>
<li>Invoking <code>createElement</code> to build the “element tree”</li>
<li>Invoking <code>render</code> to let React build its virtual DOM</li>
<li>“Waiting” for React to convert its virtual DOM into real DOM</li>
</ul>
<p>This article’s goal is for React to create the following HTML in the DOM.</p>
<pre class="text"><code>&lt;ul&gt;
  &lt;li class=&quot;selected&quot;&gt;
    &lt;a href=&quot;/pets&quot;&gt;Pets&lt;/a&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;a href=&quot;/owners&quot;&gt;Owners&lt;/a&gt;
  &lt;/li&gt;
&lt;/ul&gt;</code></pre>
<h3 id="using-react-2">Using React</h3>
<p>There is one method to consider when building interfaces using low-level React. From the <a href="https://reactjs.org/docs/react-api.html#createelement">documentation</a>, the <code>React.createElement</code> function has the following form:</p>
<pre class="text"><code>React.createElement(
  type,
  [props],
  [...children]
)</code></pre>
<p>The arguments for it are</p>
<ul>
<li><strong>type</strong>: the type of element to create, either a string for an HTML element, or a reference to a function or class that is a React component</li>
<li><strong>props</strong>: an object that contains data to render the element, either data to dynamically show or attributes to put on the element in the HTML</li>
<li><strong>children</strong>: the children of the element, as many as you want</li>
</ul>
<h3 id="creating-elements-2">Creating elements</h3>
<p>For each tag that you want to create with React, you will make a call to <code>React.createElement</code>. In the HTML above, there are five tags to create:</p>
<ul>
<li>One <code>ul</code> element</li>
<li>Two <code>li</code> elements</li>
<li>Two <code>a</code> elements</li>
</ul>
<p>Three of those tags have attributes that you want to have appear in the DOM:</p>
<ul>
<li>One <code>li</code> element has a “class” attribute (which you <em>must</em> translate to “className” when using in React)</li>
<li>Both <code>a</code> elements have “href” attributes</li>
</ul>
<p>Finally, there is a parent-child relationship between the elements.</p>
<ul>
<li>The <code>ul</code> element is the parent of both <code>li</code> elements</li>
<li>Both <code>li</code> elements have a single <code>a</code> element child</li>
<li>Both <code>a</code> elements have “child” text content</li>
</ul>
<p>To summarize, here are the elements and how you would translate them to their respective arguments for <code>React.createElement</code>.</p>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">HTML snippet</th>
<th style="text-align: left;">type</th>
<th style="text-align: left;">props</th>
<th style="text-align: left;">children</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>&lt;ul&gt;...&lt;/ul&gt;</code></td>
<td style="text-align: left;"><code>'ul'</code></td>
<td style="text-align: left;"><code>null</code></td>
<td style="text-align: left;">Two calls to <code>React.createElement</code>, one for each <code>li</code> child</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>&lt;li class="selected"&gt;...&lt;/li&gt;</code></td>
<td style="text-align: left;"><code>'li'</code></td>
<td style="text-align: left;"><code>{ className: 'selected' }</code></td>
<td style="text-align: left;">One call to <code>React.createElement</code> for the <code>a</code> child</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>&lt;li&gt;...&lt;/li&gt;</code></td>
<td style="text-align: left;"><code>'li'</code></td>
<td style="text-align: left;"><code>null</code></td>
<td style="text-align: left;">One call to <code>React.createElement</code> for the <code>a</code> child</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>&lt;a href="/pets"&gt;Pets&lt;/a&gt;</code></td>
<td style="text-align: left;"><code>'a'</code></td>
<td style="text-align: left;"><code>{ href: '/pets' }</code></td>
<td style="text-align: left;">The string <code>'Pets'</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>&lt;a href="/owners"&gt;Owners&lt;/a&gt;</code></td>
<td style="text-align: left;"><code>'a'</code></td>
<td style="text-align: left;"><code>{ href: '/owners' }</code></td>
<td style="text-align: left;">The string <code>'Owners'</code></td>
</tr>
</tbody>
</table>
<p>To create this tree of elements, you will use nested calls to <code>React.createElement</code>. The standard formatting for this is for elements to have children, put each argument on its own line, and for elements that have no children or just text content, put all arguments on a single line.</p>
<p>Since the <code>ul</code> has children, it will have its arguments on separate lines. Referring to the table above gives you:</p>
<pre class="text"><code>React.createElement(
  &#39;ul&#39;,
  null,
  // First li child,
  // Second li child,
);</code></pre>
<p>The first <code>li</code> element has a child. Its call to <code>React.createElement</code> will have its arguments each go on their own separate lines:</p>
<pre class="text"><code>React.createElement(
  &#39;ul&#39;,
  null,
  React.createElement(
    &#39;li&#39;,
    { className: &#39;selected&#39; },
    // a child
  ),
  // Second li child,
);</code></pre>
<p>The anchor element for “Pets” has only one text child. Its call to <code>React.createElement</code> will have its arguments on one line:</p>
<pre class="text"><code>React.createElement(
  &#39;ul&#39;,
  null,
  React.createElement(
    &#39;li&#39;,
    { className: &#39;selected&#39; },
    React.createElement(&#39;a&#39;, { href: &#39;/pets&#39;}, &#39;Pets&#39;),
  ),
  // Second li child,
);</code></pre>
<p>The second <code>li</code> element has a child. Its call to <code>React.createElement</code> will have its arguments each go on their own separate lines:</p>
<pre class="text"><code>React.createElement(
  &#39;ul&#39;,
  null,
  React.createElement(
    &#39;li&#39;,
    { className: &#39;selected&#39; },
    React.createElement(&#39;a&#39;, { href: &#39;/pets&#39;}, &#39;Pets&#39;),
  ),
  React.createElement(
    &#39;li&#39;,
    null,
    // a child
  ),
);</code></pre>
<p>The other anchor element, the one for “Owners” has only one text child. Its call to <code>React.createElement</code> will have its arguments on one line:</p>
<pre class="text"><code>React.createElement(
  &#39;ul&#39;,
  null,
  React.createElement(
    &#39;li&#39;,
    { className: &#39;selected&#39; },
    React.createElement(&#39;a&#39;, { href: &#39;/pets&#39;}, &#39;Pets&#39;),
  ),
  React.createElement(
    &#39;li&#39;,
    null,
    React.createElement(&#39;a&#39;, { href: &#39;/owners&#39;}, &#39;Owners&#39;),
  ),
);</code></pre>
<p>That’s how you translate what you want from simple HTML into well-formatted calls to <code>React.createElement</code>. That will build the “element tree” for React to use.</p>
<h3 id="converting-to-virtual-dom-2">Converting to virtual DOM</h3>
<p>To tell React to start the conversion process, you have to use the <code>React.render</code> method which takes a value returned from <code>React.createElement</code> and a DOM node in the actual document where React will insert the result of the conversion into real DOM.</p>
<p>If you wanted to insert what was created in the last section into the <code>main</code> tag, the most forward way of doing that is like this.</p>
<pre class="text"><code>// Put the element tree in a variable
const navList = React.createElement(
  &#39;ul&#39;,
  null,
  React.createElement(
    &#39;li&#39;,
    { className: &#39;selected&#39; },
    React.createElement(&#39;a&#39;, { href: &#39;/pets&#39;}, &#39;Pets&#39;),
  ),
  React.createElement(
    &#39;li&#39;,
    null,
    React.createElement(&#39;a&#39;, { href: &#39;/owners&#39;}, &#39;Owners&#39;),
  ),
);

// Get a DOM node for React to render to
const mainElement = document.querySelector(&#39;main&#39;);

// Give React the element tree and the target
ReactDOM.render(navList, mainElement);</code></pre>
<p>At this point, you have given the element tree that you want created to React. It will then take that and construct its virtual DOM from it.</p>
<p><a href="https://camo.githubusercontent.com/46fad4e7a7986e25d8b20785c6baee6d8eca7c725d4ad4f181b963c57615abcd/68747470733a2f2f61707061636164656d792d6f70656e2d6173736574732e73332d75732d776573742d312e616d617a6f6e6177732e636f6d2f4d6f64756c61722d437572726963756c756d2f636f6e74656e742f72656163742d72656475782f746f706963732f696e74726f2d746f2d72656163742f6173736574732f72656163742d6578616d706c652d636f6e76657273696f6e2d7669727475616c2d646f6d2e737667"><img src="https://camo.githubusercontent.com/46fad4e7a7986e25d8b20785c6baee6d8eca7c725d4ad4f181b963c57615abcd/68747470733a2f2f61707061636164656d792d6f70656e2d6173736574732e73332d75732d776573742d312e616d617a6f6e6177732e636f6d2f4d6f64756c61722d437572726963756c756d2f636f6e74656e742f72656163742d72656475782f746f706963732f696e74726f2d746f2d72656163742f6173736574732f72656163742d6578616d706c652d636f6e76657273696f6e2d7669727475616c2d646f6d2e737667" alt="Convert element tree to virtual DOM" /></a></p>
<p>Now that it has built it’s own model of the virtual DOM using the elements that you created, it can now take that and turn that into real DOM.</p>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/react-example-conversion-real-dom.svg"><img src="https://github.com/bgoonz/React_Notes_V3/raw/master/my-other-notes-n-projects/images/react-example-conversion-real-dom.svg" alt="Convert virtual DOM to real DOM" /></a></p>
<p>It takes that real DOM and inserts it as the content of the target that you gave it which, in this case, is the <code>main</code> element in the body of the document.</p>
<h3 id="updates-2">Updates</h3>
<p>When you call <code>React.render</code> again for the same component and target, React takes the existing virtual DOM it knows about last time it rendered the element tree, compares it to whatever new thing you want to render, and determines which (if any) of the living DOM needs to change.</p>
<p>For example, let’s say you constructed the same element tree but left off the “selected” class for the first list element. Then, when you rendered it, again, by calling <code>React.render</code>, React would compare the new element tree with the old element tree, figure out that one class was missing on that one <code>li</code> element, and remove that and only that from the real DOM.</p>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/react-example-virtual-dom-diff.svg"><img src="https://github.com/bgoonz/React_Notes_V3/raw/master/my-other-notes-n-projects/images/react-example-virtual-dom-diff.svg" alt="Virtual DOM diff" /></a></p>
<h3 id="what-youve-learned-3">What you’ve learned</h3>
<p>In this article, you learned</p>
<ul>
<li>To convert desired HTML into properly-formatted nested calls of <code>React.createElement</code></li>
<li>How React takes your element tree and builds its virtual DOM from the elements that you created</li>
<li>How React takes that virtual DOM and inserts it into the living HTML document</li>
<li>How React will compare an old virtual DOM tree with a new virtual DOM tree, figure out what changed, and then change that and only that in the real DOM</li>
</ul>
<h2 id="javascript-extension-1">JavaScript eXtension</h2>
<p>Using <code>React.createElement</code> is a bore and a chore when creating React-powered applications. The developers that used React, both inside and outside of Facebook, wanted an easier way to interact with the React API and hide all of the minutiae that comes with using <code>React.createElement</code>. They invented a new language that sits on top of JavaScript called <em>JavaScript eXtension</em>, or JSX.</p>
<p>In this article, you will learn</p>
<ul>
<li>How to use JSX in your application</li>
<li>The syntax of JSX, and</li>
<li>How JSX transforms into <code>React.createElement</code> calls</li>
</ul>
<h3 id="how-to-use-jsx-1">How to use JSX</h3>
<p>Because browsers don’t understand JSX, you have to use some tools to translate JSX into just plain old JavaScript. The main tool that you will use in almost every case is one called <a href="https://babeljs.io/">Babel</a>. It is a tool that can convert versions of modern JavaScript into old version of JavaScript. It can convert <em>future</em> features of JavaScript into modern JavaScript. It can convert JSX into modern (or old) JavaScript.</p>
<p>However, using Babel by itself is like building a house with just a hammer. It’d be nice to have fancier tools to help you build that house. That’s where tools like <a href="https://github.com/facebook/create-react-app">Create React App</a> come into play. <strong>Create React App</strong> uses Babel underneath and, then, adds a whole lot more. You’ll see more of *<em>Create React App</em> as you progress through the course.</p>
<h3 id="jsx-syntax-1">JSX Syntax</h3>
<p>Here’s a function-based component using <code>React.createElement</code> that has an <code>h1</code> element with the content “Hello!”, a placeholder image, and a link to some search engine passed in through props.</p>
<pre class="text"><code>const ExampleComponent = props =&gt; React.createElement(
  React.Fragment,
  null,
  React.createElement(&#39;h1&#39;, null, &#39;Hello!&#39;),
  React.createElement(&#39;img&#39;, { src: &#39;images/150&#39; }),
  React.createElement(&#39;a&#39;, { href: props.searchUrl }, props.searchText),
);</code></pre>
<p>You’ve likely seen that before. JSX allows you to get rid of all of the calls to <code>React.createElement</code> and replace them with almost HTML-looking tags. Here’s what the above content looks like in JSX.</p>
<pre class="text"><code>const ExampleComponent = props =&gt;
  &lt;React.Fragment&gt;
    &lt;h1&gt;Hello!&lt;/h1&gt;
    &lt;img src=&quot;images/150&quot; /&gt;
    &lt;a href={props.searchUrl}&gt;{props.searchText}&lt;/a&gt;
  &lt;/React.Fragment&gt;
;</code></pre>
<p>You can see Babel in action converting that JSX code above. Here’s a <a href="https://babeljs.io/en/repl#?babili=false&amp;browsers=&amp;build=&amp;builtIns=false&amp;spec=false&amp;loose=false&amp;code_lz=DwIwrgLhD2B2AEcDCAbAlgYwNYF4DeAFAJTw4B88EAFmgM4B0tAphAMoQCGETBe86WJgBMAXJQBOYJvAC-RGWQBQ8FfAAyaQYuAB6cFDhkgA&amp;debug=false&amp;forceAllTransforms=false&amp;shippedProposals=false&amp;circleciRepo=&amp;evaluate=false&amp;fileSize=false&amp;timeTravel=false&amp;sourceType=module&amp;lineWrap=true&amp;presets=es2015%2Creact%2Cstage-2&amp;prettier=false&amp;targets=&amp;version=7.4.3">link to Babel</a> already configured for you. Copy and paste that code above to see it transform back into <code>React.createElement</code> invocations.</p>
<h4 id="html-like-tags-but-1">HTML-like tags, but…</h4>
<p>The <code>React.Fragment</code> element <em>contains</em> the <code>h1</code>, <code>img</code>, and <code>a</code>, just like it does in the <code>React.createElement</code> version, except instead of using a method call to do it, it uses more familiar HTML-like tags. There’s one super big difference between the HTML that you know and what JSX expects. Can you see it?</p>
<p>Look at the end of the <code>img</code> tag. See that “/” before the closing angle bracket? You <em>must</em> include that if the tag that you’re using doesn’t have a close tag. If you want to use those HTML element in your JSX, then you have to put the slash. The following table shows some common tags that you’d use and their JSX equivalent.</p>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">HTML self-closing tag</th>
<th style="text-align: left;">JSX equivalent</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>&lt;br&gt;</code></td>
<td style="text-align: left;"><code>&lt;br /&gt;</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>&lt;hr&gt;</code></td>
<td style="text-align: left;"><code>&lt;hr /&gt;</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>&lt;img&gt;</code></td>
<td style="text-align: left;"><code>&lt;img /&gt;</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>&lt;input&gt;</code></td>
<td style="text-align: left;"><code>&lt;input /&gt;</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>&lt;link&gt;</code></td>
<td style="text-align: left;"><code>&lt;link /&gt;</code></td>
</tr>
</tbody>
</table>
<h4 id="properties-and-data-1">Properties and data</h4>
<p>When you use the low-level <code>React.createElement</code> function call, you pass the properties in as an object as the second argument. In JSX, you pass in properties as if they were attributes on the tag.</p>
<p>When you want to use a static value, just use a string literal like this.</p>
<pre class="text"><code>&lt;img src=&quot;https://via.placeholder.com/150&quot; /&gt;</code></pre>
<p>becomes</p>
<pre class="text"><code>React.createElement(
  &#39;img&#39;,
  { src: &quot;https://via.placeholder.com/150&quot; }
)</code></pre>
<p>And, when you want to pass in some data rather than a sting literal like above, you use curly braces to turn</p>
<pre class="text"><code>&lt;a href={props.searchUrl}&gt;{props.searchText}&lt;/a&gt;</code></pre>
<p>into</p>
<pre class="text"><code>React.createElement(
  &#39;a&#39;,
  { href: props.searchUrl },
  props.searchText
)</code></pre>
<p>The stuff inside the curly braces is just a JavaScript expression, so you could do something like this, if you wanted, to make the search text uppercase:</p>
<pre class="text"><code>&lt;a href={props.searchUrl}&gt;
  {props.searchText.toUpperCase()}
&lt;/a&gt;</code></pre>
<h4 id="comments-1">Comments</h4>
<p>To use comments in JSX, you use curly braces (because that means its just a normal JavaScript expression) and block-level JavaScript comments.</p>
<pre class="text"><code>&lt;div&gt;
  &lt;h2&gt;This is JSX&lt;/h2&gt;
  {/* This is a comment in JSX */}
&lt;/div&gt;</code></pre>
<h4 id="property-names-1">Property names</h4>
<p>Please read <a href="https://reactjs.org/docs/dom-elements.html">DOM Elements</a> in the React documentation to understand how property names work, as well as the special property names that React supports. You can be assessed on the following special attributes:</p>
<ul>
<li><code>checked</code></li>
<li><code>className</code></li>
<li><code>dangerouslySetInnerHTML</code></li>
<li><code>htmlFor</code></li>
<li><code>onChange</code></li>
<li><code>style</code></li>
<li><code>value</code></li>
</ul>
<p>Also, you can be assessed on knowing that React uses camel-case for its attribute names so attributes like <code>maxlength</code> in HTML are <code>maxLength</code> in React.</p>
<h3 id="the-jsx-semicolon-gotcha-1">The JSX semicolon gotcha</h3>
<p>You will also see code like this in other React projects, as well as in code generated by tools. It is a function-based component that uses the <code>function</code> keyword rather than an arrow function. Note the <code>return</code> statement.</p>
<pre class="text"><code>function App() {
  return (
    &lt;div&gt;
      &lt;h1&gt;Hello!&lt;/h1&gt;
      &lt;div&gt;Welcome to JSX.&lt;/div&gt;
    &lt;/div&gt;
  );
}</code></pre>
<p>You’ll see that the JSX block is wrapped in parentheses. This is due to the way that JavaScript handles something called <a href="https://www.ecma-international.org/ecma-262/#sec-rules-of-automatic-semicolon-insertion">“automatic semicolon insertion”</a>. Here’s a simple example. What do you think the function returns? (Yes, this <em>is</em> a “trick question”.)</p>
<pre class="text"><code>function sum(i, j) {
  return
    i + j;
}</code></pre>
<p>If the answer isn’t obvious, start Node on the command line, type it in exactly the way it is there, and try calling it with <code>sum(1, 2)</code>.</p>
<p>You may be surprised to see that it returns <code>undefined</code>. Here’s why: when JavaScript reads your source code, it tries to be “helpful”. When it reads the lines of your code, it asks, is each line a “complete” line? Is it and the following lines valid JavaScript expressions? If the answer is “yes”, then it will add a semicolon at the end of the line <em>for you</em>. When it reads the above “sum” function, the JavaScript runner “thinks” to itself:</p>
<ul>
<li>Ok, I have two lines:
<ul>
<li><code>return</code></li>
<li><code>i + j;</code></li>
</ul></li>
<li>Are each of those valid JavaScript expressions? Yes!</li>
<li>Now, I will put semicolons at the end of the lines that don’t have any
<ul>
<li><code>return;</code></li>
<li><code>i + j;</code></li>
</ul></li>
</ul>
<p>Now, your function, in the eyes of JavaScript, looks like this.</p>
<pre class="text"><code>function sum(i, j) {
  return; // &lt;- There&#39;s a new semicolon!
    i + j;
}</code></pre>
<p>That function never gets to <code>i + j</code> because it always returns “no value” on the first line. Yikes!</p>
<p>To get around that, you can add parentheses to tell JavaScript that “more is coming”.</p>
<pre class="text"><code>function sum(i, j) {
  return (
    i + j
  );
}</code></pre>
<p>Now, when JavaScript reads the line <code>return (</code>, it “thinks” to itself, “Well, that’s not a complete expression. There must be more coming. I will <em>not</em> put a semicolon there.”</p>
<p>The same is true for functions containing JSX. The above code</p>
<pre class="text"><code>function App() {
  return (
    &lt;div&gt;
      &lt;h1&gt;Hello!&lt;/h1&gt;
      &lt;div&gt;Welcome to JSX.&lt;/div&gt;
    &lt;/div&gt;
  );
}</code></pre>
<p>is equivalent to</p>
<pre class="text"><code>function App() {
  return (
    React.createElement(
      &#39;div&#39;,
      null,
      React.createElement(&#39;h1&#39;, null, &#39;Hello!&#39;),
      React.createElement(&#39;div&#39;, null, &#39;Welcome to JSX.&#39;),
    )
  );
}</code></pre>
<p>Without the parentheses starting right after the <code>return</code> keyword and ending after the outer call of <code>React.createElement</code>, JavaScript would just stick a semicolon after the <code>return</code> keyword and all of the fancy React stuff would get ignored.</p>
<p>The message is clear: if you use the <code>return</code> keyword in a function to “return some JSX”, then make sure you wrap the JSX in parentheses.</p>
<h3 id="what-youve-learned-4">What you’ve learned</h3>
<p>That’s really all there is to JSX. You combine your knowledge of HTML and your knowledge of <code>React.createElement</code> to allow the Babel tool to turn your code into plain old JavaScript for you. Specifically, you have seen the following conversions:</p>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Conversion type</th>
<th style="text-align: left;">JSX</th>
<th style="text-align: left;">JavaScript</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">tags</td>
<td style="text-align: left;"><code>&lt;h1&gt;&lt;/h1&gt;</code></td>
<td style="text-align: left;"><code>React.createElement('h1', null)</code></td>
</tr>
<tr class="even">
<td style="text-align: left;">attributes</td>
<td style="text-align: left;"><code>&lt;img src="images/foo.png"/&gt;</code></td>
<td style="text-align: left;"><code>React.createElement('img', { src: "foo.png" })</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;">variables</td>
<td style="text-align: left;"><code>&lt;h1&gt;{message}&lt;/h1&gt;</code></td>
<td style="text-align: left;"><code>React.createElement('h1', null, message)</code></td>
</tr>
</tbody>
</table>
<p>You’ve also read about the special property names that React supports.</p>
<p>Finally, you learned about the frustrating side effect of “automatic semicolon insertion” and, if you do use the <code>return</code> keyword in your functions, that you should wrap the JSX in parentheses to prevent JavaScript from <em>not</em> returning your code.</p>
<h2 id="walk-through-creating-elements-in-react-1">Walk-Through: Creating Elements In React</h2>
<p>To start your React journey, you will build your foundational knowledge by starting out with the basic <code>React.createElement</code> and <code>ReactDOM.render</code>. One of the compelling features of this type of solution is that you do not need <em>any</em> extra tools to get your app running in the browser. In the next walk-through, you will have to <em>install</em> a ton of packages just to get React to properly work. This project will walk you through how to use a pure JavaScript version of React. Everything will work right out of the box.</p>
<h3 id="getting-started-1">Getting started</h3>
<p>Install the <a href="https://chrome.google.com/webstore/detail/react-developer-tools/fmkadmapgofadopljbjfkapdkoienihi">React DevTools for Google Chrome</a>.</p>
<p><a href="https://camo.githubusercontent.com/ed6ef6e77ef9916d970667512572a0ebef83b6a4b55a1ced108f2ad3b91cb209/68747470733a2f2f61707061636164656d792d6f70656e2d6173736574732e73332d75732d776573742d312e616d617a6f6e6177732e636f6d2f4d6f64756c61722d437572726963756c756d2f636f6e74656e742f72656163742d72656475782f746f706963732f696e74726f2d746f2d72656163742f6173736574732f72656163742d646576746f6f6c732e706e67"><img src="https://camo.githubusercontent.com/ed6ef6e77ef9916d970667512572a0ebef83b6a4b55a1ced108f2ad3b91cb209/68747470733a2f2f61707061636164656d792d6f70656e2d6173736574732e73332d75732d776573742d312e616d617a6f6e6177732e636f6d2f4d6f64756c61722d437572726963756c756d2f636f6e74656e742f72656163742d72656475782f746f706963732f696e74726f2d746f2d72656163742f6173736574732f72656163742d646576746f6f6c732e706e67" alt="React DevTools for Google Chrome screenshot" /></a></p>
<p>Create a new directory to contain this new project. In that directory, create two files: an <strong>index.html</strong> file and an <strong>app.js</strong> file. In the <strong>index.html</strong> file, create a standard HTML 5 document. In the HTML <code>body</code> (in this order), create a <code>main</code> element and a <code>script</code> element for your <strong>app.js</strong> file with <code>type="module"</code> so you can use ES6 modules.</p>
<p>Serve your files with a local Python server by running the <code>python3 -m http.server</code> command in your terminal. Make sure you are running the command from within your project directory. You should be able to open <a href="http://localhost:8000/">http://localhost:8000</a> to see the page, empty as it is.</p>
<h3 id="test-that-things-are-working-1">Test that things are working</h3>
<p>Get ready! You’re going to do the first React thing! You’re going to create a React element that will display “Hello, programmers!”. You will then have React render it to the DOM.</p>
<p>Copy and paste the following JavaScript code into your <strong>app.js</strong>, refresh your page, look at the code to get a feel for what it does, try to come up with explanations on your own, and then continue reading.</p>
<pre class="text"><code>import &#39;https://unpkg.com/react@16/umd/react.development.js&#39;;
import &#39;https://unpkg.com/react-dom@16/umd/react-dom.development.js&#39;;

const HelloWorld = () =&gt; React.createElement(
  &#39;h1&#39;,
  null,
  &#39;Hello, programmers&#39;,
);

const target = document.querySelector(&#39;main&#39;);
const app = React.createElement(HelloWorld, null);
ReactDOM.render(app, target);</code></pre>
<p><strong>Note</strong>: You may want to turn on “Disable cache” on the <em>Network</em> tab of your DevTools and keep the DevTools open while you’re doing this to make sure you always have the newest version of the files.</p>
<p>You should now have <em>Components</em> and <em>Profiler</em> tabs in your DevTools. If you click on the <code>HelloWorld</code> component in the <em>Components</em> tab, you can see that it has no <em>props</em>. You’ll learn much more about props later. For now, just remember that the React DevTools extension is a helpful tool for you to view information about your components and their props.</p>
<h3 id="walking-through-the-code-1">Walking through the code</h3>
<p>Even though there are only five statements in that code block, a lot is going on. This section carefully walks through each of the statements to help you get a deeper understanding.</p>
<h4 id="those-wacky-import-statements-1">Those wacky import statements</h4>
<p>Consider those <code>import</code> statements. These differ in two ways from what you’ve seen with ES modules to date.</p>
<ol type="1">
<li>They come from another website altogether. When you use <code>import</code> to bring in modules from another domain, that request is governed by CORS; that means the other server <em>must</em> have CORS configured to let you import their code. Luckily, unpkg.com configures CORS to allow any authority to import their script files.</li>
<li>They don’t seem to import anything. There is no <code>import { React } from</code> there. It’s just <code>import 'url'</code>. This is called a <em>side effect</em> import and is generally frowned upon in modern Web development. But, React does not package their code in ES6 format. What those <code>import</code> statements do is <em>add variables in the global scope</em>. The two variables they add are <code>React</code> from the first import, and <code>ReactDOM</code> from the second import. Those global variables can then be used by your code, which happens with <code>React.createElement</code> and <code>ReactDOM.render</code>.</li>
</ol>
<p>If you were going to move these into production, you would change the URLs that you import from</p>
<pre class="text"><code>import &#39;https://unpkg.com/react@16/umd/react.development.js&#39;;
import &#39;https://unpkg.com/react-dom@16/umd/react-dom.development.js&#39;;</code></pre>
<p>to</p>
<pre class="text"><code>import &#39;https://unpkg.com/react@16/umd/react.production.min.js&#39;;
import &#39;https://unpkg.com/react-dom@16.13.1/umd/react-dom.production.min.js&#39;;</code></pre>
<p>Those files contain the minified “production” version of the code, which is just a smaller version of the “development” versions. If you open up the links to the <a href="https://unpkg.com/react@16/umd/react.development.js">react.development.js</a> and <a href="https://unpkg.com/react@16/umd/react.production.min.js">react-production.min.js</a> files in your browser, you’ll see JavaScript in both files. Notice how the non-minified version (<a href="https://unpkg.com/react@16/umd/react.development.js">react.development.js</a>) includes plain JavaScript you’re used to seeing. The minified version simply compresses that JavaScript.</p>
<h4 id="the-odd-looking-function-1">The odd-looking function</h4>
<p>Turn your attention to this statement.</p>
<pre class="text"><code>const HelloWorld = () =&gt; React.createElement(
  &#39;h1&#39;,
  null,
  &#39;Hello, programmers!&#39;
);</code></pre>
<p>The statement declares the <code>HelloWorld</code> variable and stores a function in it. This is the way that components look in React. It is a function-based component because it’s a function. It returns the value returned from <code>React.createElement</code>. If that syntax is weird, it is functionally the same as this code.</p>
<pre class="text"><code>const HelloWorld = () =&gt; {
  return React.createElement(&#39;h1&#39;, null, &#39;Hello, programmers!&#39;);
}</code></pre>
<p>Because there are a lot of die-hard functional programmers (as opposed to object-oriented programmers) that like that kind of syntax (arrow functions without curly braces that span multiple lines), you will see it in a lot of places while learning React.</p>
<p>The arguments passed to <code>React.createElement</code> are:</p>
<ol type="1">
<li>What to create in the DOM.</li>
</ol>
<ul>
<li>If it is a string, it needs to be all lowercase and the name of the HTML element to create. This example passes in <code>'h1'</code> as the tag to create in the DOM.</li>
<li>Otherwise, it should be the variable that holds another component. You can see it being used that way in the later code.</li>
</ul>
<ol type="1">
<li>Any properties/attributes to put on the generated element. This example passes in <code>null</code> because there are no attributes needed. You will see some, soon.</li>
<li>The child content of the element. The third (and fourth and fifth and…) arguments contains what React should put as the children of the content of the element. In this case, the content is <code>'Hello, programmers!'</code>.</li>
</ol>
<p><strong>Important</strong>: Every time this walk-through asks you to create a function-based component, this is what it will mostly look like. It will look like this <em>or</em> it will look like this and have a single parameter named <code>props</code> like this.</p>
<pre class="text"><code>// Without the need for data
const HelloWorldNoData = () =&gt; React.createElement(
  &#39;h1&#39;,
  null,
  &#39;Hello, programmers!&#39;
);

// With the need for data has the
// props parameter.
const HelloWorldWithData = props =&gt; React.createElement(
  &#39;h1&#39;,
  null,
  &#39;Hello, programmers!&#39;
);</code></pre>
<h4 id="putting-it-in-the-page-1">Putting it in the page</h4>
<p>The last three statements in the code block are these.</p>
<pre class="text"><code>const target = document.querySelector(&#39;main&#39;);
const app = React.createElement(HelloWorld, null);
ReactDOM.render(app, target);</code></pre>
<p>The first line is something you should be really familiar with. You are selecting the <code>&lt;main&gt;</code> element and referencing it as <code>target</code>.</p>
<p>The second line is using <code>React.createElement</code> to create an element from the <code>HelloWorld</code> function-based component discussed in the last section. It has <code>null</code> properties.</p>
<p>The third line <em>renders</em> the component into the actual Web page, the component specified by the first argument, which is the one created from the <code>HelloWorld</code> component. Remember that you can open your DevTools, find the <em>Components</em> tab, and click it to see the React DevTools show you the “HelloWorld” component rendered by React.</p>
<p><a href="https://camo.githubusercontent.com/34c87f7d0be732eed985d8bcea1e451c873f70dce946c9a245aad1078b6e0dbc/68747470733a2f2f61707061636164656d792d6f70656e2d6173736574732e73332d75732d776573742d312e616d617a6f6e6177732e636f6d2f4d6f64756c61722d437572726963756c756d2f636f6e74656e742f72656163742d72656475782f746f706963732f696e74726f2d746f2d72656163742f6173736574732f72656163742d68656c6c6f2d70726f6772616d6d6572732d6372656174652d656c656d656e742d776974682d72656163742d746f6f6c732e706e67"><img src="https://camo.githubusercontent.com/34c87f7d0be732eed985d8bcea1e451c873f70dce946c9a245aad1078b6e0dbc/68747470733a2f2f61707061636164656d792d6f70656e2d6173736574732e73332d75732d776573742d312e616d617a6f6e6177732e636f6d2f4d6f64756c61722d437572726963756c756d2f636f6e74656e742f72656163742d72656475782f746f706963732f696e74726f2d746f2d72656163742f6173736574732f72656163742d68656c6c6f2d70726f6772616d6d6572732d6372656174652d656c656d656e742d776974682d72656163742d746f6f6c732e706e67" alt="Hello programmers with dev tools" /></a></p>
<p>Before moving on, add some more to that, so you get a feel for how it works. Replace the content of your <strong>app.js</strong> with this stuff. The comments to the right of each line shows what React will do with the stuff only after you call <code>ReactDOM.render</code> with it.</p>
<blockquote>
<p><strong>Note:</strong> since you have not included a CSS file to style <code>#nav-links</code> and <code>.is-selected</code> in your project, the <code>id</code> and <code>className</code> aren’t actually being used for any styling purpose. The code below includes an <code>id</code> and <code>className</code> to shows an example of setting <code>id</code> and <code>className</code> with <code>React.createElement</code> and how it translates to HTML.</p>
</blockquote>
<pre class="text"><code>import &#39;https://unpkg.com/react@16/umd/react.development.js&#39;;
import &#39;https://unpkg.com/react-dom@16/umd/react-dom.development.js&#39;;

const Links = () =&gt; React.createElement(
  &#39;ul&#39;,                                  // &lt;ul
  { id: &#39;nav-links&#39; },                   //  id=&quot;nav-links&quot;&gt;
  React.createElement(
    &#39;li&#39;,                                // &lt;li
    { className: &#39;is-selected&#39; },        //  class=&quot;is-selected&quot;&gt;
    React.createElement(
      &#39;a&#39;,                               // &lt;a
      { href: &#39;https://lambda-resources.netlify.app/&#39; }, //  href=&quot;...&quot;&gt;
      &#39;Lambda&#39;                      //    Lambda
    ),                                   // &lt;/a&gt;
  ),                                     // &lt;/li&gt;
  React.createElement(
    &#39;li&#39;,                                // &lt;li&gt;
    null,
    React.createElement(
      &#39;a&#39;,                               // &lt;a
      { href: &#39;https://lambda-resources.netlify.app/&#39; },   //  href=&quot;...&quot;&gt;
      &#39;Lambda Resources&#39;,                       
    ),                                   // &lt;/a&gt;
  ),                                     // &lt;/li&gt;
);                                       // &lt;/ul&gt;

const HelloWorld = () =&gt; React.createElement(
  &#39;h1&#39;,
  null,
  &#39;Hello, programmers&#39;,
);

// Creates the HelloWorld first and, then, creates
// the Links
const AllTogether = () =&gt; React.createElement(
  &#39;div&#39;,
  null,
  React.createElement(HelloWorld, null),
  React.createElement(Links, null),
);

const target = document.querySelector(&#39;main&#39;);
const app = React.createElement(AllTogether, null);
ReactDOM.render(app, target);</code></pre>
<p>Look at what gets produced in the <em>Elements</em> tab of your DevTools. Look at what gets produced in the <em>Components</em> tab of your DevTools for all three of your components. Play around with it: change tags, replace some of those <code>null</code> second arguments with objects to see what gets presented. Give it a whirl. From this point on, you’ll be working with JavaScript code known as <strong>JSX</strong> in your React projects. JSX is just syntactic sugar that translates to creating React element objects. Although you won’t be creating full-scale projects with <code>React.createElement</code>, it’s important to remember that React is actually using <code>React.createElement</code> under the hood.</p>
<h2 id="thinking-in-components-1">Thinking In Components</h2>
<p>For the next couple of walk through articles, you will be reproducing a page from Petrack. Please go to <a href="https://polar-beach-08187.herokuapp.com/">Petrack</a> and click around it so you can see how it works. Pay special attention to the detail page for the pets. This article will analyze it so that it can introduce you into how to “think in React”.</p>
<p><a href="https://camo.githubusercontent.com/516a3c3be41766740df025045e45a19a064fd638b816cb831766888afe249798/68747470733a2f2f61707061636164656d792d6f70656e2d6173736574732e73332d75732d776573742d312e616d617a6f6e6177732e636f6d2f4d6f64756c61722d437572726963756c756d2f636f6e74656e742f72656163742d72656475782f746f706963732f696e74726f2d746f2d72656163742f6173736574732f706574747261636b2d7065742d64657461696c2e706e67"><img src="https://camo.githubusercontent.com/516a3c3be41766740df025045e45a19a064fd638b816cb831766888afe249798/68747470733a2f2f61707061636164656d792d6f70656e2d6173736574732e73332d75732d776573742d312e616d617a6f6e6177732e636f6d2f4d6f64756c61722d437572726963756c756d2f636f6e74656e742f72656163742d72656475782f746f706963732f696e74726f2d746f2d72656163742f6173736574732f706574747261636b2d7065742d64657461696c2e706e67" alt="Petrack pet detail page" /></a></p>
<p>When you “think in React”, you are supposed to “think in components”. A component in React is usually a JavaScript function or a class that returns a special React object called an “element”. There is a <em>very</em> vocal community that believes that function-based components are far superior than class-based components because they’re easier to understand. You will have the opportunity to use both in this class and make up your mind which you like better.</p>
<p>In this article, you will gain insight into how to break a UI down into portions of functionality that React calls “components”. The way this article presents the components is only one way to do it. Other developers may choose to do it differently. There is usually no wrong way to do it.</p>
<h3 id="components-1">Components</h3>
<p>In React-speak, a “component” is a chunk of the user interface that can (or should) be treated as a unit because it may (or likely will) be used more than once or used to structure a page. That’s not a very satisfying definition. This article will walk you through breaking down the page using the practical example of the Petrack pet detail page.</p>
<p>When you think of components, it’s good to think in terms of the Single Responsibility Principle. Remember that? It’s good to have a component do one thing and one thing well. In this analysis, it will identify how it fits (or doesn’t fit) in with the Single Responsibility Principle.</p>
<p>If you think in terms of Pug, then a component is kind of like an <code>include</code>, a big or small amount of code that you could use over and over in your UI. The main difference is that React is <em>in the browser</em> and handles user events and HTML generation for you so that you’re not creating template strings and adding them via the <code>innerHTML</code> property or <code>appendChild</code> method. Pug is just on the server generating HTML.</p>
<h3 id="the-navigation-component-3">The navigation component</h3>
<p>On all of the pages, there is the same navigation at the top of the page.</p>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/pettrack-pet-detail-static-content.png"><img src="https://github.com/bgoonz/React_Notes_V3/raw/master/my-other-notes-n-projects/images/pettrack-pet-detail-static-content.png" alt="Petrack navigation" /></a></p>
<p>If you were working in Pug, that would be in your <strong>layout.pug</strong> because you would want it to appear in every page. In React, you will create a reusable component, maybe call it <code>Navigation</code>, and use it on all of your React-enabled pages.</p>
<p>This does one thing and one thing well: it shows the static content of the navigation. There’s nothing else it needs to do. Good job, <code>Navigation</code> component!</p>
<p>What this means is that the code that will create the heading “Petrack”, the links “Pets” and “Owners”, and the “Back” link will all be in their own component, which is just a JavaScript function or class. It could look something like this, but with real code where it reads “some cool React code here”. This is the skeleton of the code.</p>
<pre class="text"><code>// Navigation.js
import React from &#39;react&#39;;

const Navigation = props =&gt; {
  /* some cool React code here */
}

export default Navigation;</code></pre>
<p>You would put that in a file named <strong>Navigation.js</strong>. It’s capitalized because, in React world, the names of your custom components are <em>always</em> capitalized.</p>
<p>Don’t worry if that doesn’t make complete sense, yet. You will be making these components and their files <em>for the rest of your lives</em>. Or, at least, for the rest of this course. And, definitely, for the remainder of this module.</p>
<p>The walk through articles that follow this will explain what’s going on as well as what that <code>props</code> parameter is.</p>
<h3 id="the-details-components-1">The details components</h3>
<p>Now, for the remainder of the page.</p>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/pettrack-pet-detail-component.png"><img src="https://github.com/bgoonz/React_Notes_V3/raw/master/my-other-notes-n-projects/images/pettrack-pet-detail-component.png" alt="Petrack detail" /></a></p>
<p>This could be another component. It would create the “Details” headline, show the individual details of the pet, create the “Owners” headline, and then create the links to the owners. It could look something like this.</p>
<pre class="text"><code>// PetDetail.js
import React from &#39;react&#39;;

const PetDetail = props =&gt; {
  /* some cool React code here */
}

export default PetDetail;</code></pre>
<p>This component, the <code>PetDetail</code> component, does too much. It’s in charge of showing two different kinds of information, the details of the pet <em>and</em> the owners links. That means there’s probably an opportunity to create more components that this component can then use. This is called <em>component composition</em>.</p>
<h4 id="breaking-it-down-further-1">Breaking it down further</h4>
<p>Now, please think like a Pug developer for just a moment. How would you create this page in Pug? The code for this from the project looks like this.</p>
<pre class="text"><code>extends ../layout

block content
  h1 Details
  dl
    dt Name
    dd= pet.name
    dt Age
    dd= pet.age
    dt Type
    dd= pet.PetType.type

  h2 Owners
  ul
    each owner in pet.Owners
      li: a(href=&quot;/owners/&quot; + owner.id) #{owner.lastName}, #{owner.firstName}</code></pre>
<p>To start thinking in components, ask yourself</p>
<ul>
<li>What parts of that page are repeated?</li>
<li>What parts have the same structure?</li>
</ul>
<p>You can see that in the <em>Details</em> section of the page, there are repeated structures of <code>dt</code> and <code>dd</code> elements. You can see in the <em>Owners</em> section, there is a loop that creates a link to the owners based on the owner information. Those types of reusable chunks of content are good candidates for being their own components.</p>
<h4 id="the-pet-information-item-component-2">The pet information item component</h4>
<p>You can extract the creation of the <code>dt</code> and <code>dd</code> elements into its own component.</p>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/pettrack-pet-detail-information-item-component.png"><img src="https://github.com/bgoonz/React_Notes_V3/raw/master/my-other-notes-n-projects/images/pettrack-pet-detail-information-item-component.png" alt="Petrack pet information item" /></a></p>
<p>That could look something like this.</p>
<pre class="text"><code>// PetInformationItem.js
import React from &#39;react&#39;;

const PetInformationItem = props =&gt; {
  /* some cool React code here */
}

export default PetInformationItem;</code></pre>
<p>It would be responsible for making that portion of the Web page appear. And, you would use it over and over for each of the different pieces of data you wanted to show. As you add more data about pets, you could use that <code>PetInformationItem</code> to maintain the visual consistency of the Web page, as well as allowing you to write less code. This component does one thing and does it well.</p>
<h4 id="the-owner-link-component-3">The owner link component</h4>
<p>Just like extracting the pet information item, you can extract that owner link into its own component. It would generate the the <code>a</code> and format the person’s name.</p>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/pettrack-pet-detail-owner-link-component.png"><img src="https://github.com/bgoonz/React_Notes_V3/raw/master/my-other-notes-n-projects/images/pettrack-pet-detail-owner-link-component.png" alt="Petrack owner link" /></a></p>
<p>Again, the skeleton code would look something like this.</p>
<pre class="text"><code>// OwnerLink.js
import React from &#39;react&#39;;

const OwnerLink = props =&gt; {
  /* some cool React code here */
}

export default OwnerLink;</code></pre>
<p>This component also does one thing and does it well. If you ever need to change the way owner names appear in lists of links in the application, you can come to this one component and change it. It would then take effect everywhere! Single Responsibility Principle for the win!</p>
<h4 id="the-owners-list-component-1">The owners list component</h4>
<p>Now, the thing that manages the list itself and the use of the <code>OwnerLink</code> component is eligible for being its own component, too.</p>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/pettrack-pet-detail-owners-list-component.png"><img src="https://github.com/bgoonz/React_Notes_V3/raw/master/my-other-notes-n-projects/images/pettrack-pet-detail-owners-list-component.png" alt="Petrack owners list" /></a></p>
<p>It’s single responsibility is to manage creating the “Owners” header and the unordered list. It will use the <code>OwnerLink</code> component to do that! Again, this is called <em>component composition</em>.</p>
<pre class="text"><code>// OwnersList.js
import OwnerLink from &#39;./OwnerLink&#39;;
import React from &#39;react&#39;;

const OwnersList = props =&gt; {
  /* some cool React code here */

  /**
   * Use the OwnerLink component, too!
   */
}

export default OwnersList;</code></pre>
<h4 id="putting-the-list-and-details-together-1">Putting the list and details together</h4>
<p>If you create the <code>PetInformationItem</code> and the <code>OwnerLink</code> component, then you will want to use them in your <code>PetDetail</code> component. That is as easy as using the <code>import</code> statement to allow them to be used by that code.</p>
<pre class="text"><code>// PetDetail.js
import OwnersList from &#39;./OwnersList&#39;;
import PetInformationItem from &#39;./PetInformationItem&#39;;
import React from &#39;react&#39;;

const PetDetail = props =&gt; {
  /* some cool React code here */

  /**
   * Use the OwnersList and PetInformationItem
   * components, too!
   */
}

export default PetDetail;</code></pre>
<h3 id="putting-it-all-together-1">Putting it all together</h3>
<p>Once you have all of those components, you would create one more component, the top-level “page” component, that would render the <code>Navigation</code> and <code>PetDetail</code> components.</p>
<pre class="text"><code>// PetDetailPage.js
import Navigation from &#39;./Navigation&#39;;
import PetDetail from &#39;./PetDetail&#39;;
import React from &#39;react&#39;;

const PetDetailPage = props =&gt; {
  /* some cool React code here */

  /**
   * Use the Navigation and PetDetail
   * components, too!
   */
}

export default PetDetailPage;</code></pre>
<p>The final analysis in this breakdown of “components” to “think in React” looks like this.</p>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/pettrack-pet-detail-all-components.png"><img src="https://github.com/bgoonz/React_Notes_V3/raw/master/my-other-notes-n-projects/images/pettrack-pet-detail-all-components.png" alt="Petrack final analysis" /></a></p>
<p>You can see each of the components that were described in this article. You can also see how the <code>PetInformationItem</code> and <code>OwnerLink</code> components get used multiple times on the page.</p>
<h3 id="there-is-probably-more-1">There is probably more</h3>
<p>Take a look at this, again, and think about if there is any “missing” component before continuing.</p>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/pettrack-pet-detail-all-components.png"><img src="https://github.com/bgoonz/React_Notes_V3/raw/master/my-other-notes-n-projects/images/pettrack-pet-detail-all-components.png" alt="Petrack final analysis" /></a></p>
<p>You could also create a <code>PetDetailList</code> component, if you want, that would manage the “Details” header and the definition list. That would reflect the same structure that the <code>OwnersList</code> has, a component responsible for generating a header and a list. In the following walk through articles, the <code>PetDetailList</code> component will also be included in the development.</p>
<h3 id="what-youve-seen-2">What you’ve seen</h3>
<p>This is thinking in React. Looking at a Web page and deciding what parts of it belong in sections, what parts are repeated, and how to group them all together. The React documentation calls this <a href="https://reactjs.org/docs/thinking-in-react.html#step-1-break-the-ui-into-a-component-hierarchy">breaking the UI into a component hierarchy</a>. That link is to a section in the React documentation entitled <em>Thinking in React</em>. That section performs the same exercise that this article performed, but with a lot fewer words and pictures.</p>
<p>In the upcoming exercises, you will create these components in a couple of ways. The first way is the hard way, but shows you how React works under the covers. The second way uses the fancy JSX language to make it easier for you.</p>
<h2 id="jsx-walk-through-navigation-component-1">JSX Walk-Through: Navigation Component</h2>
<p>You will now work on creating the PetTrack page.</p>
<ul>
<li><code>PetDetailPage</code>: Created in this step</li>
<li><code>Navigation</code>: Created in this step</li>
<li><code>PetDetails</code></li>
<li><code>PetDetailList</code></li>
<li><code>PetInformationItem</code></li>
<li><code>OwnersList</code></li>
<li><code>OwnerLink</code></li>
</ul>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/pettrack-pet-detail-all-components-with-details-list.png"><img src="https://github.com/bgoonz/React_Notes_V3/raw/master/my-other-notes-n-projects/images/pettrack-pet-detail-all-components-with-details-list.png" alt="Petrack component analysis" /></a></p>
<h3 id="the-strategy-2">The strategy</h3>
<p>This guide will work top-down, in that it will start with the top-most (or outer-most) component, the <code>PetDetailPage</code> component. Then, it will move to a next level component, like <code>Navigation</code>. It will just keep adding components and getting them to work with the data from the AJAX call.</p>
<h3 id="the-pet-detail-page-component-2">The pet detail page component</h3>
<p>The <code>PetDetailPage</code> component will be responsible for showing the navigation component, the details list component, and the owners list component. None of those exist, yet, so just stub out a new component to hold the source.</p>
<p>Create a new file named <strong>PetDetailPage.js</strong> in the <strong>src</strong> directory. In that file, type this content into it.</p>
<pre class="text"><code>import React from &#39;react&#39;;

const PetDetailPage = () =&gt;
  &lt;div&gt;PetDetailPage component&lt;/div&gt; // Temporary so it builds
;

export default PetDetailPage;</code></pre>
<p>Here’s some analysis.</p>
<h4 id="the-import-statement-2">The import statement</h4>
<p>You will notice that the top of the file imports the <code>React</code> object, but you do not use it anywhere in the file! You have to do this because, remember, each JSX element, like <code>&lt;header&gt;...&lt;/header&gt;</code>, ends up getting translated to <code>React.createElement</code> calls. Without the <code>import</code> statement, the <code>React</code> object would not exist and compiling would fail.</p>
<h4 id="the-component-2">The component</h4>
<p>The <code>const PetDetailPage = () =&gt; ...</code> is just a normal arrow function.</p>
<p>The body of the component is a JSX expression <code>&lt;div&gt;&lt;/div&gt;</code> which Babel will translate into an invocation of <code>React.createElement</code>. Here’s what it looks like after passing through Babel.</p>
<pre class="text"><code>var PetDetailPage = function PetDetailPage() {
  return React.createElement(&quot;div&quot;, null, &quot;PetDetailPage component&quot;);
} // Temporary so it builds
;</code></pre>
<h4 id="the-export-statement-2">The export statement</h4>
<p>This is just so you can import it into other components for use, which you will do now.</p>
<h3 id="using-the-pet-detail-page-component-2">Using the pet detail page component</h3>
<p>Open up <strong>src/App.js</strong>. Import the newly-created <code>PetDetailPage</code> component. Remember that this is Webpack that’s doing this for you, so you <em>do not</em> need to put the <strong>.js</strong> extension on the name of the module that you import.</p>
<p>Replace the <code>&lt;h1&gt;Hello&lt;/h1&gt;</code> with <code>&lt;PetDetailPage&gt;&lt;/PetDetailPage&gt;</code>. Save all of your files. You should now see this content in your browser and <em>Components</em> tab.</p>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/create-react-app-with-default-pet-detail-page.png"><img src="https://github.com/bgoonz/React_Notes_V3/raw/master/my-other-notes-n-projects/images/create-react-app-with-default-pet-detail-page.png" alt="Petrack with default PetDetailPage" /></a></p>
<p>The content of the <strong>src/App.js</strong> should look similar to this.</p>
<pre class="text"><code>import React from &#39;react&#39;;

import PetDetailPage from &#39;./PetDetailPage&#39;;

function App() {
  return (
    &lt;PetDetailPage&gt;&lt;/PetDetailPage&gt;
  );
}

export default App;</code></pre>
<p>Since <code>PetDetailPage</code> has no child content, you could also write that code like this, with the ending slash.</p>
<pre class="text"><code>import React from &#39;react&#39;;

import PetDetailPage from &#39;./PetDetailPage&#39;;

function App() {
  return (
    &lt;PetDetailPage /&gt;
  );
}

export default App;</code></pre>
<h3 id="the-navigation-component-4">The navigation component</h3>
<p>Create a new file named <strong>Navigation.js</strong> in the <strong>src</strong> directory of your application. Put this content in there. Please type it rather than copy and paste it.</p>
<pre class="text"><code>import React from &#39;react&#39;;

const Navigation = () =&gt;
  &lt;header&gt;
    &lt;h1&gt;Petrack&lt;/h1&gt;
    &lt;nav&gt;
      &lt;ul&gt;
        &lt;li&gt;
          &lt;a href=&quot;/pets&quot;&gt;Pets&lt;/a&gt;
        &lt;/li&gt;
        &lt;li&gt;
          &lt;a href=&quot;/owners&quot;&gt;Owners&lt;/a&gt;
        &lt;/li&gt;
      &lt;/ul&gt;
    &lt;/nav&gt;
  &lt;/header&gt;
;

export default Navigation;</code></pre>
<p>All of the JSX, the html-looking tags, those get converted into the calls to <code>React.createElement</code>. When Babel gets done with it, it looks like this, which is just an ugly version of one call to <code>React.createElement</code> for each of the elements in the JSX.</p>
<pre class="text"><code>var Navigation = function Navigation() {
  return React.createElement(&quot;header&quot;, null, React.createElement(&quot;h1&quot;, null, &quot;Petrack&quot;), React.createElement(&quot;nav&quot;, null, React.createElement(&quot;ul&quot;, null, React.createElement(&quot;li&quot;, null, React.createElement(&quot;a&quot;, {
    href: &quot;/pets&quot;
  }, &quot;Pets&quot;)), React.createElement(&quot;li&quot;, null, React.createElement(&quot;a&quot;, {
    href: &quot;/owners&quot;
  }, &quot;Owners&quot;)))));
};</code></pre>
<h3 id="using-the-navigation-component-2">Using the navigation component</h3>
<p>Back in the <strong>src/PetDetailPage.js</strong> file, import the <code>Navigation</code> component and replace the <code>&lt;div&gt;PetDetailPage component&lt;/div&gt;</code> with the <code>Navigation</code> component much like you did in the <code>App</code> component with <code>PetDetailPage</code>.</p>
<p>Once you save your files, you should see the navigation.</p>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/react-pet-detail-page-nav-complete.png"><img src="https://github.com/bgoonz/React_Notes_V3/raw/master/my-other-notes-n-projects/images/react-pet-detail-page-nav-complete.png" alt="PetDetailPage navigation complete" /></a></p>
<h3 id="what-just-happened-2">What just happened?</h3>
<p>You created two new components and added them to the <strong>src</strong> directory. You imported them so that other components could use them. It was fast and easy and (hopefully) painless. JSX is lovely to work with, far easier than the calls to <code>React.createElement</code> if that didn’t exist.</p>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/create-react-app-with-default-pet-detail-page.png">Petrack with default PetDetailPage</a>: images/create-react-app-with-default-pet-detail-page.pngimages/create-react-app-with-default-pet-detail-page.png6 orderedList=false} –&gt;</p>
<p>You will now work on creating the PetTrack page.</p>
<ul>
<li><code>PetDetailPage</code>: Created in this step</li>
<li><code>Navigation</code>: Created in this step</li>
<li><code>PetDetails</code></li>
<li><code>PetDetailList</code></li>
<li><code>PetInformationItem</code></li>
<li><code>OwnersList</code></li>
<li><code>OwnerLink</code></li>
</ul>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/pettrack-pet-detail-all-components-with-details-list.png"><img src="https://github.com/bgoonz/React_Notes_V3/raw/master/my-other-notes-n-projects/images/pettrack-pet-detail-all-components-with-details-list.png" alt="Petrack component analysis" /></a></p>
<h3 id="the-strategy-3">The strategy</h3>
<p>This guide will work top-down, in that it will start with the top-most (or outer-most) component, the <code>PetDetailPage</code> component. Then, it will move to a next level component, like <code>Navigation</code>. It will just keep adding components and getting them to work with the data from the AJAX call.</p>
<h3 id="the-pet-detail-page-component-3">The pet detail page component</h3>
<p>The <code>PetDetailPage</code> component will be responsible for showing the navigation component, the details list component, and the owners list component. None of those exist, yet, so just stub out a new component to hold the source.</p>
<p>Create a new file named <strong>PetDetailPage.js</strong> in the <strong>src</strong> directory. In that file, type this content into it.</p>
<pre class="text"><code>import React from &#39;react&#39;;

const PetDetailPage = () =&gt;
  &lt;div&gt;PetDetailPage component&lt;/div&gt; // Temporary so it builds
;

export default PetDetailPage;</code></pre>
<p>Here’s some analysis.</p>
<h4 id="the-import-statement-3">The import statement</h4>
<p>You will notice that the top of the file imports the <code>React</code> object, but you do not use it anywhere in the file! You have to do this because, remember, each JSX element, like <code>&lt;header&gt;...&lt;/header&gt;</code>, ends up getting translated to <code>React.createElement</code> calls. Without the <code>import</code> statement, the <code>React</code> object would not exist and compiling would fail.</p>
<h4 id="the-component-3">The component</h4>
<p>The <code>const PetDetailPage = () =&gt; ...</code> is just a normal arrow function.</p>
<p>The body of the component is a JSX expression <code>&lt;div&gt;&lt;/div&gt;</code> which Babel will translate into an invocation of <code>React.createElement</code>. Here’s what it looks like after passing through Babel.</p>
<pre class="text"><code>var PetDetailPage = function PetDetailPage() {
  return React.createElement(&quot;div&quot;, null, &quot;PetDetailPage component&quot;);
} // Temporary so it builds
;</code></pre>
<h4 id="the-export-statement-3">The export statement</h4>
<p>This is just so you can import it into other components for use, which you will do now.</p>
<h3 id="using-the-pet-detail-page-component-3">Using the pet detail page component</h3>
<p>Open up <strong>src/App.js</strong>. Import the newly-created <code>PetDetailPage</code> component. Remember that this is Webpack that’s doing this for you, so you <em>do not</em> need to put the <strong>.js</strong> extension on the name of the module that you import.</p>
<p>Replace the <code>&lt;h1&gt;Hello&lt;/h1&gt;</code> with <code>&lt;PetDetailPage&gt;&lt;/PetDetailPage&gt;</code>. Save all of your files. You should now see this content in your browser and <em>Components</em> tab.</p>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/create-react-app-with-default-pet-detail-page.png"><img src="https://github.com/bgoonz/React_Notes_V3/raw/master/my-other-notes-n-projects/images/create-react-app-with-default-pet-detail-page.png" alt="Petrack with default PetDetailPage" /></a></p>
<p>The content of the <strong>src/App.js</strong> should look similar to this.</p>
<pre class="text"><code>import React from &#39;react&#39;;

import PetDetailPage from &#39;./PetDetailPage&#39;;

function App() {
  return (
    &lt;PetDetailPage&gt;&lt;/PetDetailPage&gt;
  );
}

export default App;</code></pre>
<p>Since <code>PetDetailPage</code> has no child content, you could also write that code like this, with the ending slash.</p>
<pre class="text"><code>import React from &#39;react&#39;;

import PetDetailPage from &#39;./PetDetailPage&#39;;

function App() {
  return (
    &lt;PetDetailPage /&gt;
  );
}

export default App;</code></pre>
<h3 id="the-navigation-component-5">The navigation component</h3>
<p>Create a new file named <strong>Navigation.js</strong> in the <strong>src</strong> directory of your application. Put this content in there. Please type it rather than copy and paste it.</p>
<pre class="text"><code>import React from &#39;react&#39;;

const Navigation = () =&gt;
  &lt;header&gt;
    &lt;h1&gt;Petrack&lt;/h1&gt;
    &lt;nav&gt;
      &lt;ul&gt;
        &lt;li&gt;
          &lt;a href=&quot;/pets&quot;&gt;Pets&lt;/a&gt;
        &lt;/li&gt;
        &lt;li&gt;
          &lt;a href=&quot;/owners&quot;&gt;Owners&lt;/a&gt;
        &lt;/li&gt;
      &lt;/ul&gt;
    &lt;/nav&gt;
  &lt;/header&gt;
;

export default Navigation;</code></pre>
<p>All of the JSX, the html-looking tags, those get converted into the calls to <code>React.createElement</code>. When Babel gets done with it, it looks like this, which is just an ugly version of one call to <code>React.createElement</code> for each of the elements in the JSX.</p>
<pre class="text"><code>var Navigation = function Navigation() {
  return React.createElement(&quot;header&quot;, null, React.createElement(&quot;h1&quot;, null, &quot;Petrack&quot;), React.createElement(&quot;nav&quot;, null, React.createElement(&quot;ul&quot;, null, React.createElement(&quot;li&quot;, null, React.createElement(&quot;a&quot;, {
    href: &quot;/pets&quot;
  }, &quot;Pets&quot;)), React.createElement(&quot;li&quot;, null, React.createElement(&quot;a&quot;, {
    href: &quot;/owners&quot;
  }, &quot;Owners&quot;)))));
};</code></pre>
<h3 id="using-the-navigation-component-3">Using the navigation component</h3>
<p>Back in the <strong>src/PetDetailPage.js</strong> file, import the <code>Navigation</code> component and replace the <code>&lt;div&gt;PetDetailPage component&lt;/div&gt;</code> with the <code>Navigation</code> component much like you did in the <code>App</code> component with <code>PetDetailPage</code>.</p>
<p>Once you save your files, you should see the navigation.</p>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/react-pet-detail-page-nav-complete.png"><img src="https://github.com/bgoonz/React_Notes_V3/raw/master/my-other-notes-n-projects/images/react-pet-detail-page-nav-complete.png" alt="PetDetailPage navigation complete" /></a></p>
<h3 id="what-just-happened-3">What just happened?</h3>
<p>You created two new components and added them to the <strong>src</strong> directory. You imported them so that other components could use them. It was fast and easy and (hopefully) painless. JSX is lovely to work with, far easier than the calls to <code>React.createElement</code> if that didn’t exist.</p>
<h2 id="jsx-walk-through-pet-details-part-1-1">JSX Walk-Through: Pet Details, Part 1</h2>
<p>You will now start adding data rendering to the page with the components created and modified in this step.</p>
<ul>
<li><code>PetDetailPage</code>: Modified in this step</li>
<li><code>Navigation</code>: Done</li>
<li><code>PetDetails</code>: Created in this step</li>
<li><code>PetDetailList</code>: Created in this step</li>
<li><code>PetInformationItem</code>: Created in this step</li>
<li><code>OwnersList</code></li>
<li><code>OwnerLink</code></li>
</ul>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/pettrack-pet-detail-all-components-with-details-list.png"><img src="https://github.com/bgoonz/React_Notes_V3/raw/master/my-other-notes-n-projects/images/pettrack-pet-detail-all-components-with-details-list.png" alt="Petrack component analysis" /></a></p>
<h3 id="getting-some-data-1">Getting some data</h3>
<p>Open the <strong>src/index.js</strong> file. In it, after the call to <code>ReactDOM.render</code>, create a fetch call for the RESTful endpoint <a href="https://polar-beach-08187.herokuapp.com/api/pets/2">https://polar-beach-08187.herokuapp.com/api/pets/2</a>. (You can click on the link to see the data. That’s “Mog”, the cat. She is forgetful.) Do all of the normal stuff that you would do with <code>async</code> functions and what not.</p>
<pre class="text"><code>(async () =&gt; {
  const url = &#39;https://polar-beach-08187.herokuapp.com/api/pets/2&#39;;
  const response = await fetch(url);
  if (response.ok) {
    const pet = await response.json();
    console.log(pet);
  }
})();</code></pre>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/react-mog-data-pull.png"><img src="https://github.com/bgoonz/React_Notes_V3/raw/master/my-other-notes-n-projects/images/react-mog-data-pull.png" alt="Petrack Mog data fetch" /></a></p>
<p>Now, to pass that data into your React components, you will pass it as a property. You have to pass it on the element getting rendered. React is all about rendering things. You can just call another render from inside your <code>async</code> function. But, this time, you will pass the pet data in as an attribute of the <code>App</code> component with curly braces to indicate to JSX that it is a data value and not a string.</p>
<pre class="text"><code>(async () =&gt; {
  const url = &#39;https://polar-beach-08187.herokuapp.com/api/pets/2&#39;;
  const response = await fetch(url);
  if (response.ok) {
    const pet = await response.json();
    console.log(pet);

    ReactDOM.render(
      &lt;React.StrictMode&gt;
        &lt;App pet={pet} /&gt;   {/* Now, with data */}
      &lt;/React.StrictMode&gt;,
      document.getElementById(&#39;root&#39;)
    );
  }
})();</code></pre>
<p>This has changed everything! You don’t see it, yet, but once the AJAX call completes, go look at the <em>Components</em> tab of your DevTools. Click on the <code>App</code> component and look at the values in the right pane. React now knows about the data that you passed in!</p>
<p>Now, you need to pass that to the <code>PetDetailPage</code> component. In the <strong>src/App.js</strong> file, change the function’s parameter list to have a single parameter named “props”. Then, pass the value of <code>props.pet</code> into the pet attribute of the <code>PetDetailPage</code> component, similar to what you did in <strong>src/index.js</strong> for the <code>App</code> component. You should be able to see the props in the <em>Components</em> tab for both the <code>App</code> and <code>PetDetailPage</code> components.</p>
<p><a href="https://camo.githubusercontent.com/8cc6113ce88eebafd0e9beb8407ef4d7b1e1bd8752dcc76958e2b14b1cc0df68/68747470733a2f2f61707061636164656d792d6f70656e2d6173736574732e73332d75732d776573742d312e616d617a6f6e6177732e636f6d2f4d6f64756c61722d437572726963756c756d2f636f6e74656e742f72656163742d72656475782f746f706963732f696e74726f2d746f2d72656163742f6173736574732f6372656174652d72656163742d6170702d70617373696e672d646174612d696e746f2d7065742d64657461696c2d706167652e676966"><img src="https://camo.githubusercontent.com/8cc6113ce88eebafd0e9beb8407ef4d7b1e1bd8752dcc76958e2b14b1cc0df68/68747470733a2f2f61707061636164656d792d6f70656e2d6173736574732e73332d75732d776573742d312e616d617a6f6e6177732e636f6d2f4d6f64756c61722d437572726963756c756d2f636f6e74656e742f72656163742d72656475782f746f706963732f696e74726f2d746f2d72656163742f6173736574732f6372656174652d72656163742d6170702d70617373696e672d646174612d696e746f2d7065742d64657461696c2d706167652e676966" alt="Data passed down to PetDetailPage" /></a></p>
<p>You will use that data to pass down into the detail components that you will now create.</p>
<h3 id="the-pet-details-component-1">The pet details component</h3>
<p><strong>Note</strong>: This section introduces an error that you will fix. It is a common error, so knowing how to fix it when you see it is good information to have.</p>
<p>The <code>PetDetails</code> component is in charge of rendering the <code>PetDetailList</code> and the <code>OwnersList</code> components. For now, get a new component working.</p>
<p>Create a new file named <strong>src/PetDetails.js</strong>. Import the <code>React</code> object. Create a function-based <code>PetDetails</code> component that has a <code>props</code> parameter, and have it render an empty <code>div</code>. Export the component as the default export for the module.</p>
<p>In the <strong>PetDetailPage.js</strong> file, import the new <code>PetDetails</code> component. Change the <code>PetDetailPage</code> component to accept a <code>props</code> parameter rather then an empty parameter list. Then, use the <code>PetDetails</code> component in the body of the <code>PetDetailPage</code> as a sibling to the <code>Navigation</code> component. You need to pass the pet data into it. Your code should look like this. (You may have empty tags rather than the self-closing slash tags. That’s fine.)</p>
<pre class="text"><code>import React from &#39;react&#39;;

import Navigation from &#39;./Navigation&#39;;
import PetDetails from &#39;./PetDetails&#39;;

const PetDetailPage = props =&gt;
  &lt;Navigation /&gt;
  &lt;PetDetails pet={props.pet} /&gt;
;

export default PetDetailPage;</code></pre>
<p>Save all of your files. Look at your browser. There is an error.</p>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/create-react-app-pet-detail-page-without-single-root-error.png"><img src="https://github.com/bgoonz/React_Notes_V3/raw/master/my-other-notes-n-projects/images/create-react-app-pet-detail-page-without-single-root-error.png" alt="PetDetailPage with adjacent element error" /></a></p>
<p>This happens because components <em>must</em> have a single top-level element. You can see that <code>PetDetailPage</code> now has two because both <code>Navigation</code> and <code>PetDetails</code> are at the top level.</p>
<p>To solve this, you need the two elements in a single element. You could do that with a <code>div</code>, for example.</p>
<pre class="text"><code>const PetDetailPage = props =&gt;
  &lt;div&gt;
    &lt;Navigation /&gt;
    &lt;PetDetails pet={props.pet} /&gt;
  &lt;/div&gt;
;</code></pre>
<p>This is fine, except for when you don’t want to introduce extra tags for no reason in your HTML. That is why, in React 16, the developers introduced the idea of a <code>Fragment</code>. The <code>Fragment</code> is a special placeholder that groups together JSX elements in the virtual DOM, but does not creating any tags in the real DOM. You can wrap those two elements (or any number of elements) in a <code>React.Fragment</code> JSX element like this.</p>
<pre class="text"><code>const PetDetailPage = props =&gt;
  &lt;React.Fragment&gt;
    &lt;Navigation /&gt;
    &lt;PetDetails pet={props.pet} /&gt;
  &lt;/React.Fragment&gt;
;</code></pre>
<p>If you do that and save the file, the compile error goes away and you see the content as it should be.</p>
<p>Wrapping things in <code>Fragment</code> elements like that is such a common thing, that there is a shortcut syntax for it. Since the <code>Fragment</code> does not represent any real tag, you write it like an HTML tag that <em>has no name</em>.</p>
<pre class="text"><code>const PetDetailPage = props =&gt;
  &lt;&gt;
    &lt;Navigation /&gt;
    &lt;PetDetails pet={props.pet} /&gt;
  &lt;/&gt;
;</code></pre>
<p>It’s pretty weird. But, it’s a very <em>React</em> way of doing things.</p>
<h3 id="create-the-pet-detail-list-component-1">Create the pet detail list component</h3>
<p>Here’s some code for you that you can use for your <code>PetDetailList</code> component. Create a file named <strong>src/PetDetailList.js</strong> and put it in there. Feel free to copy and paste it so that you can get on to the neat-o data stuff.</p>
<pre class="text"><code>import React from &#39;react&#39;;

const PetDetailList = props =&gt;
  &lt;&gt;
    &lt;h2&gt;Details&lt;/h2&gt;
    &lt;dl&gt;

    &lt;/dl&gt;
  &lt;/&gt;
;

export default PetDetailList;</code></pre>
<p>Back in <strong>PetDetails.js</strong>, import this new <code>PetDetailList</code> component, and replace the empty <code>div</code> with it.</p>
<pre class="text"><code>// Add the import line
import PetDetailList from &#39;./PetDetailList.js&#39;;

const PetDetails = props =&gt;
  &lt;PetDetailList pet={props.pet} /&gt;
;

export default PetDetails;</code></pre>
<p>Refresh your page. You should now see the <code>PetDetailList</code> in the <em>Components</em> tab. It’s props should have all of data for the pet on it. You should also see the “Details” headline in the rendered HTML, too.</p>
<p>The next step is to create the <code>PetInformationItem</code> component to fill out that <code>dl</code> just yearning for content in the <code>PetDetailList</code> component.</p>
<h3 id="the-pet-information-item-component-3">The pet information item component</h3>
<p><strong>Note</strong>: The following steps will introduce an error that you will fix. This is so you can get a feel for what kind of errors you will see when working with React.</p>
<p><strong>Mira’s Note</strong>: The following will not actually introduce an error for the reason provided, because there is no missing pass-down of props in the chain of nested components if you follow the instructions. The error described after it, however, will show.</p>
<p>Create a new file, <strong>src/PetInformationItem.js</strong>. It will contain a function-based component that needs data to render, so stub out the function with the “props” parameter. Don’t forget to import the React. Then, it needs to render two elements, the <code>dt</code> element and the <code>dd</code> element. Do that by wrapping a fragment around them.</p>
<pre class="text"><code>&lt;dt&gt;Name of property&lt;/dt&gt;
&lt;dd&gt;Value of property&lt;/dd&gt;</code></pre>
<p>So, the code will look something like this.</p>
<pre class="text"><code>import React from &#39;react&#39;;

const PetInformationItem = props =&gt;
  &lt;&gt;
    &lt;dt&gt;{props.name}&lt;/dt&gt;
    {/* Replace this with the dd element and value */}
  &lt;/&gt;
;

export default PetInformationItem;</code></pre>
<p>Replace the comment with a <code>dd</code> JSX element that has <code>props.value</code> as its content, similar to how the <code>dt</code> has <code>props.name</code> as its content.</p>
<p>That implies an expectation that this component <em>needs</em> a property named “name” that will be used to render the <code>dt</code> element, and it <em>needs</em> a property named “value” to render the <code>dd</code> element.</p>
<p>Once you have that done, it’s time to use it in the <code>PetDetailList</code> components. Go back to <strong>src/PetDetailList.js</strong>. Import the <code>PetInformationItem</code> component. You will use it three times, to show the name, age, and pet type of the pet. Here’s the first one. Just put it in there and save it because you have to investigate an error.</p>
<pre class="text"><code>const PetDetailList = props =&gt;
  &lt;&gt;
    &lt;h2&gt;Details&lt;/h2&gt;
    &lt;dl&gt;
      &lt;PetInformationItem name=&quot;Name&quot; value={props.pet.name}/&gt;
    &lt;/dl&gt;
  &lt;/&gt;
;</code></pre>
<p>This shows that <code>PetDetailList</code> now has an expectation that <code>props</code> will have a “name” property, an “age” property, and a “PetType” property that will have a “type” property on it! That’s a lot of expectations…</p>
<p>If you refresh your page, an error might occur.</p>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/create-react-app-with-property-error.png"><img src="https://github.com/bgoonz/React_Notes_V3/raw/master/my-other-notes-n-projects/images/create-react-app-with-property-error.png" alt="Petrack PetDetails with error" /></a></p>
<p>The <em>Create React App</em> reports the error for you in the browser’s main window. This is nice so that you don’t have to go mucking about the console to try to determine what went wrong.</p>
<p>In the above screen shot, it complains that it cannot get the “property ‘name’ of undefined”. If you get this error, make sure you are passing down the <code>pet</code> prop from the <code>App</code> component all the way down to the <code>PetDetailList</code> component. You can see all the props for each component in the Chrome dev tools Component tab.</p>
<p>The following conditions trigger that same error but for a different reason.</p>
<p>In the <code>src/index.js</code> file, you render <code>App</code> twice. Once before the fetch call, and once after the fetch response comes back. <strong>NOTE: This is NOT the normal way to render the App after a fetch call. You will be learning a better way to use fetch calls with React tomorrow.</strong></p>
<p>Your <code>src/index.js</code> should now look like this:</p>
<pre class="text"><code>// ... imports
ReactDOM.render(
  &lt;React.StrictMode&gt;
    &lt;App /&gt;
  &lt;/React.StrictMode&gt;,
  document.getElementById(&#39;root&#39;)
);

(async () =&gt; {
  const url = &#39;https://polar-beach-08187.herokuapp.com/api/pets/2&#39;;
  const response = await fetch(url);
  if (response.ok) {
    const pet = await response.json();
    ReactDOM.render(
      &lt;React.StrictMode&gt;
        &lt;App pet={pet} /&gt;   {/* Now, with data */}
      &lt;/React.StrictMode&gt;,
      document.getElementById(&#39;root&#39;)
    );
  }
})();</code></pre>
<p>If you refresh your page, you should see the following error.</p>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/create-react-app-with-property-error.png"><img src="https://github.com/bgoonz/React_Notes_V3/raw/master/my-other-notes-n-projects/images/create-react-app-with-property-error.png" alt="Petrack PetDetails with error" /></a></p>
<p>Can you see where that’s happening in the <strong>PetDetailList.js</strong> file? Take a moment to figure out where the error is being thrown.</p>
<p>If you identified the expression <code>props.pet.name</code>, then you got it! Remember that when the React first renders the virtual DOM, it has <em>no data</em>. That doesn’t come until later, after the AJAX call completes. There are <em>so many</em> ways to fix this but <strong>only one</strong> is idiomatic React. That is the use of <code>defaultProps</code>.</p>
<p>Recall that the <code>PetDetailList</code> component has an expectation that the <code>props</code> value should have a “pet” property that is an object. You can specify a default value for the “pet” property for the <code>PetDetails</code> component by putting the following code <em>after</em> the function declaration.</p>
<pre class="text"><code>PetDetailList.defaultProps = {
  pet: {},
};</code></pre>
<p>This tells React that, when the <code>PetDetailList</code> renders, if the “pet” property of <code>props</code> is undefined, then it should use the default value specified in the assignment. This is a built-in React feature and fixes the problem.</p>
<p>Refresh the page. You should now see the page render and, when the AJAX call completes, the name “Mog” to appear.</p>
<p>Now, add the other two <code>PetInformationItem</code> calls. One should have the name “Age” and the value of <code>props.pet.age</code>. The second should have the name “Type” and the value of <code>props.pet.PetType.type</code>. That will cause another error, so take care of it in the <code>defaultProps</code>.</p>
<p><a href="https://camo.githubusercontent.com/17ec7caf469354066cbc253ee3f9440fd721d1a0d386a8111de29765ed8fa7c2/68747470733a2f2f61707061636164656d792d6f70656e2d6173736574732e73332d75732d776573742d312e616d617a6f6e6177732e636f6d2f4d6f64756c61722d437572726963756c756d2f636f6e74656e742f72656163742d72656475782f746f706963732f696e74726f2d746f2d72656163742f6173736574732f72656163742d696e666f726d6174696f6e2d646174612d6c6f61642e676966"><img src="https://camo.githubusercontent.com/17ec7caf469354066cbc253ee3f9440fd721d1a0d386a8111de29765ed8fa7c2/68747470733a2f2f61707061636164656d792d6f70656e2d6173736574732e73332d75732d776573742d312e616d617a6f6e6177732e636f6d2f4d6f64756c61722d437572726963756c756d2f636f6e74656e742f72656163742d72656475782f746f706963732f696e74726f2d746f2d72656163742f6173736574732f72656163742d696e666f726d6174696f6e2d646174612d6c6f61642e676966" alt="Petrack PetDetails before and after load" /></a></p>
<p>If it’s hard to see the before load, comment out the async function in the <code>src/index.js</code> to see what the page looks like before the fetch call is made.</p>
<pre class="text"><code>// ... src/index.js

// (async () =&gt; {
//   const url = &#39;https://polar-beach-08187.herokuapp.com/api/pets/2&#39;;
//   const response = await fetch(url);
//   if (response.ok) {
//     const pet = await response.json();
//     ReactDOM.render(
//       &lt;React.StrictMode&gt;
//         &lt;App pet={pet} /&gt;   {/* Now, with data */}
//       &lt;/React.StrictMode&gt;,
//       document.getElementById(&#39;root&#39;)
//     );
//   }
// })();</code></pre>
<p>If you want that yucky bumpy load to not happen, consider creating a default value for the “value” property in <code>PetInformationItem</code>. In the following screenshot, you can see what happens when you set a default value of “loading…” for the “value” property in <code>PetInformationItem</code>.</p>
<p><a href="https://camo.githubusercontent.com/dcd0fcc5e6fcdb05d7992173a8064922d0076072d81f1d5dd9bbb601d076978f/68747470733a2f2f61707061636164656d792d6f70656e2d6173736574732e73332d75732d776573742d312e616d617a6f6e6177732e636f6d2f4d6f64756c61722d437572726963756c756d2f636f6e74656e742f72656163742d72656475782f746f706963732f696e74726f2d746f2d72656163742f6173736574732f72656163742d696e666f726d6174696f6e2d776974682d6c6f6164696e672d6d6573736167652d646174612d6c6f61642e676966"><img src="https://camo.githubusercontent.com/dcd0fcc5e6fcdb05d7992173a8064922d0076072d81f1d5dd9bbb601d076978f/68747470733a2f2f61707061636164656d792d6f70656e2d6173736574732e73332d75732d776573742d312e616d617a6f6e6177732e636f6d2f4d6f64756c61722d437572726963756c756d2f636f6e74656e742f72656163742d72656475782f746f706963732f696e74726f2d746f2d72656163742f6173736574732f72656163742d696e666f726d6174696f6e2d776974682d6c6f6164696e672d6d6573736167652d646174612d6c6f61642e676966" alt="Petrack PetDetails with loading message" /></a></p>
<h3 id="what-youve-seen-3">What you’ve seen</h3>
<p>In this part of building a React application, you have</p>
<ul>
<li>Passed data from an AJAX call (or really wherever) into a React component</li>
<li>Accessed data using the conventionally-named <code>props</code> parameter in your function-based components</li>
<li>Passed data from a “parent” component to a “child” component</li>
<li>Used default values to prevent errors and improve the aesthetic experience of using your application</li>
</ul>
<p>Just one more step and you’re done!</p>
<h2 id="jsx-walk-through-pet-details-part-2-1">JSX Walk-Through: Pet Details, Part 2</h2>
<p>All you have left is to create a list of owners with links.</p>
<ul>
<li><code>PetDetailPage</code>: Done</li>
<li><code>Navigation</code>: Done</li>
<li><code>PetDetails</code>: Modified in this step</li>
<li><code>PetDetailList</code>: Done</li>
<li><code>PetInformationItem</code>: Done</li>
<li><code>OwnersList</code>: Created in this step</li>
<li><code>OwnerLink</code>Created in this step</li>
</ul>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/pettrack-pet-detail-all-components-with-details-list.png"><img src="https://github.com/bgoonz/React_Notes_V3/raw/master/my-other-notes-n-projects/images/pettrack-pet-detail-all-components-with-details-list.png" alt="Petrack component analysis" /></a></p>
<p>You’re almost done. Now, you get to handle a collection of data from the owners.</p>
<h3 id="stub-out-the-owners-list-component-2">Stub out the owners list component</h3>
<p>You’ve done this four other times, so it’s pretty straight forward.</p>
<ul>
<li>Create the <strong>src/OwnersList.js</strong> file. In it,
<ul>
<li>Import the React object</li>
<li>Create the function-based component named <code>OwnersList</code> with a <code>props</code> argument that uses a <code>React.Fragment</code> as its element</li>
<li>Add a child that is an ‘h2’ with the content “Owners”</li>
<li>Using <code>defaultProps</code>, add a default property value for “owners” and set it to an empty array because this component will expect an array of owner data</li>
<li>Export the <code>OwnersList</code> as the default export</li>
</ul></li>
<li>In the <strong>PetDetails.js</strong> file,
<ul>
<li>Import the <code>OwnersList</code> component</li>
<li>Add it as another child element of the <code>PetDetailPage</code> component after the <code>PetDetailList</code></li>
<li>Wrap both the <code>PetDetailList</code> and <code>OwnersList</code> in a <code>Fragment</code>.</li>
<li>Pass in the owners to the <code>OwnersList</code> component in a property named “owners” like this <code>{props.pet.Owners}</code> which will pass in the array of owners for the pet</li>
<li>Fix the error with a default value for the “pet” property</li>
</ul></li>
</ul>
<pre class="text"><code>// src/PetDetails.js
import React from &#39;react&#39;;

import OwnersList from &#39;./OwnersList&#39;;
import PetDetailList from &#39;./PetDetailList&#39;;

const PetDetails = props =&gt;
  &lt;&gt;
    &lt;PetDetailList pet={props.pet} /&gt;
    &lt;OwnersList owners={props.pet.Owners} /&gt;
  &lt;/&gt;
;

PetDetails.defaultProps = {
  pet: {
    PetType: {},
  },
};

export default PetDetails;</code></pre>
<p>Refresh the page and make sure everything still works.</p>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/react-pet-detail-with-owners-headline.png"><img src="https://github.com/bgoonz/React_Notes_V3/raw/master/my-other-notes-n-projects/images/react-pet-detail-with-owners-headline.png" alt="Petrack with owners headline" /></a></p>
<h3 id="dealing-with-the-list-2">Dealing with the list</h3>
<p><strong>Note</strong>: This section introduces an error that you will fix. It is a common error about how to create React elements from lists. You may see it often. This way, you will know how to fix it, too.</p>
<p>Back in <strong>OwnersList.js</strong>, you want a <code>ul</code> to follow the <code>h2</code>.</p>
<pre class="text"><code>const OwnersList = props =&gt;
  &lt;&gt;
    &lt;h2&gt;Owners&lt;/h2&gt;
    &lt;ul&gt;
      {/* Create li elements here */}
    &lt;/ul&gt;
  &lt;/&gt;
;</code></pre>
<p>Here’s the thing. You have an array of owners. You want to turn them into some list items. For each owner, you want to <em>map</em> that to a list item. And, therein lies the hint. Since the value in <code>props.owners</code> is an array, you can use the <code>map</code> function to generate another array of React elements and plop them in there! Give it a go with this code. Replace the comment about where list items go above with this line of code.</p>
<pre class="text"><code>{ props.owners.map(owner =&gt;
  &lt;li&gt;{owner.firstName}&lt;/li&gt;
)}</code></pre>
<p>Refresh the page. What happens? You should now see “Human” for each of the list items. That’s great! In the console, there’s an error. That’s sad!</p>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/react-pet-detail-owners-list-with-key-error.png"><img src="https://github.com/bgoonz/React_Notes_V3/raw/master/my-other-notes-n-projects/images/react-pet-detail-owners-list-with-key-error.png" alt="Petrack with owners list and key error" /></a></p>
<p>In this last step, you’ve changed the way you’re passing children into the <code>React.createElement</code>. Up until now, you’ve had discrete single elements as children, like in <strong>PetDetailList.js</strong> where you have this code.</p>
<pre class="text"><code>const PetDetailList = props =&gt;
  &lt;&gt;
    &lt;h2&gt;Details&lt;/h2&gt;
    &lt;dl&gt;
      &lt;PetInformationItem name=&quot;Name&quot; value={props.pet.name}/&gt;
      &lt;PetInformationItem name=&quot;Age&quot; value={props.pet.age}/&gt;
      &lt;PetInformationItem name=&quot;Type&quot; value={props.pet.PetType.type}/&gt;
    &lt;/dl&gt;
  &lt;/&gt;
;</code></pre>
<p>Each of <code>PetInformationItem</code> elements is a different, discrete, and separate child for the <code>dl</code> element.</p>
<p>The code in <strong>OwnersList.js</strong>, this code,</p>
<pre class="text"><code>const OwnersList = props =&gt;
  &lt;&gt;
    &lt;h2&gt;Owners&lt;/h2&gt;
    &lt;ul&gt;
      {props.owners.map(owner =&gt;
        &lt;li&gt;{owner.firstName}&lt;/li&gt;
      )}
    &lt;/ul&gt;
  &lt;/&gt;
;</code></pre>
<p>in that, you have created an <em>array</em> of objects. Recall that when you call the <code>map</code> function on an array, it returns <em>another array</em>. React doesn’t care about this, but it would like a little help in tracking each of those entries in the virtual DOM that it builds. That’s what the error message is about, giving React a little help by providing a “key” property for each of the elements that you’re creating in the array. The value of the “key” property must be unique and stable, that is, for a given object (like an owner named “Human One” with an id of 7), the value returned must always be the same. Luckily, because you have the id of the owner, you can use that because that id value is tied to a primary key, somewhere, and should never change for this object. The name can change, of course. But, the id will likely never change.</p>
<p>Add a “key” property to the <code>li</code> element and set it equal to the id of the owner object, like this.</p>
<pre class="text"><code>&lt;li key={owner.id}&gt;{owner.firstName}&lt;/li&gt;</code></pre>
<p>Now, the error in the console goes away.</p>
<p>Back to the <code>OwnersList</code> component, look at the formatting, the indentation that you see in the code.</p>
<pre class="text"><code>const OwnersList = props =&gt;
  &lt;&gt;
    &lt;h2&gt;Owners&lt;/h2&gt;
    &lt;ul&gt;
      {props.owners.map(owner =&gt;
        &lt;li key={owner.id}&gt;
          {owner.firstName}
        &lt;/li&gt;
      )}
    &lt;/ul&gt;
  &lt;/&gt;
;</code></pre>
<p>That, too, is idiomatic React, the <em>React</em> way of doing things. You’ll see that kind of code all over the React world.</p>
<h3 id="the-owner-link-component-4">The owner link component</h3>
<p>While it’s nice, and all, to see the owner’s first name in the list, the actual page has a link to the owner page with the format “last name, first name”. Time to create the (last!) component of this walk-through.</p>
<p>Create a new file named <strong>src/OwnerLink.js</strong>. In it, do the following:</p>
<ul>
<li>Import the React object</li>
<li>Create a new function-based component named <code>OwnerLink</code> that accepts data that has
<ul>
<li><code>a</code> as its element</li>
<li>An object literal with the property name “href” and the value of the “href” property passed in through the <code>props</code></li>
<li>A string as its child which contains the last name and the first name</li>
</ul></li>
<li>Export the component as the default export</li>
</ul>
<p>Once you have that, import the <code>OwnerLink</code> component into the <strong>src/OwnersList.js</strong> file. Now, replace this line in <code>OwnersList</code></p>
<pre class="text"><code>{owner.firstName}</code></pre>
<p>with an <code>OwnerLink</code> component with <em>three</em> attributes: “href”, “firstName”, and “lastName”. Those are the three properties expected inside the component. Use the curly brace syntax to pass in the appropriate values of the <code>owner</code>. This is something you haven’t done, yet. Try to think through the problem of how to pass in <em>multiple</em> property values. If you get stuck and can’t get it after about ten minutes, ask for help!</p>
<p>Refresh the page. If everything works, you’re done!</p>
<h3 id="what-youve-done-here-2">What you’ve done, here</h3>
<p>In this part of the walk-through, you used a collection to render a collection of React elements. You found out that using a collection like that requires you to provide a “key” property that has a stable, unique value. Once you had that, React would gladly manage that collection of objects in its virtual DOM.</p>
<h3 id="what-youve-done-overall-2">What you’ve done, overall</h3>
<p>You have used JSX to do some amazing things, here.</p>
<ul>
<li>You reinforced the best practice of putting one React component in its own file (module) and exporting it as the default value of the module</li>
<li>You learned that JSX compiles to <code>React.createElement</code></li>
<li>You learned that <code>&lt;&gt;</code> and <code>&lt;/&gt;</code> are shorthand literal for the often-used <code>React.Fragment</code> element</li>
<li>You used <code>defaultProps</code> to make sure that components always had some valid values to work with</li>
<li>You used <em>pure functional components</em> all the way through this, which means that none of the components used any other data than what was given to it</li>
<li>You are intimately familiar with how React creates its elements, now, which means there will be no magical thinking about JSX when you use it</li>
</ul>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/react-pet-detail-owners-list-with-key-error.png">Petrack with owners list and key error</a>: images/react-pet-detail-owners-list-with-key-error.pngimages/react-pet-detail-owners-list-with-key-error.png=6 orderedList=false} –&gt;</p>
<p>All you have left is to create a list of owners with links.</p>
<ul>
<li><code>PetDetailPage</code>: Done</li>
<li><code>Navigation</code>: Done</li>
<li><code>PetDetails</code>: Modified in this step</li>
<li><code>PetDetailList</code>: Done</li>
<li><code>PetInformationItem</code>: Done</li>
<li><code>OwnersList</code>: Created in this step</li>
<li><code>OwnerLink</code>Created in this step</li>
</ul>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/pettrack-pet-detail-all-components-with-details-list.png"><img src="https://github.com/bgoonz/React_Notes_V3/raw/master/my-other-notes-n-projects/images/pettrack-pet-detail-all-components-with-details-list.png" alt="Petrack component analysis" /></a></p>
<p>You’re almost done. Now, you get to handle a collection of data from the owners.</p>
<h3 id="stub-out-the-owners-list-component-3">Stub out the owners list component</h3>
<p>You’ve done this four other times, so it’s pretty straight forward.</p>
<ul>
<li>Create the <strong>src/OwnersList.js</strong> file. In it,
<ul>
<li>Import the React object</li>
<li>Create the function-based component named <code>OwnersList</code> with a <code>props</code> argument that uses a <code>React.Fragment</code> as its element</li>
<li>Add a child that is an ‘h2’ with the content “Owners”</li>
<li>Using <code>defaultProps</code>, add a default property value for “owners” and set it to an empty array because this component will expect an array of owner data</li>
<li>Export the <code>OwnersList</code> as the default export</li>
</ul></li>
<li>In the <strong>PetDetails.js</strong> file,
<ul>
<li>Import the <code>OwnersList</code> component</li>
<li>Add it as another child element of the <code>PetDetailPage</code> component after the <code>PetDetailList</code></li>
<li>Wrap both the <code>PetDetailList</code> and <code>OwnersList</code> in a <code>Fragment</code>.</li>
<li>Pass in the owners to the <code>OwnersList</code> component in a property named “owners” like this <code>{props.pet.Owners}</code> which will pass in the array of owners for the pet</li>
<li>Fix the error with a default value for the “pet” property</li>
</ul></li>
</ul>
<pre class="text"><code>// src/PetDetails.js
import React from &#39;react&#39;;

import OwnersList from &#39;./OwnersList&#39;;
import PetDetailList from &#39;./PetDetailList&#39;;

const PetDetails = props =&gt;
  &lt;&gt;
    &lt;PetDetailList pet={props.pet} /&gt;
    &lt;OwnersList owners={props.pet.Owners} /&gt;
  &lt;/&gt;
;

PetDetails.defaultProps = {
  pet: {
    PetType: {},
  },
};

export default PetDetails;</code></pre>
<p>Refresh the page and make sure everything still works.</p>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/react-pet-detail-with-owners-headline.png"><img src="https://github.com/bgoonz/React_Notes_V3/raw/master/my-other-notes-n-projects/images/react-pet-detail-with-owners-headline.png" alt="Petrack with owners headline" /></a></p>
<h3 id="dealing-with-the-list-3">Dealing with the list</h3>
<p><strong>Note</strong>: This section introduces an error that you will fix. It is a common error about how to create React elements from lists. You may see it often. This way, you will know how to fix it, too.</p>
<p>Back in <strong>OwnersList.js</strong>, you want a <code>ul</code> to follow the <code>h2</code>.</p>
<pre class="text"><code>const OwnersList = props =&gt;
  &lt;&gt;
    &lt;h2&gt;Owners&lt;/h2&gt;
    &lt;ul&gt;
      {/* Create li elements here */}
    &lt;/ul&gt;
  &lt;/&gt;
;</code></pre>
<p>Here’s the thing. You have an array of owners. You want to turn them into some list items. For each owner, you want to <em>map</em> that to a list item. And, therein lies the hint. Since the value in <code>props.owners</code> is an array, you can use the <code>map</code> function to generate another array of React elements and plop them in there! Give it a go with this code. Replace the comment about where list items go above with this line of code.</p>
<pre class="text"><code>{ props.owners.map(owner =&gt;
  &lt;li&gt;{owner.firstName}&lt;/li&gt;
)}</code></pre>
<p>Refresh the page. What happens? You should now see “Human” for each of the list items. That’s great! In the console, there’s an error. That’s sad!</p>
<p><a href="https://github.com/bgoonz/React_Notes_V3/blob/master/my-other-notes-n-projects/images/react-pet-detail-owners-list-with-key-error.png"><img src="https://github.com/bgoonz/React_Notes_V3/raw/master/my-other-notes-n-projects/images/react-pet-detail-owners-list-with-key-error.png" alt="Petrack with owners list and key error" /></a></p>
<p>In this last step, you’ve changed the way you’re passing children into the <code>React.createElement</code>. Up until now, you’ve had discrete single elements as children, like in <strong>PetDetailList.js</strong> where you have this code.</p>
<pre class="text"><code>const PetDetailList = props =&gt;
  &lt;&gt;
    &lt;h2&gt;Details&lt;/h2&gt;
    &lt;dl&gt;
      &lt;PetInformationItem name=&quot;Name&quot; value={props.pet.name}/&gt;
      &lt;PetInformationItem name=&quot;Age&quot; value={props.pet.age}/&gt;
      &lt;PetInformationItem name=&quot;Type&quot; value={props.pet.PetType.type}/&gt;
    &lt;/dl&gt;
  &lt;/&gt;
;</code></pre>
<p>Each of <code>PetInformationItem</code> elements is a different, discrete, and separate child for the <code>dl</code> element.</p>
<p>The code in <strong>OwnersList.js</strong>, this code,</p>
<pre class="text"><code>const OwnersList = props =&gt;
  &lt;&gt;
    &lt;h2&gt;Owners&lt;/h2&gt;
    &lt;ul&gt;
      {props.owners.map(owner =&gt;
        &lt;li&gt;{owner.firstName}&lt;/li&gt;
      )}
    &lt;/ul&gt;
  &lt;/&gt;
;</code></pre>
<p>in that, you have created an <em>array</em> of objects. Recall that when you call the <code>map</code> function on an array, it returns <em>another array</em>. React doesn’t care about this, but it would like a little help in tracking each of those entries in the virtual DOM that it builds. That’s what the error message is about, giving React a little help by providing a “key” property for each of the elements that you’re creating in the array. The value of the “key” property must be unique and stable, that is, for a given object (like an owner named “Human One” with an id of 7), the value returned must always be the same. Luckily, because you have the id of the owner, you can use that because that id value is tied to a primary key, somewhere, and should never change for this object. The name can change, of course. But, the id will likely never change.</p>
<p>Add a “key” property to the <code>li</code> element and set it equal to the id of the owner object, like this.</p>
<pre class="text"><code>&lt;li key={owner.id}&gt;{owner.firstName}&lt;/li&gt;</code></pre>
<p>Now, the error in the console goes away.</p>
<p>Back to the <code>OwnersList</code> component, look at the formatting, the indentation that you see in the code.</p>
<pre class="text"><code>const OwnersList = props =&gt;
  &lt;&gt;
    &lt;h2&gt;Owners&lt;/h2&gt;
    &lt;ul&gt;
      {props.owners.map(owner =&gt;
        &lt;li key={owner.id}&gt;
          {owner.firstName}
        &lt;/li&gt;
      )}
    &lt;/ul&gt;
  &lt;/&gt;
;</code></pre>
<p>That, too, is idiomatic React, the <em>React</em> way of doing things. You’ll see that kind of code all over the React world.</p>
<h3 id="the-owner-link-component-5">The owner link component</h3>
<p>While it’s nice, and all, to see the owner’s first name in the list, the actual page has a link to the owner page with the format “last name, first name”. Time to create the (last!) component of this walk-through.</p>
<p>Create a new file named <strong>src/OwnerLink.js</strong>. In it, do the following:</p>
<ul>
<li>Import the React object</li>
<li>Create a new function-based component named <code>OwnerLink</code> that accepts data that has
<ul>
<li><code>a</code> as its element</li>
<li>An object literal with the property name “href” and the value of the “href” property passed in through the <code>props</code></li>
<li>A string as its child which contains the last name and the first name</li>
</ul></li>
<li>Export the component as the default export</li>
</ul>
<p>Once you have that, import the <code>OwnerLink</code> component into the <strong>src/OwnersList.js</strong> file. Now, replace this line in <code>OwnersList</code></p>
<pre class="text"><code>{owner.firstName}</code></pre>
<p>with an <code>OwnerLink</code> component with <em>three</em> attributes: “href”, “firstName”, and “lastName”. Those are the three properties expected inside the component. Use the curly brace syntax to pass in the appropriate values of the <code>owner</code>. This is something you haven’t done, yet. Try to think through the problem of how to pass in <em>multiple</em> property values. If you get stuck and can’t get it after about ten minutes, ask for help!</p>
<p>Refresh the page. If everything works, you’re done!</p>
<h3 id="what-youve-done-here-3">What you’ve done, here</h3>
<p>In this part of the walk-through, you used a collection to render a collection of React elements. You found out that using a collection like that requires you to provide a “key” property that has a stable, unique value. Once you had that, React would gladly manage that collection of objects in its virtual DOM.</p>
<h3 id="what-youve-done-overall-3">What you’ve done, overall</h3>
<p>You have used JSX to do some amazing things, here.</p>
<ul>
<li>You reinforced the best practice of putting one React component in its own file (module) and exporting it as the default value of the module</li>
<li>You learned that JSX compiles to <code>React.createElement</code></li>
<li>You learned that <code>&lt;&gt;</code> and <code>&lt;/&gt;</code> are shorthand literal for the often-used <code>React.Fragment</code> element</li>
<li>You used <code>defaultProps</code> to make sure that components always had some valid values to work with</li>
<li>You used <em>pure functional components</em> all the way through this, which means that none of the components used any other data than what was given to it</li>
<li>You are intimately familiar with how React creates its elements, now, which means there will be no magical thinking about JSX when you use it</li>
</ul>
</body>
</html>
