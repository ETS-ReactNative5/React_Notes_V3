<a href="../index.html" class="css-4rbku5 css-1dbjc4n r-1awozwy r-1loqt21 r-18u37iz r-1otgn73 r-1i6wzkk r-lrvibr"></a>

<span class="emj-objects _1f4cc" role="img" title="pushpin" aria-label="pushpin" style="transform: translate(-50%, -50%) scale(1.25)">📌</span>

<span class="emj-objects _1f4cc" role="img" title="pushpin" aria-label="pushpin" style="transform: translate(-50%, -50%) scale(0.44)">📌</span>

<span class="emj-objects _1f4cc" role="img" title="pushpin" aria-label="pushpin" style="transform: translate(-50%, -50%) scale(0.75)">📌</span>

<span class="emj-objects _1f4cc" role="img" title="pushpin" aria-label="pushpin" style="transform: translate(-50%, -50%) scale(0.26)">📌</span>

<span class="css-901oao css-16my406 css-vcwn7f" aria-label="React" data-rnw-int-class="243__257-20744_">React</span>

Search…

<a href="../index.html" class="css-4rbku5 css-1dbjc4n r-1awozwy r-1loqt21 r-18u37iz r-1otgn73 r-1i6wzkk r-lrvibr"></a>

<span class="emj-objects _1f4cc" role="img" title="pushpin" aria-label="pushpin" style="
                                    transform: translate(-50%, -50%) scale(1.25);
                                  ">📌</span>

<span class="emj-objects _1f4cc" role="img" title="pushpin" aria-label="pushpin" style="
                                    transform: translate(-50%, -50%) scale(0.44);
                                  ">📌</span>

<span class="emj-objects _1f4cc" role="img" title="pushpin" aria-label="pushpin" style="
                                    transform: translate(-50%, -50%) scale(0.75);
                                  ">📌</span>

<span class="emj-objects _1f4cc" role="img" title="pushpin" aria-label="pushpin" style="
                                    transform: translate(-50%, -50%) scale(0.26);
                                  ">📌</span>

<span class="css-901oao css-16my406 css-vcwn7f" aria-label="React" data-rnw-int-class="243__257-20744_">React</span>

<a href="../index.html" class="css-4rbku5 css-1dbjc4n r-1awozwy r-42olwf r-rs99b7 r-1loqt21 r-18u37iz r-15ysp7h r-ymttw5 r-1otgn73 r-1i6wzkk r-lrvibr"></a>

index

<a href="../general-notes.html" class="css-4rbku5 css-1dbjc4n r-1awozwy r-42olwf r-rs99b7 r-1loqt21 r-18u37iz r-15ysp7h r-ymttw5 r-1otgn73 r-1i6wzkk r-lrvibr"></a>

General Notes

<a href="../review-of-previous-concepts.html" class="css-4rbku5 css-1dbjc4n r-1awozwy r-42olwf r-rs99b7 r-1loqt21 r-18u37iz r-15ysp7h r-ymttw5 r-1otgn73 r-1i6wzkk r-lrvibr"></a>

Review-Of-Previous-Concepts

<a href="../reiew.html" class="css-4rbku5 css-1dbjc4n r-1awozwy r-42olwf r-rs99b7 r-1loqt21 r-18u37iz r-15ysp7h r-ymttw5 r-1otgn73 r-1i6wzkk r-lrvibr"></a>

Reiew

<a href="../understanding-by-example.html" class="css-4rbku5 css-1dbjc4n r-1awozwy r-42olwf r-rs99b7 r-1loqt21 r-18u37iz r-15ysp7h r-ymttw5 r-1otgn73 r-1i6wzkk r-lrvibr"></a>

Understanding By Example

<a href="../spread-and-rest.html" class="css-4rbku5 css-1dbjc4n r-1awozwy r-42olwf r-rs99b7 r-1loqt21 r-18u37iz r-15ysp7h r-ymttw5 r-1otgn73 r-1i6wzkk r-lrvibr"></a>

Spread and Rest

REACT-RESOURCES

<a href="../react-md/appendix.html" class="css-4rbku5 css-1dbjc4n r-1awozwy r-42olwf r-rs99b7 r-1loqt21 r-18u37iz r-15ysp7h r-ymttw5 r-1otgn73 r-1i6wzkk r-lrvibr"></a>

index

<a href="../react-md/react-resources.html" class="css-4rbku5 css-1dbjc4n r-1awozwy r-42olwf r-rs99b7 r-1loqt21 r-18u37iz r-15ysp7h r-ymttw5 r-1otgn73 r-1i6wzkk r-lrvibr"></a>

React-Resources

<a href="../react-md/untitled-1.html" class="css-4rbku5 css-1dbjc4n r-1awozwy r-42olwf r-rs99b7 r-1loqt21 r-18u37iz r-15ysp7h r-ymttw5 r-1otgn73 r-1i6wzkk r-lrvibr"></a>

Thinking in React

<a href="../react-md/composition-vs-inheritance.html" class="css-4rbku5 css-1dbjc4n r-1awozwy r-42olwf r-rs99b7 r-1loqt21 r-18u37iz r-15ysp7h r-ymttw5 r-1otgn73 r-1i6wzkk r-lrvibr"></a>

Composition vs Inheritance

<a href="../react-md/using-web-components-in-react.html" class="css-4rbku5 css-1dbjc4n r-1awozwy r-42olwf r-rs99b7 r-1loqt21 r-18u37iz r-15ysp7h r-ymttw5 r-1otgn73 r-1i6wzkk r-lrvibr"></a>

Using Web Components in React

<a href="../react-md/react-enviorment.html" class="css-4rbku5 css-1dbjc4n r-1awozwy r-42olwf r-rs99b7 r-1loqt21 r-18u37iz r-15ysp7h r-ymttw5 r-1otgn73 r-1i6wzkk r-lrvibr"></a>

REACT ENVIORMENT

<a href="../react-md/hello-world.html" class="css-4rbku5 css-1dbjc4n r-1awozwy r-42olwf r-rs99b7 r-1loqt21 r-18u37iz r-15ysp7h r-ymttw5 r-1otgn73 r-1i6wzkk r-lrvibr"></a>

Hello World

<a href="../react-md/components-and-props.html" class="css-4rbku5 css-1dbjc4n r-1awozwy r-42olwf r-rs99b7 r-1loqt21 r-18u37iz r-15ysp7h r-ymttw5 r-1otgn73 r-1i6wzkk r-lrvibr"></a>

Components And Props

<a href="../react-md/jsx.html" class="css-4rbku5 css-1dbjc4n r-1awozwy r-42olwf r-rs99b7 r-1loqt21 r-18u37iz r-15ysp7h r-ymttw5 r-1otgn73 r-1i6wzkk r-lrvibr"></a>

JSX

projects

<a href="../projects/project-examples.html" class="css-4rbku5 css-1dbjc4n r-1awozwy r-42olwf r-rs99b7 r-1loqt21 r-18u37iz r-15ysp7h r-ymttw5 r-1otgn73 r-1i6wzkk r-lrvibr"></a>

Project Examples

Prerequisites

<a href="../prerequisites/prerequisites.html" class="css-4rbku5 css-1dbjc4n r-1awozwy r-42olwf r-rs99b7 r-1loqt21 r-18u37iz r-15ysp7h r-ymttw5 r-1otgn73 r-1i6wzkk r-lrvibr"></a>

Prerequisites

Advanced

<a href="advanced.html" class="css-4rbku5 css-1dbjc4n r-1awozwy r-14lw9ot r-156hn8l r-rs99b7 r-1loqt21 r-18u37iz r-15ysp7h r-ymttw5 r-1otgn73 r-1i6wzkk r-lrvibr"></a>

Advanced

MY_DOCS

<a href="../my_docs/docs.html" class="css-4rbku5 css-1dbjc4n r-1awozwy r-42olwf r-rs99b7 r-1loqt21 r-18u37iz r-15ysp7h r-ymttw5 r-1otgn73 r-1i6wzkk r-lrvibr"></a>

Docs

<a href="../my_docs/react-components.html" class="css-4rbku5 css-1dbjc4n r-1awozwy r-42olwf r-rs99b7 r-1loqt21 r-18u37iz r-15ysp7h r-ymttw5 r-1otgn73 r-1i6wzkk r-lrvibr"></a>

React Components

<a href="../my_docs/composition-vs-inheritance.html" class="css-4rbku5 css-1dbjc4n r-1awozwy r-42olwf r-rs99b7 r-1loqt21 r-18u37iz r-15ysp7h r-ymttw5 r-1otgn73 r-1i6wzkk r-lrvibr"></a>

Composition vs Inheritance

Methodologies

<a href="../methodologies/node.js-versus-next.js-a-react-approach.html" class="css-4rbku5 css-1dbjc4n r-1awozwy r-42olwf r-rs99b7 r-1loqt21 r-18u37iz r-15ysp7h r-ymttw5 r-1otgn73 r-1i6wzkk r-lrvibr"></a>

Node.js versus Next.js - A React Approach

Interview

<a href="../interview/question-set-1.html" class="css-4rbku5 css-1dbjc4n r-1awozwy r-42olwf r-rs99b7 r-1loqt21 r-18u37iz r-15ysp7h r-ymttw5 r-1otgn73 r-1i6wzkk r-lrvibr"></a>

Question Set \#1:

Powered By <span class="css-901oao css-16my406 r-b88u0q">GitBook</span>

Advanced

<span data-key="bf3a3211df5d438e86a0f892bafbd21b"><span data-offset-key="bf3a3211df5d438e86a0f892bafbd21b:0"><span data-slate-zero-width="n">​</span></span></span>

<span data-key="6caf29bc40e04c9482f4943192bac362"><span data-offset-key="6caf29bc40e04c9482f4943192bac362:0"><span data-slate-zero-width="n">​</span></span></span>

<span data-key="d0e20839a5db4101a63a9dbc06b56b94"><span data-offset-key="d0e20839a5db4101a63a9dbc06b56b94:0"><span data-slate-zero-width="n">​</span></span></span>

<span data-key="c9a14653778f4c30b57194b765bffc0e"><span data-offset-key="c9a14653778f4c30b57194b765bffc0e:0"><span data-slate-zero-width="n">​</span></span></span>

<span data-key="ba38d5587b804448a573150cc44801f0"><span data-offset-key="ba38d5587b804448a573150cc44801f0:0"><span data-slate-zero-width="n">​</span></span></span>

<span data-key="9f463079de2244e89a58eca0ac4d83e4"><span data-offset-key="9f463079de2244e89a58eca0ac4d83e4:0"><span class="css-901oao css-16my406 r-b88u0q">Accessibility</span></span></span>

<span data-key="28095920361b4b87b0237c65a213254b"><span data-offset-key="28095920361b4b87b0237c65a213254b:0">Why Accessibility?</span></span>

<span data-key="1e2e72cb989c4cbc9450b7e4438e2d87"><span data-offset-key="1e2e72cb989c4cbc9450b7e4438e2d87:0">Web accessibility (also referred to as </span></span><a href="https://en.wiktionary.org/wiki/a11y" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="e251dd459cff4f09a56fe5a49f791e96"><span data-offset-key="e251dd459cff4f09a56fe5a49f791e96:0"><span class="css-901oao css-16my406 r-b88u0q">a11y</span></span></span></span></a><span data-key="ec089fd962654f76a05718dd6d000b7d"><span data-offset-key="ec089fd962654f76a05718dd6d000b7d:0">) is the design and creation of websites that can be used by everyone. Accessibility support is necessary to allow assistive technology to interpret web pages.</span></span>

<span data-key="abfa38e2a6f44f37ac48cb0b67fcfe7b"><span data-offset-key="abfa38e2a6f44f37ac48cb0b67fcfe7b:0">React fully supports building accessible websites, often by using standard HTML techniques.</span></span>

<span data-key="f56a4ad0560043508856bc58ad02689a"><span data-offset-key="f56a4ad0560043508856bc58ad02689a:0">Standards and Guidelines</span></span>

<span data-key="ea22a1be1ff84247932e3838434e0f71"><span data-offset-key="ea22a1be1ff84247932e3838434e0f71:0">WCAG</span></span>

<span data-key="7a55b25bb1584169a32a0d4eb9761fd4"><span data-offset-key="7a55b25bb1584169a32a0d4eb9761fd4:0">The </span></span><a href="https://www.w3.org/WAI/intro/wcag" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="b302b5d10490437b91737bfc7273e3be"><span data-offset-key="b302b5d10490437b91737bfc7273e3be:0">Web Content Accessibility Guidelines</span></span></span></a><span data-key="f23689d3bca542c2adea75819d8d9d97"><span data-offset-key="f23689d3bca542c2adea75819d8d9d97:0"> provides guidelines for creating accessible web sites.</span></span>

<span data-key="6ea7f5e971464b0e8ecf0bd09cfd41ad"><span data-offset-key="6ea7f5e971464b0e8ecf0bd09cfd41ad:0">The following WCAG checklists provide an overview:</span></span>

<span data-key="f4c356c1d6f8421f832eb63b3387a9e4"><span data-offset-key="f4c356c1d6f8421f832eb63b3387a9e4:0">WAI-ARIA</span></span>

<span data-key="d93825ab8d2c4db78eaa710105251a4e"><span data-offset-key="d93825ab8d2c4db78eaa710105251a4e:0">The </span></span><a href="https://www.w3.org/WAI/intro/aria" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="cbab1df6685c4dafa689866799aed141"><span data-offset-key="cbab1df6685c4dafa689866799aed141:0">Web Accessibility Initiative - Accessible Rich Internet Applications</span></span></span></a><span data-key="9ce0794bce4f4bb5952482151b219c0d"><span data-offset-key="9ce0794bce4f4bb5952482151b219c0d:0"> document contains techniques for building fully accessible JavaScript widgets.</span></span>

<span data-key="7b468584d54b4afba7d195d3f1a1e3ff"><span data-offset-key="7b468584d54b4afba7d195d3f1a1e3ff:0">Note that all </span><span data-offset-key="7b468584d54b4afba7d195d3f1a1e3ff:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">aria-\*</span></span><span data-offset-key="7b468584d54b4afba7d195d3f1a1e3ff:2"> HTML attributes are fully supported in JSX. Whereas most DOM properties and attributes in React are camelCased, these attributes should be hyphen-cased (also known as kebab-case, lisp-case, etc) as they are in plain HTML:</span></span>

<span data-key="995a251a6a26496c8e8379f73c3412a8"><span data-offset-key="995a251a6a26496c8e8379f73c3412a8:0"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">&lt;input type="text" aria-label={labelText} aria-required="true" onChange={onchangeHandler}value={inputValue}name="name"/&gt;</span></span></span>

<span data-key="382acef3b4074dc89f645188fb30e2ca"><span data-offset-key="382acef3b4074dc89f645188fb30e2ca:0">Semantic HTML</span></span>

<span data-key="fc7f617d6d564e528fedefb56821d53a"><span data-offset-key="fc7f617d6d564e528fedefb56821d53a:0">Semantic HTML is the foundation of accessibility in a web application. Using the various HTML elements to reinforce the meaning of information in our websites will often give us accessibility for free.</span></span>

<span data-key="374c1f6aee9140cbb9dbc807d76a4405"><span data-offset-key="374c1f6aee9140cbb9dbc807d76a4405:0">Sometimes we break HTML semantics when we add </span><span data-offset-key="374c1f6aee9140cbb9dbc807d76a4405:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">&lt;div&gt;</span></span><span data-offset-key="374c1f6aee9140cbb9dbc807d76a4405:2"> elements to our JSX to make our React code work, especially when working with lists (</span><span data-offset-key="374c1f6aee9140cbb9dbc807d76a4405:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">&lt;ol&gt;</span></span><span data-offset-key="374c1f6aee9140cbb9dbc807d76a4405:4">, </span><span data-offset-key="374c1f6aee9140cbb9dbc807d76a4405:5"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">&lt;ul&gt;</span></span><span data-offset-key="374c1f6aee9140cbb9dbc807d76a4405:6"> and </span><span data-offset-key="374c1f6aee9140cbb9dbc807d76a4405:7"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">&lt;dl&gt;</span></span><span data-offset-key="374c1f6aee9140cbb9dbc807d76a4405:8">) and the HTML </span><span data-offset-key="374c1f6aee9140cbb9dbc807d76a4405:9"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">&lt;table&gt;</span></span><span data-offset-key="374c1f6aee9140cbb9dbc807d76a4405:10">. In these cases we should rather use </span></span><a href="https://reactjs.org/docs/fragments.html" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="4a8635098708401da7fbf35aa832992a"><span data-offset-key="4a8635098708401da7fbf35aa832992a:0">React Fragments</span></span></span></a><span data-key="4835ea6cbd564df4ae99d5a270e56f73"><span data-offset-key="4835ea6cbd564df4ae99d5a270e56f73:0"> to group together multiple elements.</span></span>

<span data-key="0d7b28f2abf145549c7bf4c17a661458"><span data-offset-key="0d7b28f2abf145549c7bf4c17a661458:0">For example,</span></span>

<span data-key="cce5c0e68e9646d88c97b4c2a3f0bc59"><span data-offset-key="cce5c0e68e9646d88c97b4c2a3f0bc59:0">\`import React, { Fragment } from 'react';function ListItem({ item }) { return ( &lt;Fragment&gt; &lt;dt&gt;{item.term}&lt;/dt&gt; &lt;dd&gt;{item.description}&lt;/dd&gt; &lt;/Fragment&gt; ); }</span></span>

<span data-key="180a0c205e9e4dc6bb279755fe674e2a"><span data-offset-key="180a0c205e9e4dc6bb279755fe674e2a:0">function Glossary(props) { return ( &lt;dl&gt; {props.items.map(item =&gt; ( &lt;ListItem item={item} key={</span></span><a href="http://item.id" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="2b267f62f3bd4a689cf371b33e03d03f"><span data-offset-key="2b267f62f3bd4a689cf371b33e03d03f:0">item.id</span></span></span></a><span data-key="be9c10c47083438cb91a8935a4cd6aa3"><span data-offset-key="be9c10c47083438cb91a8935a4cd6aa3:0">} /&gt;))} &lt;/dl&gt;); }\`</span></span>

<span data-key="eecd78a5d6df4a7d8597461d03c303b6"><span data-offset-key="eecd78a5d6df4a7d8597461d03c303b6:0">You can map a collection of items to an array of fragments as you would any other type of element as well:</span></span>

<span data-key="96a28910570c43379b53b81632300c58"><span data-offset-key="96a28910570c43379b53b81632300c58:0"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">function Glossary(props) { return ( &lt;dl&gt; {props.items.map(item =&gt; ( // Fragments should also have a</span></span><span data-offset-key="96a28910570c43379b53b81632300c58:1">key</span><span data-offset-key="96a28910570c43379b53b81632300c58:2"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">prop when mapping collections &lt;Fragment key={item.id}&gt; &lt;dt&gt;{item.term}&lt;/dt&gt; &lt;dd&gt;{item.description}&lt;/dd&gt; &lt;/Fragment&gt; ))} &lt;/dl&gt;); }</span></span></span>

<span data-key="e135bfe6026a443eb7ff920b598791f2"><span data-offset-key="e135bfe6026a443eb7ff920b598791f2:0">When you don’t need any props on the Fragment tag you can use the </span></span><a href="https://reactjs.org/docs/fragments.html#short-syntax" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="c5d44f5faf9b468a8fc5c474c8d9fdd1"><span data-offset-key="c5d44f5faf9b468a8fc5c474c8d9fdd1:0">short syntax</span></span></span></a><span data-key="a85fe3c7f73f4a0ebcf508fec59ad299"><span data-offset-key="a85fe3c7f73f4a0ebcf508fec59ad299:0">, if your tooling supports it:</span></span>

<span data-key="b6424a0447724029bccdaa6597a30b82"><span data-offset-key="b6424a0447724029bccdaa6597a30b82:0"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">function ListItem({ item }) { return ( &lt;&gt; &lt;dt&gt;{item.term}&lt;/dt&gt; &lt;dd&gt;{item.description}&lt;/dd&gt; &lt;/&gt; ); }</span></span></span>

<span data-key="b7e0c9f361c748d88b8c7ccad45a1b62"><span data-offset-key="b7e0c9f361c748d88b8c7ccad45a1b62:0">For more info, see </span></span><a href="https://reactjs.org/docs/fragments.html" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="1d85edb924f84c8bad6e323c65c0f81c"><span data-offset-key="1d85edb924f84c8bad6e323c65c0f81c:0">the Fragments documentation</span></span></span></a><span data-key="17634c209a9a43d2a2c79aa1b4f4861b"><span data-offset-key="17634c209a9a43d2a2c79aa1b4f4861b:0">.</span></span>

<span data-key="07bf73ee355743218561d5c09e06f530"><span data-offset-key="07bf73ee355743218561d5c09e06f530:0">Accessible Forms</span></span>

<span data-key="385778b0f6974ab5b4717e8752aae85d"><span data-offset-key="385778b0f6974ab5b4717e8752aae85d:0">Labeling</span></span>

<span data-key="9956a800ea7d4008b2bb8ce2f01e244d"><span data-offset-key="9956a800ea7d4008b2bb8ce2f01e244d:0">Every HTML form control, such as </span><span data-offset-key="9956a800ea7d4008b2bb8ce2f01e244d:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">&lt;input&gt;</span></span><span data-offset-key="9956a800ea7d4008b2bb8ce2f01e244d:2"> and </span><span data-offset-key="9956a800ea7d4008b2bb8ce2f01e244d:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">&lt;textarea&gt;</span></span><span data-offset-key="9956a800ea7d4008b2bb8ce2f01e244d:4">, needs to be labeled accessibly. We need to provide descriptive labels that are also exposed to screen readers.</span></span>

<span data-key="0cb23d05176847428176f409effd19e4"><span data-offset-key="0cb23d05176847428176f409effd19e4:0">The following resources show us how to do this:</span></span>

<span data-key="8be395fa0e624d76886115c3e06850bb"><span data-offset-key="8be395fa0e624d76886115c3e06850bb:0">Although these standard HTML practices can be directly used in React, note that the </span><span data-offset-key="8be395fa0e624d76886115c3e06850bb:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">for</span></span><span data-offset-key="8be395fa0e624d76886115c3e06850bb:2"> attribute is written as </span><span data-offset-key="8be395fa0e624d76886115c3e06850bb:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">htmlFor</span></span><span data-offset-key="8be395fa0e624d76886115c3e06850bb:4"> in JSX:</span></span>

<span data-key="366d8de1e87b48489904c7ca8ffabae1"><span data-offset-key="366d8de1e87b48489904c7ca8ffabae1:0"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">&lt;label htmlFor="namedInput"&gt;Name:&lt;/label&gt;&lt;input id="namedInput" type="text" name="name"/&gt;</span></span></span>

<span data-key="f87d9b5dca2b43db908f9d55da535a6e"><span data-offset-key="f87d9b5dca2b43db908f9d55da535a6e:0">Notifying the user of errors</span></span>

<span data-key="e29138198be24843b00b4998a94e820e"><span data-offset-key="e29138198be24843b00b4998a94e820e:0">Error situations need to be understood by all users. The following link shows us how to expose error texts to screen readers as well:</span></span>

<span data-key="54f4aa1b197448ca853bbd4ae7f5c1a1"><span data-offset-key="54f4aa1b197448ca853bbd4ae7f5c1a1:0">Focus Control</span></span>

<span data-key="87f920635bb24ce28b23bcdc64e3bc8e"><span data-offset-key="87f920635bb24ce28b23bcdc64e3bc8e:0">Ensure that your web application can be fully operated with the keyboard only:</span></span>

<span data-key="93e1381db6c14452b6d0d8307137ccf3"><span data-offset-key="93e1381db6c14452b6d0d8307137ccf3:0">Keyboard focus and focus outline</span></span>

<span data-key="0b2e6d4a213845b99a8101ea2a13dadd"><span data-offset-key="0b2e6d4a213845b99a8101ea2a13dadd:0">Keyboard focus refers to the current element in the DOM that is selected to accept input from the keyboard. We see it everywhere as a focus outline similar to that shown in the following image:</span></span>

<span data-key="7ba6f68dbc9f4c2e87f15f8b0cac30bf"><span data-offset-key="7ba6f68dbc9f4c2e87f15f8b0cac30bf:0">https://reactjs.org/static/dec0e6bcc1f882baf76ebc860d4f04e5/4fcfe/keyboard-focus.png</span></span>

<span data-key="dbb318f139a047e48415672f3c61a1d3"><span data-offset-key="dbb318f139a047e48415672f3c61a1d3:0">Only ever use CSS that removes this outline, for example by setting </span><span data-offset-key="dbb318f139a047e48415672f3c61a1d3:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">outline: 0</span></span><span data-offset-key="dbb318f139a047e48415672f3c61a1d3:2">, if you are replacing it with another focus outline implementation.</span></span>

<span data-key="e3d72d3ccdfd49688ca8afda5ca7e9ed"><span data-offset-key="e3d72d3ccdfd49688ca8afda5ca7e9ed:0">Mechanisms to skip to desired content</span></span>

<span data-key="46e8c9fcb76e4c058e189eca94ba320e"><span data-offset-key="46e8c9fcb76e4c058e189eca94ba320e:0">Provide a mechanism to allow users to skip past navigation sections in your application as this assists and speeds up keyboard navigation.</span></span>

<span data-key="e08341d4d3044f62959b4ee3c112b84f"><span data-offset-key="e08341d4d3044f62959b4ee3c112b84f:0">Skiplinks or Skip Navigation Links are hidden navigation links that only become visible when keyboard users interact with the page. They are very easy to implement with internal page anchors and some styling:</span></span>

<span data-key="ba8d8b22268a40d5ad67bfc1393dc226"><span data-offset-key="ba8d8b22268a40d5ad67bfc1393dc226:0">Also use landmark elements and roles, such as </span><span data-offset-key="ba8d8b22268a40d5ad67bfc1393dc226:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">&lt;main&gt;</span></span><span data-offset-key="ba8d8b22268a40d5ad67bfc1393dc226:2"> and </span><span data-offset-key="ba8d8b22268a40d5ad67bfc1393dc226:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">&lt;aside&gt;</span></span><span data-offset-key="ba8d8b22268a40d5ad67bfc1393dc226:4">, to demarcate page regions as assistive technology allow the user to quickly navigate to these sections.</span></span>

<span data-key="81b525c4673c4012b20b93e51d15da95"><span data-offset-key="81b525c4673c4012b20b93e51d15da95:0">Read more about the use of these elements to enhance accessibility here:</span></span>

<span data-key="21666f5d5b48429ca75694d2586226f4"><span data-offset-key="21666f5d5b48429ca75694d2586226f4:0">Programmatically managing focus</span></span>

<span data-key="f47a2b65042f4ad7954e640faf1bb616"><span data-offset-key="f47a2b65042f4ad7954e640faf1bb616:0">Our React applications continuously modify the HTML DOM during runtime, sometimes leading to keyboard focus being lost or set to an unexpected element. In order to repair this, we need to programmatically nudge the keyboard focus in the right direction. For example, by resetting keyboard focus to a button that opened a modal window after that modal window is closed.</span></span>

<span data-key="9e9f98cb13e14ee8900f34c0d67c1c3b"><span data-offset-key="9e9f98cb13e14ee8900f34c0d67c1c3b:0">MDN Web Docs takes a look at this and describes how we can build </span></span><a href="https://developer.mozilla.org/en-US/docs/Web/Accessibility/Keyboard-navigable_JavaScript_widgets" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="3e36974fd97847a88498ac5612eb780a"><span data-offset-key="3e36974fd97847a88498ac5612eb780a:0">keyboard-navigable JavaScript widgets</span></span></span></a><span data-key="f159d8f9f84641ee95c5d73cdf74fad7"><span data-offset-key="f159d8f9f84641ee95c5d73cdf74fad7:0">.</span></span>

<span data-key="39eb41445d2a476b8f5c6875915c4fee"><span data-offset-key="39eb41445d2a476b8f5c6875915c4fee:0">To set focus in React, we can use </span></span><a href="https://reactjs.org/docs/refs-and-the-dom.html" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="b3414e1e305f4e65afc7679cc3fe5237"><span data-offset-key="b3414e1e305f4e65afc7679cc3fe5237:0">Refs to DOM elements</span></span></span></a><span data-key="478c56f459684ec2bf08234b3a41ce47"><span data-offset-key="478c56f459684ec2bf08234b3a41ce47:0">.</span></span>

<span data-key="261f2a09a4d4437a8bb754b465d68137"><span data-offset-key="261f2a09a4d4437a8bb754b465d68137:0">Using this, we first create a ref to an element in the JSX of a component class:</span></span>

<span data-key="5d9a935b35f34a848af0da6c719885c3"><span data-offset-key="5d9a935b35f34a848af0da6c719885c3:0"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">class CustomTextInput extends React.Component { constructor(props) { super(props); // Create a ref to store the textInput DOM element this.textInput = React.createRef(); } render() { // Use the</span></span><span data-offset-key="5d9a935b35f34a848af0da6c719885c3:1">ref</span><span data-offset-key="5d9a935b35f34a848af0da6c719885c3:2"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">callback to store a reference to the text input DOM // element in an instance field (for example, this.textInput). return ( &lt;input type="text" ref={this.textInput} /&gt;); } }</span></span></span>

<span data-key="064fa30fa991442ca09b25735e6d62ba"><span data-offset-key="064fa30fa991442ca09b25735e6d62ba:0">Then we can focus it elsewhere in our component when needed:</span></span>

<span data-key="675d3952373e46a38aec32488d75ccf9"><span data-offset-key="675d3952373e46a38aec32488d75ccf9:0"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">focus() { // Explicitly focus the text input using the raw DOM API // Note: we're accessing "current" to get the DOM node this.textInput.current.focus(); }</span></span></span>

<span data-key="742adda9c9014c4ebc4263dd676a50bc"><span data-offset-key="742adda9c9014c4ebc4263dd676a50bc:0">Sometimes a parent component needs to set focus to an element in a child component. We can do this by </span></span><a href="https://reactjs.org/docs/refs-and-the-dom.html#exposing-dom-refs-to-parent-components" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="6411d354cbc34d7d9747ee64a216a692"><span data-offset-key="6411d354cbc34d7d9747ee64a216a692:0">exposing DOM refs to parent components</span></span></span></a><span data-key="2ac61f9d3596479b91c1fe2af973bb0f"><span data-offset-key="2ac61f9d3596479b91c1fe2af973bb0f:0"> through a special prop on the child component that forwards the parent’s ref to the child’s DOM node.</span></span>

<span data-key="18db627784e6453ea93b49f9dd6cc774"><span data-offset-key="18db627784e6453ea93b49f9dd6cc774:0">\`function CustomTextInput(props) { return ( &lt;div&gt; &lt;input ref={props.inputRef} /&gt; &lt;/div&gt;); }</span></span>

<span data-key="6bbea46bd05045a1a2739ee335885961"><span data-offset-key="6bbea46bd05045a1a2739ee335885961:0">class Parent extends React.Component { constructor(props) { super(props); this.inputElement = React.createRef(); } render() { return ( &lt;CustomTextInput inputRef={this.inputElement} /&gt; ); } }</span></span>

<span data-key="c242c1b4037e4fb38f3fcc8f1b52c15e"><span data-offset-key="c242c1b4037e4fb38f3fcc8f1b52c15e:0">// Now you can set focus when required. this.inputElement.current.focus();\`</span></span>

<span data-key="815cf0ec051447d69fabbf94f9e1ae6b"><span data-offset-key="815cf0ec051447d69fabbf94f9e1ae6b:0">When using a HOC to extend components, it is recommended to </span></span><a href="https://reactjs.org/docs/forwarding-refs.html" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="8c71cc1d149b4d9bbe48b1505ef68cdc"><span data-offset-key="8c71cc1d149b4d9bbe48b1505ef68cdc:0">forward the ref</span></span></span></a><span data-key="86132e1e545243f18014323dce345301"><span data-offset-key="86132e1e545243f18014323dce345301:0"> to the wrapped component using the </span><span data-offset-key="86132e1e545243f18014323dce345301:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">forwardRef</span></span><span data-offset-key="86132e1e545243f18014323dce345301:2"> function of React. If a third party HOC does not implement ref forwarding, the above pattern can still be used as a fallback.</span></span>

<span data-key="f4056d2fc21348579e162ea52186f174"><span data-offset-key="f4056d2fc21348579e162ea52186f174:0">A great focus management example is the </span></span><a href="https://github.com/davidtheclark/react-aria-modal" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="a443e7da4a0b475bb738437fb2a4291d"><span data-offset-key="a443e7da4a0b475bb738437fb2a4291d:0">react-aria-modal</span></span></span></a><span data-key="8945483658d94760b96688aba16f6ca2"><span data-offset-key="8945483658d94760b96688aba16f6ca2:0">. This is a relatively rare example of a fully accessible modal window. Not only does it set initial focus on the cancel button (preventing the keyboard user from accidentally activating the success action) and trap keyboard focus inside the modal, it also resets focus back to the element that initially triggered the modal.</span></span>

<span data-key="0b6d073185cc4023a2fee7f19a5ea584"><span data-offset-key="0b6d073185cc4023a2fee7f19a5ea584:0">Note:While this is a very important accessibility feature, it is also a technique that should be used judiciously. Use it to repair the keyboard focus flow when it is disturbed, not to try and anticipate how users want to use applications.</span></span>

<span data-key="5939b44b75ae4c518402c384b29ec49a"><span data-offset-key="5939b44b75ae4c518402c384b29ec49a:0">Mouse and pointer events</span></span>

<span data-key="4b438cb6e21548b182244920157d5962"><span data-offset-key="4b438cb6e21548b182244920157d5962:0">Ensure that all functionality exposed through a mouse or pointer event can also be accessed using the keyboard alone. Depending only on the pointer device will lead to many cases where keyboard users cannot use your application.</span></span>

<span data-key="b8afd832f82446788969156215cfe62b"><span data-offset-key="b8afd832f82446788969156215cfe62b:0">To illustrate this, let’s look at a prolific example of broken accessibility caused by click events. This is the outside click pattern, where a user can disable an opened popover by clicking outside the element.</span></span>

<span data-key="04598403024847fc8c96fd10e2884a81"><span data-offset-key="04598403024847fc8c96fd10e2884a81:0">https://reactjs.org/5523b05b22210c5a2fa0bd1f01339cb3/outerclick-with-mouse.gif</span></span>

<span data-key="2b0bdce95c404e4799e45bf72c1bb9c5"><span data-offset-key="2b0bdce95c404e4799e45bf72c1bb9c5:0">This is typically implemented by attaching a </span><span data-offset-key="2b0bdce95c404e4799e45bf72c1bb9c5:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">click</span></span><span data-offset-key="2b0bdce95c404e4799e45bf72c1bb9c5:2"> event to the </span><span data-offset-key="2b0bdce95c404e4799e45bf72c1bb9c5:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">window</span></span><span data-offset-key="2b0bdce95c404e4799e45bf72c1bb9c5:4"> object that closes the popover:</span></span>

<span data-key="5b25b2f769794d6b8dd2c71b82bc6f1a"><span data-offset-key="5b25b2f769794d6b8dd2c71b82bc6f1a:0">\`class OuterClickExample extends React.Component { constructor(props) { super(props);</span></span>

1

<span data-key="1eb5c080a78e4a7fbe5f6c7392b181f6"><span data-offset-key="1eb5c080a78e4a7fbe5f6c7392b181f6:0">this.state = { isOpen: false };</span></span>

2

<span data-key="f82f601763794336baa1a4a5335061c5"><span data-offset-key="f82f601763794336baa1a4a5335061c5:0">this.toggleContainer = React.createRef();</span></span>

3

<span data-key="197ddca19e324a8e966f9c974549eb08"><span data-offset-key="197ddca19e324a8e966f9c974549eb08:0"><span data-slate-zero-width="n">​</span></span></span>

4

<span data-key="d8357bdba1d44b9c92422bfe5247cbe9"><span data-offset-key="d8357bdba1d44b9c92422bfe5247cbe9:0">this.onClickHandler = this.onClickHandler.bind(this);</span></span>

5

<span data-key="7dc05f2e5c7f41e48c63c2bba6294536"><span data-offset-key="7dc05f2e5c7f41e48c63c2bba6294536:0">this.onClickOutsideHandler = this.onClickOutsideHandler.bind(this);</span></span>

Copied!

<span data-key="75c410226c064f47a7d015cea9b04366"><span data-offset-key="75c410226c064f47a7d015cea9b04366:0">}</span></span>

<span data-key="6f0164b25aea4b08ad66af829ec156b7"><span data-offset-key="6f0164b25aea4b08ad66af829ec156b7:0">componentDidMount() { window.addEventListener('click', this.onClickOutsideHandler); }componentWillUnmount() { window.removeEventListener('click', this.onClickOutsideHandler); }</span></span>

<span data-key="2651e788d74f40d4bb226d7fd5bb47fc"><span data-offset-key="2651e788d74f40d4bb226d7fd5bb47fc:0">onClickHandler() { this.setState(currentState =&gt; ({ isOpen: !currentState.isOpen })); }</span></span>

<span data-key="d9004a512fb2486ba496747a0e9e68e2"><span data-offset-key="d9004a512fb2486ba496747a0e9e68e2:0">onClickOutsideHandler(event) { if (this.state.isOpen && !this.toggleContainer.current.contains(event.target)) { this.setState({ isOpen: false }); } }render() { return ( &lt;div ref={this.toggleContainer}&gt; &lt;button onClick={this.onClickHandler}&gt;Select an option&lt;/button&gt; {this.state.isOpen && ( &lt;ul&gt; &lt;li&gt;Option 1&lt;/li&gt; &lt;li&gt;Option 2&lt;/li&gt; &lt;li&gt;Option 3&lt;/li&gt; &lt;/ul&gt;)} &lt;/div&gt;); } }\`</span></span>

<span data-key="5ec990a208c14cd794f0133fa5bb0a1d"><span data-offset-key="5ec990a208c14cd794f0133fa5bb0a1d:0">This may work fine for users with pointer devices, such as a mouse, but operating this with the keyboard alone leads to broken functionality when tabbing to the next element as the </span><span data-offset-key="5ec990a208c14cd794f0133fa5bb0a1d:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">window</span></span><span data-offset-key="5ec990a208c14cd794f0133fa5bb0a1d:2"> object never receives a </span><span data-offset-key="5ec990a208c14cd794f0133fa5bb0a1d:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">click</span></span><span data-offset-key="5ec990a208c14cd794f0133fa5bb0a1d:4"> event. This can lead to obscured functionality which blocks users from using your application.</span></span>

<span data-key="fa145e29bb6047a09df1dd1a456f5d82"><span data-offset-key="fa145e29bb6047a09df1dd1a456f5d82:0">https://reactjs.org/eca0ca825c8c5e2aa609cee72ef47e27/outerclick-with-keyboard.gif</span></span>

<span data-key="31d56443676445cb85b228722c5507c4"><span data-offset-key="31d56443676445cb85b228722c5507c4:0">The same functionality can be achieved by using appropriate event handlers instead, such as </span><span data-offset-key="31d56443676445cb85b228722c5507c4:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">onBlur</span></span><span data-offset-key="31d56443676445cb85b228722c5507c4:2"> and </span><span data-offset-key="31d56443676445cb85b228722c5507c4:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">onFocus</span></span><span data-offset-key="31d56443676445cb85b228722c5507c4:4">:</span></span>

<span data-key="0fcbef71ef4f41ac92dd8e4b118a80fa"><span data-offset-key="0fcbef71ef4f41ac92dd8e4b118a80fa:0">\`class BlurExample extends React.Component { constructor(props) { super(props);</span></span>

1

<span data-key="b2ee84a7b4e64c94953229c9b330bc81"><span data-offset-key="b2ee84a7b4e64c94953229c9b330bc81:0">this.state = { isOpen: false };</span></span>

2

<span data-key="3f57fc8a3baf42d99d780de9a0f330fb"><span data-offset-key="3f57fc8a3baf42d99d780de9a0f330fb:0">this.timeOutId = null;</span></span>

3

<span data-key="edabad05da4a4d948853822ef459d30b"><span data-offset-key="edabad05da4a4d948853822ef459d30b:0"><span data-slate-zero-width="n">​</span></span></span>

4

<span data-key="6776a38f7b0f4ad99612793ce5aaf2c0"><span data-offset-key="6776a38f7b0f4ad99612793ce5aaf2c0:0">this.onClickHandler = this.onClickHandler.bind(this);</span></span>

5

<span data-key="52661e24ddae47ce99bf84cc82b7aea5"><span data-offset-key="52661e24ddae47ce99bf84cc82b7aea5:0">this.onBlurHandler = this.onBlurHandler.bind(this);</span></span>

6

<span data-key="4cf965f6a1d846dfa79bbe9449d83bb4"><span data-offset-key="4cf965f6a1d846dfa79bbe9449d83bb4:0">this.onFocusHandler = this.onFocusHandler.bind(this);</span></span>

Copied!

<span data-key="417239dc2e2d4d80977b9d2b9021101b"><span data-offset-key="417239dc2e2d4d80977b9d2b9021101b:0">}</span></span>

<span data-key="d81e65bbb86b47d78b29118bb953c51a"><span data-offset-key="d81e65bbb86b47d78b29118bb953c51a:0">onClickHandler() { this.setState(currentState =&gt; ({ isOpen: !currentState.isOpen })); }</span></span>

<span data-key="86728f0d72754e619f971b7cbd31e788"><span data-offset-key="86728f0d72754e619f971b7cbd31e788:0">// We close the popover on the next tick by using setTimeout. // This is necessary because we need to first check if // another child of the element has received focus as // the blur event fires prior to the new focus event. onBlurHandler() { this.timeOutId = setTimeout(() =&gt; { this.setState({ isOpen: false }); }); } // If a child receives focus, do not close the popover. onFocusHandler() { clearTimeout(this.timeOutId); }render() { // React assists us by bubbling the blur and // focus events to the parent. return ( &lt;div onBlur={this.onBlurHandler} onFocus={this.onFocusHandler}&gt; &lt;button onClick={this.onClickHandler}aria-haspopup="true"aria-expanded={this.state.isOpen}&gt; Select an option &lt;/button&gt; {this.state.isOpen && ( &lt;ul&gt; &lt;li&gt;Option 1&lt;/li&gt; &lt;li&gt;Option 2&lt;/li&gt; &lt;li&gt;Option 3&lt;/li&gt; &lt;/ul&gt;)} &lt;/div&gt;); } }\`</span></span>

<span data-key="e2c88aee9a0f430cb28d5a6d2c8157f0"><span data-offset-key="e2c88aee9a0f430cb28d5a6d2c8157f0:0">This code exposes the functionality to both pointer device and keyboard users. Also note the added </span><span data-offset-key="e2c88aee9a0f430cb28d5a6d2c8157f0:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">aria-\*</span></span><span data-offset-key="e2c88aee9a0f430cb28d5a6d2c8157f0:2"> props to support screen-reader users. For simplicity’s sake the keyboard events to enable </span><span data-offset-key="e2c88aee9a0f430cb28d5a6d2c8157f0:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">arrow key</span></span><span data-offset-key="e2c88aee9a0f430cb28d5a6d2c8157f0:4"> interaction of the popover options have not been implemented.</span></span>

<span data-key="94b76488b23348ae9a560d7003655c55"><span data-offset-key="94b76488b23348ae9a560d7003655c55:0">https://reactjs.org/28ce2067489843caf05fe7ce22494542/blur-popover-close.gif</span></span>

<span data-key="9baf635b730d4b42abdd838946b50b90"><span data-offset-key="9baf635b730d4b42abdd838946b50b90:0">This is one example of many cases where depending on only pointer and mouse events will break functionality for keyboard users. Always testing with the keyboard will immediately highlight the problem areas which can then be fixed by using keyboard aware event handlers.</span></span>

<span data-key="b8507d80362043968ace51c6cda52ba3"><span data-offset-key="b8507d80362043968ace51c6cda52ba3:0">More Complex Widgets</span></span>

<span data-key="6855dc6ab7ae4415b15dae7bc30227b8"><span data-offset-key="6855dc6ab7ae4415b15dae7bc30227b8:0">A more complex user experience should not mean a less accessible one. Whereas accessibility is most easily achieved by coding as close to HTML as possible, even the most complex widget can be coded accessibly.</span></span>

<span data-key="42f633dcdb0b46b6a0bd6669d0d19822"><span data-offset-key="42f633dcdb0b46b6a0bd6669d0d19822:0">Here we require knowledge of </span></span><a href="https://www.w3.org/TR/wai-aria/#roles" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="b83b1a874157404ca1889f3d0bd109d6"><span data-offset-key="b83b1a874157404ca1889f3d0bd109d6:0">ARIA Roles</span></span></span></a><span data-key="a40804d71f7b4c04a0ae1a0dce7df205"><span data-offset-key="a40804d71f7b4c04a0ae1a0dce7df205:0"> as well as </span></span><a href="https://www.w3.org/TR/wai-aria/#states_and_properties" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="333955edacd948a0b2b3893d5ae8391f"><span data-offset-key="333955edacd948a0b2b3893d5ae8391f:0">ARIA States and Properties</span></span></span></a><span data-key="181fbf48a26c4dd3a8da4e1f47205df5"><span data-offset-key="181fbf48a26c4dd3a8da4e1f47205df5:0">. These are toolboxes filled with HTML attributes that are fully supported in JSX and enable us to construct fully accessible, highly functional React components.</span></span>

<span data-key="78baafe3424a4ef1a15d3079cc63d6da"><span data-offset-key="78baafe3424a4ef1a15d3079cc63d6da:0">Each type of widget has a specific design pattern and is expected to function in a certain way by users and user agents alike:</span></span>

<span data-key="48171af3d96c400b8d5e55182894240b"><span data-offset-key="48171af3d96c400b8d5e55182894240b:0">Other Points for Consideration</span></span>

<span data-key="f2c411cff91048a08dae05c766702c3c"><span data-offset-key="f2c411cff91048a08dae05c766702c3c:0">Setting the language</span></span>

<span data-key="ceabfcb3a4f140089d53508f183046dc"><span data-offset-key="ceabfcb3a4f140089d53508f183046dc:0">Indicate the human language of page texts as screen reader software uses this to select the correct voice settings:</span></span>

<span data-key="6ea3612ec76b4f43b488d17e9485911d"><span data-offset-key="6ea3612ec76b4f43b488d17e9485911d:0">Setting the document title</span></span>

<span data-key="b3100c930c6d4c4385bc21fe5bc2ae68"><span data-offset-key="b3100c930c6d4c4385bc21fe5bc2ae68:0">Set the document </span><span data-offset-key="b3100c930c6d4c4385bc21fe5bc2ae68:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">&lt;title&gt;</span></span><span data-offset-key="b3100c930c6d4c4385bc21fe5bc2ae68:2"> to correctly describe the current page content as this ensures that the user remains aware of the current page context:</span></span>

<span data-key="5ee1cafd1a884a07bf727c3a6a56329d"><span data-offset-key="5ee1cafd1a884a07bf727c3a6a56329d:0">We can set this in React using the </span></span><a href="https://github.com/gaearon/react-document-title" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="c990b903ca054d38985b7799795e2c60"><span data-offset-key="c990b903ca054d38985b7799795e2c60:0">React Document Title Component</span></span></span></a><span data-key="207a7cb96ff345499cf0b6a9ba4b763d"><span data-offset-key="207a7cb96ff345499cf0b6a9ba4b763d:0">.</span></span>

<span data-key="85e5f5fb458a4fb1a875e05a5a4bee6d"><span data-offset-key="85e5f5fb458a4fb1a875e05a5a4bee6d:0">Color contrast</span></span>

<span data-key="d6c94663b37744498f11acdb26a115c1"><span data-offset-key="d6c94663b37744498f11acdb26a115c1:0">Ensure that all readable text on your website has sufficient color contrast to remain maximally readable by users with low vision:</span></span>

<span data-key="5bbaab779deb405e856287333ee389f8"><span data-offset-key="5bbaab779deb405e856287333ee389f8:0">It can be tedious to manually calculate the proper color combinations for all cases in your website so instead, you can </span></span><a href="https://jxnblk.com/colorable/" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="59307184f54d49c094d3d872d1cbfa98"><span data-offset-key="59307184f54d49c094d3d872d1cbfa98:0">calculate an entire accessible color palette with Colorable</span></span></span></a><span data-key="70e71b39ac244b56a3476bc9948b2795"><span data-offset-key="70e71b39ac244b56a3476bc9948b2795:0">.</span></span>

<span data-key="5f898a46362d4c18ab1f59ebd8535359"><span data-offset-key="5f898a46362d4c18ab1f59ebd8535359:0">Both the aXe and WAVE tools mentioned below also include color contrast tests and will report on contrast errors.</span></span>

<span data-key="f0dd0776a70349b2a808a300e1f51679"><span data-offset-key="f0dd0776a70349b2a808a300e1f51679:0">If you want to extend your contrast testing abilities you can use these tools:</span></span>

<span data-key="1e01d4d6f8684cf0899b9422ad100ad6"><span data-offset-key="1e01d4d6f8684cf0899b9422ad100ad6:0">Development and Testing Tools</span></span>

<span data-key="0042795e79154f3b9d39a34f20c72e10"><span data-offset-key="0042795e79154f3b9d39a34f20c72e10:0">There are a number of tools we can use to assist in the creation of accessible web applications.</span></span>

<span data-key="107d2988bb5b4bc9aad13a58108e15f3"><span data-offset-key="107d2988bb5b4bc9aad13a58108e15f3:0">The keyboard</span></span>

<span data-key="20b1adb1e58a4f889f2922ccba0e33b3"><span data-offset-key="20b1adb1e58a4f889f2922ccba0e33b3:0">By far the easiest and also one of the most important checks is to test if your entire website can be reached and used with the keyboard alone. Do this by:</span></span>

<span data-key="220d30060bd8457aae94f616b15f6ec8"><span data-offset-key="220d30060bd8457aae94f616b15f6ec8:0">Development assistance</span></span>

<span data-key="e1375c16f195405a9c14f2852f0697da"><span data-offset-key="e1375c16f195405a9c14f2852f0697da:0">We can check some accessibility features directly in our JSX code. Often intellisense checks are already provided in JSX aware IDE’s for the ARIA roles, states and properties. We also have access to the following tool:</span></span>

###

<span data-key="5c0561b05ac6428a97a1eacafe6a3b67"><span data-offset-key="5c0561b05ac6428a97a1eacafe6a3b67:0">eslint-plugin-jsx-a11y</span></span>

<span data-key="641d3fde82dc4e2b90d2e2aa18ca82bb"><span data-offset-key="641d3fde82dc4e2b90d2e2aa18ca82bb:0">The </span></span><a href="https://github.com/evcohen/eslint-plugin-jsx-a11y" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="dd73419a2bf64e3a92cd2a9f15312436"><span data-offset-key="dd73419a2bf64e3a92cd2a9f15312436:0">eslint-plugin-jsx-a11y</span></span></span></a><span data-key="389f800f1bc14c5f8ee667ff2e9cf66b"><span data-offset-key="389f800f1bc14c5f8ee667ff2e9cf66b:0"> plugin for ESLint provides AST linting feedback regarding accessibility issues in your JSX. Many IDE’s allow you to integrate these findings directly into code analysis and source code windows.</span></span>

<span data-key="74afbcd52ef849eab4849755750952d6"><span data-offset-key="74afbcd52ef849eab4849755750952d6:0"><span data-slate-zero-width="z">​</span></span></span><a href="https://github.com/facebookincubator/create-react-app" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="57648a5424e94e86a146f660899e847b"><span data-offset-key="57648a5424e94e86a146f660899e847b:0">Create React App</span></span></span></a><span data-key="f0cc45b15f6641e1bb33a3c8717a5e10"><span data-offset-key="f0cc45b15f6641e1bb33a3c8717a5e10:0"> has this plugin with a subset of rules activated. If you want to enable even more accessibility rules, you can create an </span><span data-offset-key="f0cc45b15f6641e1bb33a3c8717a5e10:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">.eslintrc</span></span><span data-offset-key="f0cc45b15f6641e1bb33a3c8717a5e10:2"> file in the root of your project with this content:</span></span>

1

<span data-key="a515f2abcc5c4c278122149f12ef2e3a"><span data-offset-key="a515f2abcc5c4c278122149f12ef2e3a:0">{</span></span>

2

<span data-key="fd32463e9dbb48ae91309652bdd56571"><span data-offset-key="fd32463e9dbb48ae91309652bdd56571:0"> "extends": \["react-app", "plugin:jsx-a11y/recommended"\],</span></span>

3

<span data-key="ea83ee786f254ef7acb020685f132fd1"><span data-offset-key="ea83ee786f254ef7acb020685f132fd1:0"> "plugins": \["jsx-a11y"\]</span></span>

4

<span data-key="f1d82b26a2c64592a9f36600da10fd5f"><span data-offset-key="f1d82b26a2c64592a9f36600da10fd5f:0">}</span></span>

Copied!

<span data-key="be0fa9bc666e43e38aa7d1409da7b600"><span data-offset-key="be0fa9bc666e43e38aa7d1409da7b600:0">Testing accessibility in the browser</span></span>

<span data-key="9d982f80539b4872bb9712183ff6b088"><span data-offset-key="9d982f80539b4872bb9712183ff6b088:0">A number of tools exist that can run accessibility audits on web pages in your browser. Please use them in combination with other accessibility checks mentioned here as they can only test the technical accessibility of your HTML.</span></span>

###

<span data-key="f08893086b9c47f79d31dffd6fb1edd7"><span data-offset-key="f08893086b9c47f79d31dffd6fb1edd7:0">aXe, aXe-core and react-axe</span></span>

<span data-key="cbaaac13dc1245c29ff5137cafdd9085"><span data-offset-key="cbaaac13dc1245c29ff5137cafdd9085:0">Deque Systems offers </span></span><a href="https://github.com/dequelabs/axe-core" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="428aefb3d22e474cb070c25dd1ae279f"><span data-offset-key="428aefb3d22e474cb070c25dd1ae279f:0">aXe-core</span></span></span></a><span data-key="f16f45c07a294b2aa04571efdfdbb457"><span data-offset-key="f16f45c07a294b2aa04571efdfdbb457:0"> for automated and end-to-end accessibility tests of your applications. This module includes integrations for Selenium.</span></span>

<span data-key="d28a8ad9b5114b3bb981b2e70726dd6b"><span data-offset-key="d28a8ad9b5114b3bb981b2e70726dd6b:0"><span data-slate-zero-width="z">​</span></span></span><a href="https://www.deque.com/products/axe/" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="b8292d1c0a7a4e469d4c6945eb32cf0b"><span data-offset-key="b8292d1c0a7a4e469d4c6945eb32cf0b:0">The Accessibility Engine</span></span></span></a><span data-key="6de8e29ce8114dbca338bd001e0e3658"><span data-offset-key="6de8e29ce8114dbca338bd001e0e3658:0"> or aXe, is an accessibility inspector browser extension built on </span><span data-offset-key="6de8e29ce8114dbca338bd001e0e3658:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">aXe-core</span></span><span data-offset-key="6de8e29ce8114dbca338bd001e0e3658:2">.</span></span>

<span data-key="98c540369d754f45854a1c2a20fa50e0"><span data-offset-key="98c540369d754f45854a1c2a20fa50e0:0">You can also use the </span></span><a href="https://github.com/dylanb/react-axe" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="19e55eb3c1c94b0e86ae820a84da2028"><span data-offset-key="19e55eb3c1c94b0e86ae820a84da2028:0">react-axe</span></span></span></a><span data-key="ea4363497e324c3d85bb4e0cb403ef46"><span data-offset-key="ea4363497e324c3d85bb4e0cb403ef46:0"> module to report these accessibility findings directly to the console while developing and debugging.</span></span>

###

<span data-key="b987f45e668a4d8484153bcc315f7a29"><span data-offset-key="b987f45e668a4d8484153bcc315f7a29:0">WebAIM WAVE</span></span>

<span data-key="e47714e92ffc40528e3b9e6dbe41ccb0"><span data-offset-key="e47714e92ffc40528e3b9e6dbe41ccb0:0">The </span></span><a href="https://wave.webaim.org/extension/" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="89ac6411c2bb4e26ad3286a4c3b37512"><span data-offset-key="89ac6411c2bb4e26ad3286a4c3b37512:0">Web Accessibility Evaluation Tool</span></span></span></a><span data-key="2125d29b849c4ce6b83ee2b0d5d677b0"><span data-offset-key="2125d29b849c4ce6b83ee2b0d5d677b0:0"> is another accessibility browser extension.</span></span>

###

<span data-key="a5950a57c6b4413b974b04259694914b"><span data-offset-key="a5950a57c6b4413b974b04259694914b:0">Accessibility inspectors and the Accessibility Tree</span></span>

<span data-key="b4ef180e8e1a4553ae63e80b918305fc"><span data-offset-key="b4ef180e8e1a4553ae63e80b918305fc:0"><span data-slate-zero-width="z">​</span></span></span><a href="https://www.paciellogroup.com/blog/2015/01/the-browser-accessibility-tree/" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="eb44237d0eb54e2894583f1797007f73"><span data-offset-key="eb44237d0eb54e2894583f1797007f73:0">The Accessibility Tree</span></span></span></a><span data-key="98e908621bd6403f83643664513eb729"><span data-offset-key="98e908621bd6403f83643664513eb729:0"> is a subset of the DOM tree that contains accessible objects for every DOM element that should be exposed to assistive technology, such as screen readers.</span></span>

<span data-key="05b7fdbd2c1541379f94eec85d33e9c5"><span data-offset-key="05b7fdbd2c1541379f94eec85d33e9c5:0">In some browsers we can easily view the accessibility information for each element in the accessibility tree:</span></span>

<span data-key="ba4f374253144b7286c543e1a668ddb3"><span data-offset-key="ba4f374253144b7286c543e1a668ddb3:0">Screen readers</span></span>

<span data-key="ab808a78dcf048329a4420cf37c7d198"><span data-offset-key="ab808a78dcf048329a4420cf37c7d198:0">Testing with a screen reader should form part of your accessibility tests.</span></span>

<span data-key="86eb91b75e924db08464fa65cbd5f8d3"><span data-offset-key="86eb91b75e924db08464fa65cbd5f8d3:0">Please note that browser / screen reader combinations matter. It is recommended that you test your application in the browser best suited to your screen reader of choice.</span></span>

<span data-key="6fe3fc3af9eb44d1a51390e907719a37"><span data-offset-key="6fe3fc3af9eb44d1a51390e907719a37:0">Commonly Used Screen Readers</span></span>

###

<span data-key="2f1d8314729f4c2ca722fe33445a48d3"><span data-offset-key="2f1d8314729f4c2ca722fe33445a48d3:0">NVDA in Firefox</span></span>

<span data-key="43b95f1b2d3f45afb33271ec214a0b6d"><span data-offset-key="43b95f1b2d3f45afb33271ec214a0b6d:0"><span data-slate-zero-width="z">​</span></span></span><a href="https://www.nvaccess.org" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="3671d1cd47324ff7bff6e41e6f62febd"><span data-offset-key="3671d1cd47324ff7bff6e41e6f62febd:0">NonVisual Desktop Access</span></span></span></a><span data-key="48ae6f28bac94c319df75927b958323c"><span data-offset-key="48ae6f28bac94c319df75927b958323c:0"> or NVDA is an open source Windows screen reader that is widely used.</span></span>

<span data-key="916ba4d745734842bff8c20db2362910"><span data-offset-key="916ba4d745734842bff8c20db2362910:0">Refer to the following guides on how to best use NVDA:</span></span>

###

<span data-key="50489f478576451db1426f7ffb623360"><span data-offset-key="50489f478576451db1426f7ffb623360:0">VoiceOver in Safari</span></span>

<span data-key="33df54c390c947e793c637cff3ed17c8"><span data-offset-key="33df54c390c947e793c637cff3ed17c8:0">VoiceOver is an integrated screen reader on Apple devices.</span></span>

<span data-key="0f01539ce0b1429ca5106d6cbfb5292e"><span data-offset-key="0f01539ce0b1429ca5106d6cbfb5292e:0">Refer to the following guides on how to activate and use VoiceOver:</span></span>

###

<span data-key="230095b6275741df9f64503933172d5c"><span data-offset-key="230095b6275741df9f64503933172d5c:0">JAWS in Internet Explorer</span></span>

<span data-key="0dd040fe6ae24cdbaa403081513aff45"><span data-offset-key="0dd040fe6ae24cdbaa403081513aff45:0"><span data-slate-zero-width="z">​</span></span></span><a href="https://www.freedomscientific.com/Products/software/JAWS/" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="14f58810fe8e4fb1b17f0772d1f7f97d"><span data-offset-key="14f58810fe8e4fb1b17f0772d1f7f97d:0">Job Access With Speech</span></span></span></a><span data-key="5a840c84bee24b71826914adda4c0230"><span data-offset-key="5a840c84bee24b71826914adda4c0230:0"> or JAWS, is a prolifically used screen reader on Windows.</span></span>

<span data-key="5d1a67aac9c54c0c808516b61c962ecb"><span data-offset-key="5d1a67aac9c54c0c808516b61c962ecb:0">Refer to the following guides on how to best use JAWS:</span></span>

<span data-key="7f3c992977cf41c9ab5a82b1f9090b53"><span data-offset-key="7f3c992977cf41c9ab5a82b1f9090b53:0">Other Screen Readers</span></span>

###

<span data-key="febf81db6685483d80a94a145f69728e"><span data-offset-key="febf81db6685483d80a94a145f69728e:0">ChromeVox in Google Chrome</span></span>

<span data-key="14e26983d1e7440c966b29e2513cd32e"><span data-offset-key="14e26983d1e7440c966b29e2513cd32e:0"><span data-slate-zero-width="z">​</span></span></span><a href="https://www.chromevox.com" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="aba2a4d73c6e43f6ac81a1aa909699c8"><span data-offset-key="aba2a4d73c6e43f6ac81a1aa909699c8:0">ChromeVox</span></span></span></a><span data-key="a1b75e2a6bee42bdb52088107f7df60a"><span data-offset-key="a1b75e2a6bee42bdb52088107f7df60a:0"> is an integrated screen reader on Chromebooks and is available </span></span><a href="https://chrome.google.com/webstore/detail/chromevox/kgejglhpjiefppelpmljglcjbhoiplfn?hl=en" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="a57a07a78a8a4ee3bc36a8f25c3e17f8"><span data-offset-key="a57a07a78a8a4ee3bc36a8f25c3e17f8:0">as an extension</span></span></span></a><span data-key="c9dc7ac1b1d04b1ea6f730b2f0792a4b"><span data-offset-key="c9dc7ac1b1d04b1ea6f730b2f0792a4b:0"> for Google Chrome.</span></span>

<span data-key="9d43c4818f474d5aad63958ae072dbca"><span data-offset-key="9d43c4818f474d5aad63958ae072dbca:0">Refer to the following guides on how best to use ChromeVox:</span></span>

<span data-key="8abfbbaee0ba46fab4134c6561a50c4d"><span data-offset-key="8abfbbaee0ba46fab4134c6561a50c4d:0"><span class="css-901oao css-16my406 r-b88u0q">Code-Splitting</span></span></span>

<span data-key="a90da58ae0d44ac0a5216c3db526993a"><span data-offset-key="a90da58ae0d44ac0a5216c3db526993a:0">Bundling</span></span>

<span data-key="aaf7970a94274cbdb9cad6b188c93832"><span data-offset-key="aaf7970a94274cbdb9cad6b188c93832:0">Most React apps will have their files “bundled” using tools like </span></span><a href="https://webpack.js.org" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="5745cc2651e344a3a5c220e317e42617"><span data-offset-key="5745cc2651e344a3a5c220e317e42617:0">Webpack</span></span></span></a><span data-key="97766b164d904d93b2b5aad6eea65820"><span data-offset-key="97766b164d904d93b2b5aad6eea65820:0">, </span></span><a href="https://rollupjs.org" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="6739cf9da7e740468cf052a971d2f916"><span data-offset-key="6739cf9da7e740468cf052a971d2f916:0">Rollup</span></span></span></a><span data-key="6b7d5c424c084476a99a37523cafa30c"><span data-offset-key="6b7d5c424c084476a99a37523cafa30c:0"> or </span></span><a href="http://browserify.org" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="c6aff726e65a46eebf915d13c4b56257"><span data-offset-key="c6aff726e65a46eebf915d13c4b56257:0">Browserify</span></span></span></a><span data-key="baae491b223d4ba58ae40c4d0a03f0f0"><span data-offset-key="baae491b223d4ba58ae40c4d0a03f0f0:0">. Bundling is the process of following imported files and merging them into a single file: a “bundle”. This bundle can then be included on a webpage to load an entire app at once.</span></span>

###

<span data-key="4994b6237c7b4823b9317b2e98fc0e05"><span data-offset-key="4994b6237c7b4823b9317b2e98fc0e05:0">Example</span></span>

<span data-key="571123ea0e964f418086701f2170e689"><span data-offset-key="571123ea0e964f418086701f2170e689:0"><span class="css-901oao css-16my406 r-b88u0q">App:</span></span></span>

1

<span data-key="5eca2c937ead4797b6150690a6013f5b"><span data-offset-key="5eca2c937ead4797b6150690a6013f5b:0">// app.js</span></span>

2

<span data-key="07bf2ad3d33a47ffac62e45d25b213de"><span data-offset-key="07bf2ad3d33a47ffac62e45d25b213de:0">import { add } from './math.js';</span></span>

3

<span data-key="41a35846ca3642e9b0650086734cf58a"><span data-offset-key="41a35846ca3642e9b0650086734cf58a:0"><span data-slate-zero-width="n">​</span></span></span>

4

<span data-key="84f6badf17f04b198af778e3ee43e35d"><span data-offset-key="84f6badf17f04b198af778e3ee43e35d:0">console.log(add(16, 26)); // 42</span></span>

Copied!

1

<span data-key="78ff59ee9c114bbe89054e92d2476a7d"><span data-offset-key="78ff59ee9c114bbe89054e92d2476a7d:0">// math.js</span></span>

2

<span data-key="b32ba95090204e00b137c519fa112daf"><span data-offset-key="b32ba95090204e00b137c519fa112daf:0">export function add(a, b) {</span></span>

3

<span data-key="1948e18a03ad4a32a77d7f40bd4f7b7d"><span data-offset-key="1948e18a03ad4a32a77d7f40bd4f7b7d:0"> return a + b;</span></span>

4

<span data-key="4667ea3f18c243bbb0da152122b72241"><span data-offset-key="4667ea3f18c243bbb0da152122b72241:0">}</span></span>

Copied!

<span data-key="4d8f11be6c83490a9d54ea2f6f4d6dab"><span data-offset-key="4d8f11be6c83490a9d54ea2f6f4d6dab:0"><span class="css-901oao css-16my406 r-b88u0q">Bundle:</span></span></span>

1

<span data-key="5dbe93c50bc240c59b62079b6b480fdc"><span data-offset-key="5dbe93c50bc240c59b62079b6b480fdc:0">function add(a, b) {</span></span>

2

<span data-key="61ce9665ddd04aee9d54770e55929561"><span data-offset-key="61ce9665ddd04aee9d54770e55929561:0"> return a + b;</span></span>

3

<span data-key="5b7fc89871e74e36b5e0ea360876a2ba"><span data-offset-key="5b7fc89871e74e36b5e0ea360876a2ba:0">}</span></span>

4

<span data-key="f9f0d7b0fc2e4a0eae087923957302a1"><span data-offset-key="f9f0d7b0fc2e4a0eae087923957302a1:0"><span data-slate-zero-width="n">​</span></span></span>

5

<span data-key="b34d3923e4034d02b20ff0728412df32"><span data-offset-key="b34d3923e4034d02b20ff0728412df32:0">console.log(add(16, 26)); // 42</span></span>

Copied!

<span data-key="71c85ea518314acdb704d10f4746de03"><span data-offset-key="71c85ea518314acdb704d10f4746de03:0">Note:Your bundles will end up looking a lot different than this.</span></span>

<span data-key="c7dc42b20a534af2842ad2e5a400b00f"><span data-offset-key="c7dc42b20a534af2842ad2e5a400b00f:0">If you’re using </span></span><a href="https://create-react-app.dev" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="edeafecb43c44d068722d685c4aee36f"><span data-offset-key="edeafecb43c44d068722d685c4aee36f:0">Create React App</span></span></span></a><span data-key="f3cd3a6d4be0434ba51294bf2369a59e"><span data-offset-key="f3cd3a6d4be0434ba51294bf2369a59e:0">, </span></span><a href="https://nextjs.org" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="f877d84b7de64944b7fb4176ef949fc0"><span data-offset-key="f877d84b7de64944b7fb4176ef949fc0:0">Next.js</span></span></span></a><span data-key="abf5a6ed89234fec9501977d0e62385c"><span data-offset-key="abf5a6ed89234fec9501977d0e62385c:0">, </span></span><a href="https://www.gatsbyjs.org" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="169af5f87fec473988548af1eec68190"><span data-offset-key="169af5f87fec473988548af1eec68190:0">Gatsby</span></span></span></a><span data-key="e20b2d40d8c44f29a8e8cb6255c4a240"><span data-offset-key="e20b2d40d8c44f29a8e8cb6255c4a240:0">, or a similar tool, you will have a Webpack setup out of the box to bundle your app.</span></span>

<span data-key="86c8b58eab1540deb3590de044648254"><span data-offset-key="86c8b58eab1540deb3590de044648254:0">If you aren’t, you’ll need to set up bundling yourself. For example, see the </span></span><a href="https://webpack.js.org/guides/installation/" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="68e85809f32341e484f9f08f16617d2d"><span data-offset-key="68e85809f32341e484f9f08f16617d2d:0">Installation</span></span></span></a><span data-key="cd38dd6a673b49ce87e1e2166586896b"><span data-offset-key="cd38dd6a673b49ce87e1e2166586896b:0"> and </span></span><a href="https://webpack.js.org/guides/getting-started/" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="7fa2d8796d914c0895cee961241dda5e"><span data-offset-key="7fa2d8796d914c0895cee961241dda5e:0">Getting Started</span></span></span></a><span data-key="585ce3ed12944dc08a6c77a42d3c0a18"><span data-offset-key="585ce3ed12944dc08a6c77a42d3c0a18:0"> guides on the Webpack docs.</span></span>

<span data-key="0b95a49767dc4251ab3dd9de24044ea3"><span data-offset-key="0b95a49767dc4251ab3dd9de24044ea3:0">Code Splitting</span></span>

<span data-key="973f39c2c53345ef9c84799f3d74478c"><span data-offset-key="973f39c2c53345ef9c84799f3d74478c:0">Bundling is great, but as your app grows, your bundle will grow too. Especially if you are including large third-party libraries. You need to keep an eye on the code you are including in your bundle so that you don’t accidentally make it so large that your app takes a long time to load.</span></span>

<span data-key="4f557a07b6e8441a88aedf7cc25b0350"><span data-offset-key="4f557a07b6e8441a88aedf7cc25b0350:0">To avoid winding up with a large bundle, it’s good to get ahead of the problem and start “splitting” your bundle. Code-Splitting is a feature supported by bundlers like </span></span><a href="https://webpack.js.org/guides/code-splitting/" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="1ba7a2d4da094ad7ae1380efb1f1312f"><span data-offset-key="1ba7a2d4da094ad7ae1380efb1f1312f:0">Webpack</span></span></span></a><span data-key="5dbe15a54ee249eb83dedc081ea61d5b"><span data-offset-key="5dbe15a54ee249eb83dedc081ea61d5b:0">, </span></span><a href="https://rollupjs.org/guide/en/#code-splitting" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="3266c4e31bd74301932324a21b689a74"><span data-offset-key="3266c4e31bd74301932324a21b689a74:0">Rollup</span></span></span></a><span data-key="d0d1ef60389740e8a7140b4593a11096"><span data-offset-key="d0d1ef60389740e8a7140b4593a11096:0"> and Browserify (via </span></span><a href="https://github.com/browserify/factor-bundle" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="b5faf9f7694542b98442174a399e03e1"><span data-offset-key="b5faf9f7694542b98442174a399e03e1:0">factor-bundle</span></span></span></a><span data-key="d92c2d846c7a4b9a9ae1c8ddf4b71d6c"><span data-offset-key="d92c2d846c7a4b9a9ae1c8ddf4b71d6c:0">) which can create multiple bundles that can be dynamically loaded at runtime.</span></span>

<span data-key="da71a367c2d149dfbe417d7197af7a44"><span data-offset-key="da71a367c2d149dfbe417d7197af7a44:0">Code-splitting your app can help you “lazy-load” just the things that are currently needed by the user, which can dramatically improve the performance of your app. While you haven’t reduced the overall amount of code in your app, you’ve avoided loading code that the user may never need, and reduced the amount of code needed during the initial load.</span></span>

<span data-key="a4da5b7f8f1145398b226a7e2268b4f1"><span data-offset-key="a4da5b7f8f1145398b226a7e2268b4f1:0"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">import()</span></span></span>

<span data-key="760260f22c4744558d893baffb790399"><span data-offset-key="760260f22c4744558d893baffb790399:0">The best way to introduce code-splitting into your app is through the dynamic </span><span data-offset-key="760260f22c4744558d893baffb790399:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">import()</span></span><span data-offset-key="760260f22c4744558d893baffb790399:2"> syntax.</span></span>

<span data-key="95f4f4234d1842e2924522f011f9daa2"><span data-offset-key="95f4f4234d1842e2924522f011f9daa2:0"><span class="css-901oao css-16my406 r-b88u0q">Before:</span></span></span>

1

<span data-key="3293f9b912884c4db948d7001a8d5e9c"><span data-offset-key="3293f9b912884c4db948d7001a8d5e9c:0">import { add } from './math';</span></span>

2

<span data-key="2987c103bbea43efb6e1b8e18b65f245"><span data-offset-key="2987c103bbea43efb6e1b8e18b65f245:0"><span data-slate-zero-width="n">​</span></span></span>

3

<span data-key="130fcb5d0f2440258260f974dd27bd9e"><span data-offset-key="130fcb5d0f2440258260f974dd27bd9e:0">console.log(add(16, 26));</span></span>

Copied!

<span data-key="e61fa6eb334445509d04943d3849960b"><span data-offset-key="e61fa6eb334445509d04943d3849960b:0"><span class="css-901oao css-16my406 r-b88u0q">After:</span></span></span>

1

<span data-key="e943854767fa431787a0eea596d84c6b"><span data-offset-key="e943854767fa431787a0eea596d84c6b:0">import("./math").then(math =&gt; {</span></span>

2

<span data-key="882bbae8dda0475a9e10af3940435127"><span data-offset-key="882bbae8dda0475a9e10af3940435127:0"> console.log(math.add(16, 26));</span></span>

3

<span data-key="f0bd8ffbf9524c5fa5ec35407267a0d6"><span data-offset-key="f0bd8ffbf9524c5fa5ec35407267a0d6:0">});</span></span>

Copied!

<span data-key="bd29121ff94c4b48a2ccfb4c2a35b9b7"><span data-offset-key="bd29121ff94c4b48a2ccfb4c2a35b9b7:0">When Webpack comes across this syntax, it automatically starts code-splitting your app. If you’re using Create React App, this is already configured for you and you can </span></span><a href="https://create-react-app.dev/docs/code-splitting/" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="d7a8c191643c4234b917911f0c80d041"><span data-offset-key="d7a8c191643c4234b917911f0c80d041:0">start using it</span></span></span></a><span data-key="662a988a7ec643c3acf15e02c2e97cf0"><span data-offset-key="662a988a7ec643c3acf15e02c2e97cf0:0"> immediately. It’s also supported out of the box in </span></span><a href="https://nextjs.org/docs/advanced-features/dynamic-import" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="730f735626cc4a6aa2854fb03f293303"><span data-offset-key="730f735626cc4a6aa2854fb03f293303:0">Next.js</span></span></span></a><span data-key="b9c8ab1be1684017862e2bb39c3a682d"><span data-offset-key="b9c8ab1be1684017862e2bb39c3a682d:0">.</span></span>

<span data-key="b39d4894949748af9fe71c5f72d42a65"><span data-offset-key="b39d4894949748af9fe71c5f72d42a65:0">If you’re setting up Webpack yourself, you’ll probably want to read Webpack’s </span></span><a href="https://webpack.js.org/guides/code-splitting/" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="267ca998b3d34137820ae981cb74c353"><span data-offset-key="267ca998b3d34137820ae981cb74c353:0">guide on code splitting</span></span></span></a><span data-key="d736bf7d3805477f9249629c1660d1e0"><span data-offset-key="d736bf7d3805477f9249629c1660d1e0:0">. Your Webpack config should look vaguely </span></span><a href="https://www.notion.so/ca6e803f5c604d37468b0091d9959269" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="9ab46a31ce8447069c5ed3f6f2521783"><span data-offset-key="9ab46a31ce8447069c5ed3f6f2521783:0">like this</span></span></span></a><span data-key="aa03c80bd09e492aa947cc7638fc971c"><span data-offset-key="aa03c80bd09e492aa947cc7638fc971c:0">.</span></span>

<span data-key="6b4585fc4869421c88266ad0fc3231c2"><span data-offset-key="6b4585fc4869421c88266ad0fc3231c2:0">When using </span></span><a href="https://babeljs.io" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="35d0536464054c80813d6cc6428e1a30"><span data-offset-key="35d0536464054c80813d6cc6428e1a30:0">Babel</span></span></span></a><span data-key="6174a081fa9a48bd85e60187d3079f84"><span data-offset-key="6174a081fa9a48bd85e60187d3079f84:0">, you’ll need to make sure that Babel can parse the dynamic import syntax but is not transforming it. For that you will need </span></span><a href="https://classic.yarnpkg.com/en/package/@babel/plugin-syntax-dynamic-import" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="ab9def4fc7fe426da87787dcbfa93718"><span data-offset-key="ab9def4fc7fe426da87787dcbfa93718:0">@babel/plugin-syntax-dynamic-import</span></span></span></a><span data-key="848c5316b5a34d92afac64884f3bf536"><span data-offset-key="848c5316b5a34d92afac64884f3bf536:0">.</span></span>

<span data-key="3a9180d6cbe946b499f88ca51f61aee4"><span data-offset-key="3a9180d6cbe946b499f88ca51f61aee4:0"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">React.lazy</span></span></span>

<span data-key="61d7e945b570429798fa461d596edc31"><span data-offset-key="61d7e945b570429798fa461d596edc31:0">Note:React.lazy and Suspense are not yet available for server-side rendering. If you want to do code-splitting in a server rendered app, we recommend Loadable Components. It has a nice guide for bundle splitting with server-side rendering.</span></span>

<span data-key="2bc85b1dd4f64e36bdd603345663c278"><span data-offset-key="2bc85b1dd4f64e36bdd603345663c278:0">The </span><span data-offset-key="2bc85b1dd4f64e36bdd603345663c278:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">React.lazy</span></span><span data-offset-key="2bc85b1dd4f64e36bdd603345663c278:2"> function lets you render a dynamic import as a regular component.</span></span>

<span data-key="e3393275805d4e7ba8868b83f76d2b76"><span data-offset-key="e3393275805d4e7ba8868b83f76d2b76:0"><span class="css-901oao css-16my406 r-b88u0q">Before:</span></span></span>

1

<span data-key="29d7913a9ffe49558ce6300def41b007"><span data-offset-key="29d7913a9ffe49558ce6300def41b007:0">import OtherComponent from './OtherComponent';</span></span>

Copied!

<span data-key="84ae48eae2044b099a03b775b7dca754"><span data-offset-key="84ae48eae2044b099a03b775b7dca754:0"><span class="css-901oao css-16my406 r-b88u0q">After:</span></span></span>

1

<span data-key="a6cf31a5b50d4236b431ad679d1801de"><span data-offset-key="a6cf31a5b50d4236b431ad679d1801de:0">const OtherComponent = React.lazy(() =&gt; import('./OtherComponent'));</span></span>

Copied!

<span data-key="19ef023559044bbc9c0933a2e26ef279"><span data-offset-key="19ef023559044bbc9c0933a2e26ef279:0">This will automatically load the bundle containing the </span><span data-offset-key="19ef023559044bbc9c0933a2e26ef279:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">OtherComponent</span></span><span data-offset-key="19ef023559044bbc9c0933a2e26ef279:2"> when this component is first rendered.</span></span>

<span data-key="f90f446dac9947f09e0f02876e77134a"><span data-offset-key="f90f446dac9947f09e0f02876e77134a:0"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">React.lazy</span></span><span data-offset-key="f90f446dac9947f09e0f02876e77134a:1"> takes a function that must call a dynamic </span><span data-offset-key="f90f446dac9947f09e0f02876e77134a:2"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">import()</span></span><span data-offset-key="f90f446dac9947f09e0f02876e77134a:3">. This must return a </span><span data-offset-key="f90f446dac9947f09e0f02876e77134a:4"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">Promise</span></span><span data-offset-key="f90f446dac9947f09e0f02876e77134a:5"> which resolves to a module with a </span><span data-offset-key="f90f446dac9947f09e0f02876e77134a:6"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">default</span></span><span data-offset-key="f90f446dac9947f09e0f02876e77134a:7"> export containing a React component.</span></span>

<span data-key="418e1a4fa3fa4394a7d0997fdbca7bd9"><span data-offset-key="418e1a4fa3fa4394a7d0997fdbca7bd9:0">The lazy component should then be rendered inside a </span><span data-offset-key="418e1a4fa3fa4394a7d0997fdbca7bd9:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">Suspense</span></span><span data-offset-key="418e1a4fa3fa4394a7d0997fdbca7bd9:2"> component, which allows us to show some fallback content (such as a loading indicator) while we’re waiting for the lazy component to load.</span></span>

1

<span data-key="0c86a6b8e80c4dc7b6ae742bf70c836b"><span data-offset-key="0c86a6b8e80c4dc7b6ae742bf70c836b:0">import React, { Suspense } from 'react';</span></span>

2

<span data-key="6ef97b37757d4761811ddafcb28bab7f"><span data-offset-key="6ef97b37757d4761811ddafcb28bab7f:0"><span data-slate-zero-width="n">​</span></span></span>

3

<span data-key="727c693e3e404525bd8b64853432bc3f"><span data-offset-key="727c693e3e404525bd8b64853432bc3f:0">const OtherComponent = React.lazy(() =&gt; import('./OtherComponent'));</span></span>

4

<span data-key="0c7f74cd65f84eeab4876674f98fd6f2"><span data-offset-key="0c7f74cd65f84eeab4876674f98fd6f2:0"><span data-slate-zero-width="n">​</span></span></span>

5

<span data-key="b8f68eeca75b4229a929979ab55855d3"><span data-offset-key="b8f68eeca75b4229a929979ab55855d3:0">function MyComponent() {</span></span>

6

<span data-key="3c9860ce532e437db694ae29972ed454"><span data-offset-key="3c9860ce532e437db694ae29972ed454:0"> return (</span></span>

7

<span data-key="210061e826304a669f27db4040d67bf7"><span data-offset-key="210061e826304a669f27db4040d67bf7:0"> &lt;div&gt;</span></span>

8

<span data-key="3a1c13aa199d4b5aaa7dc973f7302aa6"><span data-offset-key="3a1c13aa199d4b5aaa7dc973f7302aa6:0"> &lt;Suspense fallback={&lt;div&gt;Loading...&lt;/div&gt;}&gt;</span></span>

9

<span data-key="6e015ac734e0421a9ece4a4fddab0da0"><span data-offset-key="6e015ac734e0421a9ece4a4fddab0da0:0"> &lt;OtherComponent /&gt;</span></span>

10

<span data-key="861351ea75984d6cb98eeed7cb1b8a4c"><span data-offset-key="861351ea75984d6cb98eeed7cb1b8a4c:0"> &lt;/Suspense&gt;</span></span>

11

<span data-key="9f96debb399d4ece8d77a45aca12b589"><span data-offset-key="9f96debb399d4ece8d77a45aca12b589:0"> &lt;/div&gt;);</span></span>

12

<span data-key="1582a14655344368a877e986b2c5c682"><span data-offset-key="1582a14655344368a877e986b2c5c682:0">}</span></span>

Copied!

<span data-key="e32370c257f94f0685f56993bbc3752f"><span data-offset-key="e32370c257f94f0685f56993bbc3752f:0">The </span><span data-offset-key="e32370c257f94f0685f56993bbc3752f:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">fallback</span></span><span data-offset-key="e32370c257f94f0685f56993bbc3752f:2"> prop accepts any React elements that you want to render while waiting for the component to load. You can place the </span><span data-offset-key="e32370c257f94f0685f56993bbc3752f:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">Suspense</span></span><span data-offset-key="e32370c257f94f0685f56993bbc3752f:4"> component anywhere above the lazy component. You can even wrap multiple lazy components with a single </span><span data-offset-key="e32370c257f94f0685f56993bbc3752f:5"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">Suspense</span></span><span data-offset-key="e32370c257f94f0685f56993bbc3752f:6"> component.</span></span>

1

<span data-key="7fb8e1b804ab4585837f5f3bee40e810"><span data-offset-key="7fb8e1b804ab4585837f5f3bee40e810:0">import React, { Suspense } from 'react';</span></span>

2

<span data-key="92ba797c8ac947c393033c0a6be3f418"><span data-offset-key="92ba797c8ac947c393033c0a6be3f418:0"><span data-slate-zero-width="n">​</span></span></span>

3

<span data-key="aac0d8dccae344c0a2e319a3fe3e33c2"><span data-offset-key="aac0d8dccae344c0a2e319a3fe3e33c2:0">const OtherComponent = React.lazy(() =&gt; import('./OtherComponent'));</span></span>

4

<span data-key="c477c3cce210412ca3bf69b138755699"><span data-offset-key="c477c3cce210412ca3bf69b138755699:0">const AnotherComponent = React.lazy(() =&gt; import('./AnotherComponent'));</span></span>

5

<span data-key="90a15f040dc3495d87930db5078c7316"><span data-offset-key="90a15f040dc3495d87930db5078c7316:0"><span data-slate-zero-width="n">​</span></span></span>

6

<span data-key="71ad0c13ca7140099df020021caa08f7"><span data-offset-key="71ad0c13ca7140099df020021caa08f7:0">function MyComponent() {</span></span>

7

<span data-key="c3c956e96588474d8f3ef29d95342274"><span data-offset-key="c3c956e96588474d8f3ef29d95342274:0"> return (</span></span>

8

<span data-key="56392734e38a4d33ab3059a3df116e29"><span data-offset-key="56392734e38a4d33ab3059a3df116e29:0"> &lt;div&gt;</span></span>

9

<span data-key="c9471f9122254091998b5463238d4e03"><span data-offset-key="c9471f9122254091998b5463238d4e03:0"> &lt;Suspense fallback={&lt;div&gt;Loading...&lt;/div&gt;}&gt;</span></span>

10

<span data-key="57c282551f9c4049ba4f6da3ed833224"><span data-offset-key="57c282551f9c4049ba4f6da3ed833224:0"> &lt;section&gt;</span></span>

11

<span data-key="dbebac5f65a74bdd938b39c283ef8901"><span data-offset-key="dbebac5f65a74bdd938b39c283ef8901:0"> &lt;OtherComponent /&gt;</span></span>

12

<span data-key="9151829e1ff44491b4551fe9bc31f4ed"><span data-offset-key="9151829e1ff44491b4551fe9bc31f4ed:0"> &lt;AnotherComponent /&gt;</span></span>

13

<span data-key="31ff9db6629447eca4ba6ce240f3d488"><span data-offset-key="31ff9db6629447eca4ba6ce240f3d488:0"> &lt;/section&gt;</span></span>

14

<span data-key="c5acd1e7aa9a4a87a4879a7f32fadf60"><span data-offset-key="c5acd1e7aa9a4a87a4879a7f32fadf60:0"> &lt;/Suspense&gt;</span></span>

15

<span data-key="ed6b7e7c7a7f44c7b1905c66e15f23cc"><span data-offset-key="ed6b7e7c7a7f44c7b1905c66e15f23cc:0"> &lt;/div&gt;);</span></span>

16

<span data-key="735880f728854553848d8ca9886fd217"><span data-offset-key="735880f728854553848d8ca9886fd217:0">}</span></span>

Copied!

<span data-key="1c77546997464bfbb4d1c928e437eabc"><span data-offset-key="1c77546997464bfbb4d1c928e437eabc:0">Error boundaries</span></span>

<span data-key="0277bf69071f4889884b886942dfaf54"><span data-offset-key="0277bf69071f4889884b886942dfaf54:0">If the other module fails to load (for example, due to network failure), it will trigger an error. You can handle these errors to show a nice user experience and manage recovery with </span></span><a href="https://reactjs.org/docs/error-boundaries.html" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="62b21ce32e2c46a3992a73f53d3b6827"><span data-offset-key="62b21ce32e2c46a3992a73f53d3b6827:0">Error Boundaries</span></span></span></a><span data-key="cc4ed83fb47f4c369eb4155eb6144c18"><span data-offset-key="cc4ed83fb47f4c369eb4155eb6144c18:0">. Once you’ve created your Error Boundary, you can use it anywhere above your lazy components to display an error state when there’s a network error.</span></span>

1

<span data-key="6463f84b60d44ea58bda252ffbc1e688"><span data-offset-key="6463f84b60d44ea58bda252ffbc1e688:0">import React, { Suspense } from 'react';</span></span>

2

<span data-key="36d803aaf2b24b76a1800f121de955d6"><span data-offset-key="36d803aaf2b24b76a1800f121de955d6:0">import MyErrorBoundary from './MyErrorBoundary';</span></span>

3

<span data-key="6d71326e6c264ff68d6c116ec5575c60"><span data-offset-key="6d71326e6c264ff68d6c116ec5575c60:0"><span data-slate-zero-width="n">​</span></span></span>

4

<span data-key="1febafe0d69c4acd9542b13bc6c8f35f"><span data-offset-key="1febafe0d69c4acd9542b13bc6c8f35f:0">const OtherComponent = React.lazy(() =&gt; import('./OtherComponent'));</span></span>

5

<span data-key="0dbd58e7b4794af89760b42b1879d83c"><span data-offset-key="0dbd58e7b4794af89760b42b1879d83c:0">const AnotherComponent = React.lazy(() =&gt; import('./AnotherComponent'));</span></span>

6

<span data-key="1f00ae6ca96d4478a9393cf31eb16fd7"><span data-offset-key="1f00ae6ca96d4478a9393cf31eb16fd7:0"><span data-slate-zero-width="n">​</span></span></span>

7

<span data-key="9df216ec77c34a24875bb0001275538b"><span data-offset-key="9df216ec77c34a24875bb0001275538b:0">const MyComponent = () =&gt; (</span></span>

8

<span data-key="fd1224c701ee42198a6e268e5db050cd"><span data-offset-key="fd1224c701ee42198a6e268e5db050cd:0"> &lt;div&gt;</span></span>

9

<span data-key="0ee72d42a2924e58a7dbf48d0cc2e66d"><span data-offset-key="0ee72d42a2924e58a7dbf48d0cc2e66d:0"> &lt;MyErrorBoundary&gt;</span></span>

10

<span data-key="bb3243e08b9a4809ad23360cabf9e188"><span data-offset-key="bb3243e08b9a4809ad23360cabf9e188:0"> &lt;Suspense fallback={&lt;div&gt;Loading...&lt;/div&gt;}&gt;</span></span>

11

<span data-key="0fb4d589cf224eb88ae9a718616197ff"><span data-offset-key="0fb4d589cf224eb88ae9a718616197ff:0"> &lt;section&gt;</span></span>

12

<span data-key="5147095fc2f24a4b953ef3117e03e223"><span data-offset-key="5147095fc2f24a4b953ef3117e03e223:0"> &lt;OtherComponent /&gt;</span></span>

13

<span data-key="aa4bb7d8d74f463c95b72346750d53d6"><span data-offset-key="aa4bb7d8d74f463c95b72346750d53d6:0"> &lt;AnotherComponent /&gt;</span></span>

14

<span data-key="c59434fe712446bfa17832c9d6f36362"><span data-offset-key="c59434fe712446bfa17832c9d6f36362:0"> &lt;/section&gt;</span></span>

15

<span data-key="5c49306fd53447d8ae4cb08a57552b0a"><span data-offset-key="5c49306fd53447d8ae4cb08a57552b0a:0"> &lt;/Suspense&gt;</span></span>

16

<span data-key="553a05eea1e84f98a0c72f853d7b23c8"><span data-offset-key="553a05eea1e84f98a0c72f853d7b23c8:0"> &lt;/MyErrorBoundary&gt;</span></span>

17

<span data-key="54346ae2986d43ab946f3de3cd468f0a"><span data-offset-key="54346ae2986d43ab946f3de3cd468f0a:0"> &lt;/div&gt;);</span></span>

Copied!

<span data-key="bbe7f8661c4f4e6b94cf21658e0c080d"><span data-offset-key="bbe7f8661c4f4e6b94cf21658e0c080d:0">Route-based code splitting</span></span>

<span data-key="7be6194e00e24a1d87292481ea4b047a"><span data-offset-key="7be6194e00e24a1d87292481ea4b047a:0">Deciding where in your app to introduce code splitting can be a bit tricky. You want to make sure you choose places that will split bundles evenly, but won’t disrupt the user experience.</span></span>

<span data-key="1439c688c9354f27a6f781452f16eac6"><span data-offset-key="1439c688c9354f27a6f781452f16eac6:0">A good place to start is with routes. Most people on the web are used to page transitions taking some amount of time to load. You also tend to be re-rendering the entire page at once so your users are unlikely to be interacting with other elements on the page at the same time.</span></span>

<span data-key="ab6166fa96f84d43ba815ebf47724c0f"><span data-offset-key="ab6166fa96f84d43ba815ebf47724c0f:0">Here’s an example of how to setup route-based code splitting into your app using libraries like </span></span><a href="https://reacttraining.com/react-router/" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="36afe6361fb5487080fb43100d812473"><span data-offset-key="36afe6361fb5487080fb43100d812473:0">React Router</span></span></span></a><span data-key="18924fdb5d554b0dbf8a3f22775e1947"><span data-offset-key="18924fdb5d554b0dbf8a3f22775e1947:0"> with </span><span data-offset-key="18924fdb5d554b0dbf8a3f22775e1947:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">React.lazy</span></span><span data-offset-key="18924fdb5d554b0dbf8a3f22775e1947:2">.</span></span>

1

<span data-key="229c8f4ef3934d14bd2d79aef87be111"><span data-offset-key="229c8f4ef3934d14bd2d79aef87be111:0">import React, { Suspense, lazy } from 'react';</span></span>

2

<span data-key="c34ff95b43bc4b0bb3a1084a017db808"><span data-offset-key="c34ff95b43bc4b0bb3a1084a017db808:0">import { BrowserRouter as Router, Route, Switch } from 'react-router-dom';</span></span>

3

<span data-key="2ca6ff9460ac4867acdc078c89ad449c"><span data-offset-key="2ca6ff9460ac4867acdc078c89ad449c:0"><span data-slate-zero-width="n">​</span></span></span>

4

<span data-key="6683b0b3e25643509b2eecbaff373cbf"><span data-offset-key="6683b0b3e25643509b2eecbaff373cbf:0">const Home = lazy(() =&gt; import('./routes/Home'));</span></span>

5

<span data-key="94bf64b93edb4f19a4cea5192873c2b5"><span data-offset-key="94bf64b93edb4f19a4cea5192873c2b5:0">const About = lazy(() =&gt; import('./routes/About'));</span></span>

6

<span data-key="63260c766e8a4cd3b98771ce07d514fa"><span data-offset-key="63260c766e8a4cd3b98771ce07d514fa:0"><span data-slate-zero-width="n">​</span></span></span>

7

<span data-key="2f18412538a744dc8ab4db86892f5dad"><span data-offset-key="2f18412538a744dc8ab4db86892f5dad:0">const App = () =&gt; (</span></span>

8

<span data-key="9818c128b3a54466a43d0098b50821ff"><span data-offset-key="9818c128b3a54466a43d0098b50821ff:0"> &lt;Router&gt;</span></span>

9

<span data-key="523e6a0148bf4ab892936086afac7fe8"><span data-offset-key="523e6a0148bf4ab892936086afac7fe8:0"> &lt;Suspense fallback={&lt;div&gt;Loading...&lt;/div&gt;}&gt;</span></span>

10

<span data-key="e651279485a74800bfeeb670f8171515"><span data-offset-key="e651279485a74800bfeeb670f8171515:0"> &lt;Switch&gt;</span></span>

11

<span data-key="c5470ebc00844df0a4a387f9b81ac003"><span data-offset-key="c5470ebc00844df0a4a387f9b81ac003:0"> &lt;Route exact path="/" component={Home}/&gt;</span></span>

12

<span data-key="ddfb22617add45ab9c3b781a0b2ddbab"><span data-offset-key="ddfb22617add45ab9c3b781a0b2ddbab:0"> &lt;Route path="/about" component={About}/&gt;</span></span>

13

<span data-key="d8dec04c1f2640b58298d0380c155760"><span data-offset-key="d8dec04c1f2640b58298d0380c155760:0"> &lt;/Switch&gt;</span></span>

14

<span data-key="9ad2c21546f74e209389edc81bb7fde0"><span data-offset-key="9ad2c21546f74e209389edc81bb7fde0:0"> &lt;/Suspense&gt;</span></span>

15

<span data-key="6ea88126f46d49a4b2379bc41e70483a"><span data-offset-key="6ea88126f46d49a4b2379bc41e70483a:0"> &lt;/Router&gt;);</span></span>

Copied!

<span data-key="dedef59f682645e587417ab1ff5dcce2"><span data-offset-key="dedef59f682645e587417ab1ff5dcce2:0">Named Exports</span></span>

<span data-key="4827cae582424b669e63b1bee0e6783f"><span data-offset-key="4827cae582424b669e63b1bee0e6783f:0"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">React.lazy</span></span><span data-offset-key="4827cae582424b669e63b1bee0e6783f:1"> currently only supports default exports. If the module you want to import uses named exports, you can create an intermediate module that reexports it as the default. This ensures that tree shaking keeps working and that you don’t pull in unused components.</span></span>

1

<span data-key="4d1d8f23f37749a1ab834d5d61bc2ab2"><span data-offset-key="4d1d8f23f37749a1ab834d5d61bc2ab2:0">// ManyComponents.js</span></span>

2

<span data-key="fd0b3b8acc064121a554f195b196251c"><span data-offset-key="fd0b3b8acc064121a554f195b196251c:0">export const MyComponent = /\* ... \*/;</span></span>

3

<span data-key="07d764fe516d420eb2ddfa6adce35693"><span data-offset-key="07d764fe516d420eb2ddfa6adce35693:0">export const MyUnusedComponent = /\* ... \*/;</span></span>

Copied!

1

<span data-key="09661beb835e4e67939a25cfdc1bf3d0"><span data-offset-key="09661beb835e4e67939a25cfdc1bf3d0:0">// MyComponent.js</span></span>

2

<span data-key="f20eb19210854e54a2e69604e7a2348e"><span data-offset-key="f20eb19210854e54a2e69604e7a2348e:0">export { MyComponent as default } from "./ManyComponents.js";</span></span>

Copied!

1

<span data-key="e1280101f2974bdb88027ea5ef97ba72"><span data-offset-key="e1280101f2974bdb88027ea5ef97ba72:0">// MyApp.js</span></span>

2

<span data-key="107e6c9b990b44b78bca9ae14885d476"><span data-offset-key="107e6c9b990b44b78bca9ae14885d476:0">import React, { lazy } from 'react';</span></span>

3

<span data-key="8a977b9da87042299016f334909eac7c"><span data-offset-key="8a977b9da87042299016f334909eac7c:0">const MyComponent = lazy(() =&gt; import("./MyComponent.js"));</span></span>

Copied!

<span data-key="13fc0f0a0837466fa0b53e58efc2999f"><span data-offset-key="13fc0f0a0837466fa0b53e58efc2999f:0"><span class="css-901oao css-16my406 r-b88u0q">Context</span></span></span>

<span data-key="2d7873b0e50f4d7190f9c1e5d6c4dc79"><span data-offset-key="2d7873b0e50f4d7190f9c1e5d6c4dc79:0">Context provides a way to pass data through the component tree without having to pass props down manually at every level.</span></span>

<span data-key="289f0af890b14b62855ab1a3b14e41e3"><span data-offset-key="289f0af890b14b62855ab1a3b14e41e3:0">In a typical React application, data is passed top-down (parent to child) via props, but such usage can be cumbersome for certain types of props (e.g. locale preference, UI theme) that are required by many components within an application. Context provides a way to share values like these between components without having to explicitly pass a prop through every level of the tree.</span></span>

<span data-key="3ed28508af12479aa19387ad598568bb"><span data-offset-key="3ed28508af12479aa19387ad598568bb:0"><span data-slate-zero-width="z">​</span></span></span><a href="https://reactjs.org/docs/context.html#when-to-use-context" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="565b942cf42e410f806f551c9503051d"><span data-offset-key="565b942cf42e410f806f551c9503051d:0">When to Use Context</span></span></span></a><span data-key="3e84f1606f2e43d397f030522367b913"><span data-offset-key="3e84f1606f2e43d397f030522367b913:0"><span data-slate-zero-width="z">​</span></span></span>

<span data-key="0e4773e8b54d400ba6cb287a085a17d4"><span data-offset-key="0e4773e8b54d400ba6cb287a085a17d4:0"><span data-slate-zero-width="z">​</span></span></span><a href="https://reactjs.org/docs/context.html#before-you-use-context" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="33e69bf4d666491ab73a5c5f9102195d"><span data-offset-key="33e69bf4d666491ab73a5c5f9102195d:0">Before You Use Context</span></span></span></a><span data-key="392e43d23dbe4c5b8aded6c7700afaac"><span data-offset-key="392e43d23dbe4c5b8aded6c7700afaac:0"><span data-slate-zero-width="z">​</span></span></span>

<span data-key="d3e5eb9edaef4bf394a7b9c0d945a827"><span data-offset-key="d3e5eb9edaef4bf394a7b9c0d945a827:0"><span data-slate-zero-width="z">​</span></span></span><a href="https://reactjs.org/docs/context.html#api" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="1c8ab293fa204e0bb3fa496c28cf4917"><span data-offset-key="1c8ab293fa204e0bb3fa496c28cf4917:0">API</span></span></span></a><span data-key="f93a1da95706494f9e8e21ed0d9ef6f1"><span data-offset-key="f93a1da95706494f9e8e21ed0d9ef6f1:0"><span data-slate-zero-width="z">​</span></span></span>

<span data-key="570ad442407a4950831a35d3ca17507b"><span data-offset-key="570ad442407a4950831a35d3ca17507b:0"><span data-slate-zero-width="z">​</span></span></span><a href="https://reactjs.org/docs/context.html#examples" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="ba1cab8c9d1648efaaebe5d19a105ed4"><span data-offset-key="ba1cab8c9d1648efaaebe5d19a105ed4:0">Examples</span></span></span></a><span data-key="e1913451d68e4ad0aadd699f3b171919"><span data-offset-key="e1913451d68e4ad0aadd699f3b171919:0"><span data-slate-zero-width="z">​</span></span></span>

<span data-key="816ad29f9bd3422495e87c9bb2dc697d"><span data-offset-key="816ad29f9bd3422495e87c9bb2dc697d:0"><span data-slate-zero-width="z">​</span></span></span><a href="https://reactjs.org/docs/context.html#caveats" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="d9a8456b63fc4050b43b11100c7460b4"><span data-offset-key="d9a8456b63fc4050b43b11100c7460b4:0">Caveats</span></span></span></a><span data-key="30dd7e34f3c64c8e81c43b7e658d22e9"><span data-offset-key="30dd7e34f3c64c8e81c43b7e658d22e9:0"><span data-slate-zero-width="z">​</span></span></span>

<span data-key="794079a5cbf7476d8cc06fadc877acb6"><span data-offset-key="794079a5cbf7476d8cc06fadc877acb6:0"><span data-slate-zero-width="z">​</span></span></span><a href="https://reactjs.org/docs/context.html#legacy-api" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="8a85a42fe57a4760825997011482f368"><span data-offset-key="8a85a42fe57a4760825997011482f368:0">Legacy API</span></span></span></a><span data-key="75f9bbfd27b6463fb874d5ffe27b0d42"><span data-offset-key="75f9bbfd27b6463fb874d5ffe27b0d42:0"><span data-slate-zero-width="z">​</span></span></span>

<span data-key="01f8cbc67ea145eab789bfe618fd0cdb"><span data-offset-key="01f8cbc67ea145eab789bfe618fd0cdb:0">When to Use Context</span></span>

<span data-key="f77fffe786f84005a6e8402afdc70a0e"><span data-offset-key="f77fffe786f84005a6e8402afdc70a0e:0">Context is designed to share data that can be considered “global” for a tree of React components, such as the current authenticated user, theme, or preferred language. For example, in the code below we manually thread through a “theme” prop in order to style the Button component:</span></span>

1

<span data-key="a0dba64f47b44d69964b2fd138a9383f"><span data-offset-key="a0dba64f47b44d69964b2fd138a9383f:0">class App extends React.Component {</span></span>

2

<span data-key="c6982c3858f94fd390eabaf6b2e3e377"><span data-offset-key="c6982c3858f94fd390eabaf6b2e3e377:0"> render() {</span></span>

3

<span data-key="def25cfb22e1428795a70bb08f84c9cb"><span data-offset-key="def25cfb22e1428795a70bb08f84c9cb:0"> return &lt;Toolbar theme="dark" /&gt;;</span></span>

4

<span data-key="0b5171cf1d5143c482d75a9efdac6da1"><span data-offset-key="0b5171cf1d5143c482d75a9efdac6da1:0"> }</span></span>

5

<span data-key="f55d3d4866a14e36881e2f3f8917afa8"><span data-offset-key="f55d3d4866a14e36881e2f3f8917afa8:0">}</span></span>

6

<span data-key="cdde597b5258426a9dc9d1d8889bee9b"><span data-offset-key="cdde597b5258426a9dc9d1d8889bee9b:0"><span data-slate-zero-width="n">​</span></span></span>

7

<span data-key="508f5f7b035241d39c229ed91479e471"><span data-offset-key="508f5f7b035241d39c229ed91479e471:0">function Toolbar(props) {</span></span>

8

<span data-key="c27764ec387d45ec90d661f21c17a178"><span data-offset-key="c27764ec387d45ec90d661f21c17a178:0"> // The Toolbar component must take an extra "theme" prop // and pass it to the ThemedButton. This can become painful // if every single button in the app needs to know the theme // because it would have to be passed through all components. return (</span></span>

9

<span data-key="266438e1850f461fa118f3abdd74ec76"><span data-offset-key="266438e1850f461fa118f3abdd74ec76:0"> &lt;div&gt; &lt;ThemedButton theme={props.theme} /&gt; &lt;/div&gt;);</span></span>

10

<span data-key="bf5bddd0c37c468a8b960e77d417f26b"><span data-offset-key="bf5bddd0c37c468a8b960e77d417f26b:0">}</span></span>

11

<span data-key="db00778fe0df478b82239f64725381de"><span data-offset-key="db00778fe0df478b82239f64725381de:0"><span data-slate-zero-width="n">​</span></span></span>

12

<span data-key="a84657d75f0e4148b1f82242c8e55951"><span data-offset-key="a84657d75f0e4148b1f82242c8e55951:0">class ThemedButton extends React.Component {</span></span>

13

<span data-key="7b03c1240fce420796e77b100f832e08"><span data-offset-key="7b03c1240fce420796e77b100f832e08:0"> render() {</span></span>

14

<span data-key="1bd143a899d648d09fc983e152a7b3f9"><span data-offset-key="1bd143a899d648d09fc983e152a7b3f9:0"> return &lt;Button theme={this.props.theme} /&gt;;</span></span>

15

<span data-key="4923e5bcd445440987825031dd5c6039"><span data-offset-key="4923e5bcd445440987825031dd5c6039:0"> }</span></span>

16

<span data-key="6905f28b3bf54e4f80924c08d103b938"><span data-offset-key="6905f28b3bf54e4f80924c08d103b938:0">}</span></span>

Copied!

<span data-key="d6329f00d16f4848a115ed89b8136c0a"><span data-offset-key="d6329f00d16f4848a115ed89b8136c0a:0">Using context, we can avoid passing props through intermediate elements:</span></span>

1

<span data-key="bd3c5bf72eb54ba4ba466d081285b1ca"><span data-offset-key="bd3c5bf72eb54ba4ba466d081285b1ca:0">// Context lets us pass a value deep into the component tree// without explicitly threading it through every component.// Create a context for the current theme (with "light" as the default).const ThemeContext = React.createContext('light');class App extends React.Component {</span></span>

2

<span data-key="c370337159444d538d58c727ab038a72"><span data-offset-key="c370337159444d538d58c727ab038a72:0"> render() {</span></span>

3

<span data-key="fd197b1d3ab4412b8cfdb489eb6fd322"><span data-offset-key="fd197b1d3ab4412b8cfdb489eb6fd322:0"> // Use a Provider to pass the current theme to the tree below. // Any component can read it, no matter how deep it is. // In this example, we're passing "dark" as the current value. return (</span></span>

4

<span data-key="84c938c28e90455db593db66b4f00f98"><span data-offset-key="84c938c28e90455db593db66b4f00f98:0"> &lt;ThemeContext.Provider value="dark"&gt; &lt;Toolbar /&gt; &lt;/ThemeContext.Provider&gt;);</span></span>

5

<span data-key="f2befb6af3f0496b9c6b342139de8114"><span data-offset-key="f2befb6af3f0496b9c6b342139de8114:0"> }</span></span>

6

<span data-key="e7cdc66ca52248d4a1304a564220ab2e"><span data-offset-key="e7cdc66ca52248d4a1304a564220ab2e:0">}</span></span>

7

<span data-key="3a2e0987e5a844b8a1cd234385d9fe6f"><span data-offset-key="3a2e0987e5a844b8a1cd234385d9fe6f:0"><span data-slate-zero-width="n">​</span></span></span>

8

<span data-key="9774d663361b4760a02a9fe14ab37e2b"><span data-offset-key="9774d663361b4760a02a9fe14ab37e2b:0">// A component in the middle doesn't have to// pass the theme down explicitly anymore.function Toolbar() {</span></span>

9

<span data-key="37c6dd43bed843dd91763b2e67b23c45"><span data-offset-key="37c6dd43bed843dd91763b2e67b23c45:0"> return (</span></span>

10

<span data-key="b558920fea274c62b236ec482db4adf6"><span data-offset-key="b558920fea274c62b236ec482db4adf6:0"> &lt;div&gt; &lt;ThemedButton /&gt; &lt;/div&gt;);</span></span>

11

<span data-key="384e8d45d5da4fd98a05c1ef9beb929a"><span data-offset-key="384e8d45d5da4fd98a05c1ef9beb929a:0">}</span></span>

12

<span data-key="30586d2d575147e9a53b51f713210a37"><span data-offset-key="30586d2d575147e9a53b51f713210a37:0"><span data-slate-zero-width="n">​</span></span></span>

13

<span data-key="6e42356c3b354218b36f19329841bba4"><span data-offset-key="6e42356c3b354218b36f19329841bba4:0">class ThemedButton extends React.Component {</span></span>

14

<span data-key="530dd16ab81746669f8a3558e251e205"><span data-offset-key="530dd16ab81746669f8a3558e251e205:0"> // Assign a contextType to read the current theme context. // React will find the closest theme Provider above and use its value. // In this example, the current theme is "dark". static contextType = ThemeContext;</span></span>

15

<span data-key="6d9bef80205547a38c80e22503b3ee60"><span data-offset-key="6d9bef80205547a38c80e22503b3ee60:0"> render() {</span></span>

16

<span data-key="50f577de882e462e8c025fcc1237d81e"><span data-offset-key="50f577de882e462e8c025fcc1237d81e:0"> return &lt;Button theme={this.context} /&gt;; }</span></span>

17

<span data-key="13ffb3b1cebf48b99c66085d7b7bdddb"><span data-offset-key="13ffb3b1cebf48b99c66085d7b7bdddb:0">}</span></span>

Copied!

<span data-key="6f0fd69621274419965f92d921907a01"><span data-offset-key="6f0fd69621274419965f92d921907a01:0">Before You Use Context</span></span>

<span data-key="5a70e9c409634ab4885ffc76de56d12f"><span data-offset-key="5a70e9c409634ab4885ffc76de56d12f:0">Context is primarily used when some data needs to be accessible by </span><span data-offset-key="5a70e9c409634ab4885ffc76de56d12f:1"><span class="css-901oao css-16my406 r-36ujnk">many</span></span><span data-offset-key="5a70e9c409634ab4885ffc76de56d12f:2"> components at different nesting levels. Apply it sparingly because it makes component reuse more difficult.</span></span>

<span data-key="7c2fbe5280ea4f989596fa2fba0472f2"><span data-offset-key="7c2fbe5280ea4f989596fa2fba0472f2:0"><span class="css-901oao css-16my406 r-b88u0q">If you only want to avoid passing some props through many levels, </span></span></span><a href="https://reactjs.org/docs/composition-vs-inheritance.html" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="a679d02cf7324bc5802c30d23d8fb7b6"><span data-offset-key="a679d02cf7324bc5802c30d23d8fb7b6:0"><span class="css-901oao css-16my406 r-b88u0q">component composition</span></span></span></span></a><span data-key="c0983808b4424d36b25ab71ae8a83020"><span data-offset-key="c0983808b4424d36b25ab71ae8a83020:0"><span class="css-901oao css-16my406 r-b88u0q"> is often a simpler solution than context.</span></span></span>

<span data-key="2a3b0282bf584d13aa8e68d090cf48f8"><span data-offset-key="2a3b0282bf584d13aa8e68d090cf48f8:0">For example, consider a </span><span data-offset-key="2a3b0282bf584d13aa8e68d090cf48f8:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">Page</span></span><span data-offset-key="2a3b0282bf584d13aa8e68d090cf48f8:2"> component that passes a </span><span data-offset-key="2a3b0282bf584d13aa8e68d090cf48f8:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">user</span></span><span data-offset-key="2a3b0282bf584d13aa8e68d090cf48f8:4"> and </span><span data-offset-key="2a3b0282bf584d13aa8e68d090cf48f8:5"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">avatarSize</span></span><span data-offset-key="2a3b0282bf584d13aa8e68d090cf48f8:6"> prop several levels down so that deeply nested </span><span data-offset-key="2a3b0282bf584d13aa8e68d090cf48f8:7"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">Link</span></span><span data-offset-key="2a3b0282bf584d13aa8e68d090cf48f8:8"> and </span><span data-offset-key="2a3b0282bf584d13aa8e68d090cf48f8:9"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">Avatar</span></span><span data-offset-key="2a3b0282bf584d13aa8e68d090cf48f8:10"> components can read it:</span></span>

1

<span data-key="50050f49317549f1b1ed59c4b593fee1"><span data-offset-key="50050f49317549f1b1ed59c4b593fee1:0">&lt;Page user={user} avatarSize={avatarSize} /&gt;// ... which renders ...</span></span>

2

<span data-key="d0cb6e5d53b345c09828ffec37a38149"><span data-offset-key="d0cb6e5d53b345c09828ffec37a38149:0">&lt;PageLayout user={user} avatarSize={avatarSize} /&gt;// ... which renders ...</span></span>

3

<span data-key="0032cfcfaa3a45179c331e15e8ebb67a"><span data-offset-key="0032cfcfaa3a45179c331e15e8ebb67a:0">&lt;NavigationBar user={user} avatarSize={avatarSize} /&gt;// ... which renders ...</span></span>

4

<span data-key="8cd87766d34c422a8edaa7d9c19f5ed7"><span data-offset-key="8cd87766d34c422a8edaa7d9c19f5ed7:0">&lt;Link href={user.permalink}&gt;</span></span>

5

<span data-key="150fd6bf51594419acf778db025fd525"><span data-offset-key="150fd6bf51594419acf778db025fd525:0"> &lt;Avatar user={user} size={avatarSize} /&gt;</span></span>

6

<span data-key="1b517f45352b48b1a56e78e2f95d58a4"><span data-offset-key="1b517f45352b48b1a56e78e2f95d58a4:0">&lt;/Link&gt;</span></span>

Copied!

<span data-key="38d7f3cc4c6f4a42884d8ff1b35abf44"><span data-offset-key="38d7f3cc4c6f4a42884d8ff1b35abf44:0">It might feel redundant to pass down the </span><span data-offset-key="38d7f3cc4c6f4a42884d8ff1b35abf44:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">user</span></span><span data-offset-key="38d7f3cc4c6f4a42884d8ff1b35abf44:2"> and </span><span data-offset-key="38d7f3cc4c6f4a42884d8ff1b35abf44:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">avatarSize</span></span><span data-offset-key="38d7f3cc4c6f4a42884d8ff1b35abf44:4"> props through many levels if in the end only the </span><span data-offset-key="38d7f3cc4c6f4a42884d8ff1b35abf44:5"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">Avatar</span></span><span data-offset-key="38d7f3cc4c6f4a42884d8ff1b35abf44:6"> component really needs it. It’s also annoying that whenever the </span><span data-offset-key="38d7f3cc4c6f4a42884d8ff1b35abf44:7"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">Avatar</span></span><span data-offset-key="38d7f3cc4c6f4a42884d8ff1b35abf44:8"> component needs more props from the top, you have to add them at all the intermediate levels too.</span></span>

<span data-key="d915226b54ec4b288cd82d898b1bed2b"><span data-offset-key="d915226b54ec4b288cd82d898b1bed2b:0">One way to solve this issue </span><span data-offset-key="d915226b54ec4b288cd82d898b1bed2b:1"><span class="css-901oao css-16my406 r-b88u0q">without context</span></span><span data-offset-key="d915226b54ec4b288cd82d898b1bed2b:2"> is to </span></span><a href="https://reactjs.org/docs/composition-vs-inheritance.html#containment" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="05fcf39bf0a64190b764a7406c64a575"><span data-offset-key="05fcf39bf0a64190b764a7406c64a575:0">pass down the </span><span data-offset-key="05fcf39bf0a64190b764a7406c64a575:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">Avatar</span></span><span data-offset-key="05fcf39bf0a64190b764a7406c64a575:2"> component itself</span></span></span></a><span data-key="d500ec949e7845409ecb0d2da81f1c55"><span data-offset-key="d500ec949e7845409ecb0d2da81f1c55:0"> so that the intermediate components don’t need to know about the </span><span data-offset-key="d500ec949e7845409ecb0d2da81f1c55:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">user</span></span><span data-offset-key="d500ec949e7845409ecb0d2da81f1c55:2"> or </span><span data-offset-key="d500ec949e7845409ecb0d2da81f1c55:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">avatarSize</span></span><span data-offset-key="d500ec949e7845409ecb0d2da81f1c55:4"> props:</span></span>

1

<span data-key="d996e32cef9d457bb6ee776abd60fc80"><span data-offset-key="d996e32cef9d457bb6ee776abd60fc80:0">function Page(props) {</span></span>

2

<span data-key="000c14b6392f490794be23fa00063bac"><span data-offset-key="000c14b6392f490794be23fa00063bac:0"> const user = props.user;</span></span>

3

<span data-key="8383c8d51b4947b08e3859c064e57dee"><span data-offset-key="8383c8d51b4947b08e3859c064e57dee:0"> const userLink = (</span></span>

4

<span data-key="9921753f85b4453abdf91abefc485550"><span data-offset-key="9921753f85b4453abdf91abefc485550:0"> &lt;Link href={user.permalink}&gt;</span></span>

5

<span data-key="bedbd2b8aab24019b5894a68922e235a"><span data-offset-key="bedbd2b8aab24019b5894a68922e235a:0"> &lt;Avatar user={user} size={props.avatarSize} /&gt;</span></span>

6

<span data-key="f70a33c80c9b4668966426721537642a"><span data-offset-key="f70a33c80c9b4668966426721537642a:0"> &lt;/Link&gt;);</span></span>

7

<span data-key="a886809cbbc24fe7a48e9d381e6f057b"><span data-offset-key="a886809cbbc24fe7a48e9d381e6f057b:0"> return &lt;PageLayout userLink={userLink} /&gt;;</span></span>

8

<span data-key="07dc01ec7b9e4817a1e8a3e069ecc679"><span data-offset-key="07dc01ec7b9e4817a1e8a3e069ecc679:0">}</span></span>

9

<span data-key="91a8a9abe86b4a7ca4dc7cbb987c3f47"><span data-offset-key="91a8a9abe86b4a7ca4dc7cbb987c3f47:0"><span data-slate-zero-width="n">​</span></span></span>

10

<span data-key="a05bb59390d943878bb840c9e8008ee1"><span data-offset-key="a05bb59390d943878bb840c9e8008ee1:0">// Now, we have:</span></span>

11

<span data-key="094a32b63ba5490fb7920b2dcf949bf1"><span data-offset-key="094a32b63ba5490fb7920b2dcf949bf1:0">&lt;Page user={user} avatarSize={avatarSize} /&gt;// ... which renders ...</span></span>

12

<span data-key="10816320313841378d2af5b4b0d79e96"><span data-offset-key="10816320313841378d2af5b4b0d79e96:0">&lt;PageLayout userLink={...} /&gt;// ... which renders ...</span></span>

13

<span data-key="37246a4c6b32411da8c65757fca4442c"><span data-offset-key="37246a4c6b32411da8c65757fca4442c:0">&lt;NavigationBar userLink={...} /&gt;// ... which renders ...</span></span>

14

<span data-key="125576ab09764b41848e941eb442dd36"><span data-offset-key="125576ab09764b41848e941eb442dd36:0">{props.userLink}</span></span>

Copied!

<span data-key="066ed97dc81a48cca617322a32c219a5"><span data-offset-key="066ed97dc81a48cca617322a32c219a5:0">With this change, only the top-most Page component needs to know about the </span><span data-offset-key="066ed97dc81a48cca617322a32c219a5:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">Link</span></span><span data-offset-key="066ed97dc81a48cca617322a32c219a5:2"> and </span><span data-offset-key="066ed97dc81a48cca617322a32c219a5:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">Avatar</span></span><span data-offset-key="066ed97dc81a48cca617322a32c219a5:4"> components’ use of </span><span data-offset-key="066ed97dc81a48cca617322a32c219a5:5"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">user</span></span><span data-offset-key="066ed97dc81a48cca617322a32c219a5:6"> and </span><span data-offset-key="066ed97dc81a48cca617322a32c219a5:7"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">avatarSize</span></span><span data-offset-key="066ed97dc81a48cca617322a32c219a5:8">.</span></span>

<span data-key="4e50df6247084295aafd23cbaa26c486"><span data-offset-key="4e50df6247084295aafd23cbaa26c486:0">This </span><span data-offset-key="4e50df6247084295aafd23cbaa26c486:1"><span class="css-901oao css-16my406 r-36ujnk">inversion of control</span></span><span data-offset-key="4e50df6247084295aafd23cbaa26c486:2"> can make your code cleaner in many cases by reducing the amount of props you need to pass through your application and giving more control to the root components. Such inversion, however, isn’t the right choice in every case; moving more complexity higher in the tree makes those higher-level components more complicated and forces the lower-level components to be more flexible than you may want.</span></span>

<span data-key="ad83ebc36cfc4d6c8920f73ad6dce196"><span data-offset-key="ad83ebc36cfc4d6c8920f73ad6dce196:0">You’re not limited to a single child for a component. You may pass multiple children, or even have multiple separate “slots” for children, </span></span><a href="https://reactjs.org/docs/composition-vs-inheritance.html#containment" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="dd86281126b0452ba0d1ee24c426ced8"><span data-offset-key="dd86281126b0452ba0d1ee24c426ced8:0">as documented here</span></span></span></a><span data-key="da4443d171b54e68aebbd2d83cf3e91d"><span data-offset-key="da4443d171b54e68aebbd2d83cf3e91d:0">:</span></span>

1

<span data-key="3bfdceed4ec5476eb2cb4132fd0f9d2c"><span data-offset-key="3bfdceed4ec5476eb2cb4132fd0f9d2c:0">function Page(props) {</span></span>

2

<span data-key="45a157cf099148b1b85b425486cd8a3f"><span data-offset-key="45a157cf099148b1b85b425486cd8a3f:0"> const user = props.user;</span></span>

3

<span data-key="f0fd0f94900b44439b842b3711c2993f"><span data-offset-key="f0fd0f94900b44439b842b3711c2993f:0"> const content = &lt;Feed user={user} /&gt;;</span></span>

4

<span data-key="f445608999cd41eda1ad707166c13777"><span data-offset-key="f445608999cd41eda1ad707166c13777:0"> const topBar = (</span></span>

5

<span data-key="f3363c5633c64c0297d90bd43603b9ba"><span data-offset-key="f3363c5633c64c0297d90bd43603b9ba:0"> &lt;NavigationBar&gt;</span></span>

6

<span data-key="33ed952f5dbb4ca6b3d6276fca223a1b"><span data-offset-key="33ed952f5dbb4ca6b3d6276fca223a1b:0"> &lt;Link href={user.permalink}&gt;</span></span>

7

<span data-key="2a7bb787859145d2bd8cf4e59e23107c"><span data-offset-key="2a7bb787859145d2bd8cf4e59e23107c:0"> &lt;Avatar user={user} size={props.avatarSize} /&gt;</span></span>

8

<span data-key="217890f7e62e4d5992337ab0cb19ed34"><span data-offset-key="217890f7e62e4d5992337ab0cb19ed34:0"> &lt;/Link&gt;</span></span>

9

<span data-key="e2795c4bf3584f458144a4e57da57d1b"><span data-offset-key="e2795c4bf3584f458144a4e57da57d1b:0"> &lt;/NavigationBar&gt;);</span></span>

10

<span data-key="1025e377ca1c43f3ae2aee8e955e96c4"><span data-offset-key="1025e377ca1c43f3ae2aee8e955e96c4:0"> return (</span></span>

11

<span data-key="a4a594826ca44f04a9735736332a46f6"><span data-offset-key="a4a594826ca44f04a9735736332a46f6:0"> &lt;PageLayouttopBar={topBar}content={content}/&gt;);</span></span>

12

<span data-key="e2d24faefd684cfda245c4fc79220878"><span data-offset-key="e2d24faefd684cfda245c4fc79220878:0">}</span></span>

Copied!

<span data-key="40e67b84c55641ada9f8254e69ed1037"><span data-offset-key="40e67b84c55641ada9f8254e69ed1037:0">This pattern is sufficient for many cases when you need to decouple a child from its immediate parents. You can take it even further with </span></span><a href="https://reactjs.org/docs/render-props.html" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="9824eb09cb9c4ea0b98935be2b91ec93"><span data-offset-key="9824eb09cb9c4ea0b98935be2b91ec93:0">render props</span></span></span></a><span data-key="5b609867fd054bd6a08fbb8717cb367c"><span data-offset-key="5b609867fd054bd6a08fbb8717cb367c:0"> if the child needs to communicate with the parent before rendering.</span></span>

<span data-key="af5f1ead1c954aedb753ae757bfdf6b2"><span data-offset-key="af5f1ead1c954aedb753ae757bfdf6b2:0">However, sometimes the same data needs to be accessible by many components in the tree, and at different nesting levels. Context lets you “broadcast” such data, and changes to it, to all components below. Common examples where using context might be simpler than the alternatives include managing the current locale, theme, or a data cache.</span></span>

<span data-key="d29aa857369443509928f1fc9fc80f2a"><span data-offset-key="d29aa857369443509928f1fc9fc80f2a:0">API</span></span>

<span data-key="c2ea34ac815b41e4932f25015a459426"><span data-offset-key="c2ea34ac815b41e4932f25015a459426:0"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">React.createContext</span></span></span>

1

<span data-key="ee6fa83231274307a683bc7d5df9e1aa"><span data-offset-key="ee6fa83231274307a683bc7d5df9e1aa:0">const MyContext = React.createContext(defaultValue);</span></span>

Copied!

<span data-key="0134780e25e243b5a903b99e98d6e4b6"><span data-offset-key="0134780e25e243b5a903b99e98d6e4b6:0">Creates a Context object. When React renders a component that subscribes to this Context object it will read the current context value from the closest matching </span><span data-offset-key="0134780e25e243b5a903b99e98d6e4b6:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">Provider</span></span><span data-offset-key="0134780e25e243b5a903b99e98d6e4b6:2"> above it in the tree.</span></span>

<span data-key="d2f7044712fe4589843969d286fa54ac"><span data-offset-key="d2f7044712fe4589843969d286fa54ac:0">The </span><span data-offset-key="d2f7044712fe4589843969d286fa54ac:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">defaultValue</span></span><span data-offset-key="d2f7044712fe4589843969d286fa54ac:2"> argument is </span><span data-offset-key="d2f7044712fe4589843969d286fa54ac:3"><span class="css-901oao css-16my406 r-b88u0q">only</span></span><span data-offset-key="d2f7044712fe4589843969d286fa54ac:4"> used when a component does not have a matching Provider above it in the tree. This default value can be helpful for testing components in isolation without wrapping them. Note: passing </span><span data-offset-key="d2f7044712fe4589843969d286fa54ac:5"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">undefined</span></span><span data-offset-key="d2f7044712fe4589843969d286fa54ac:6"> as a Provider value does not cause consuming components to use </span><span data-offset-key="d2f7044712fe4589843969d286fa54ac:7"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">defaultValue</span></span><span data-offset-key="d2f7044712fe4589843969d286fa54ac:8">.</span></span>

<span data-key="290cc6dcdddf43489a72d5496de44f34"><span data-offset-key="290cc6dcdddf43489a72d5496de44f34:0"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">Context.Provider</span></span></span>

1

<span data-key="5e78a62996874f54b8b99ebcef9a490e"><span data-offset-key="5e78a62996874f54b8b99ebcef9a490e:0">&lt;MyContext.Provider value={/\* some value \*/}&gt;</span></span>

Copied!

<span data-key="b0cacbb2da3f46a2996751e9fa8c68e9"><span data-offset-key="b0cacbb2da3f46a2996751e9fa8c68e9:0">Every Context object comes with a Provider React component that allows consuming components to subscribe to context changes.</span></span>

<span data-key="8857f5d45e514f59903bfef835235229"><span data-offset-key="8857f5d45e514f59903bfef835235229:0">The Provider component accepts a </span><span data-offset-key="8857f5d45e514f59903bfef835235229:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">value</span></span><span data-offset-key="8857f5d45e514f59903bfef835235229:2"> prop to be passed to consuming components that are descendants of this Provider. One Provider can be connected to many consumers. Providers can be nested to override values deeper within the tree.</span></span>

<span data-key="7215394afcee49cca51dc3237740b347"><span data-offset-key="7215394afcee49cca51dc3237740b347:0">All consumers that are descendants of a Provider will re-render whenever the Provider’s </span><span data-offset-key="7215394afcee49cca51dc3237740b347:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">value</span></span><span data-offset-key="7215394afcee49cca51dc3237740b347:2"> prop changes. The propagation from Provider to its descendant consumers (including </span><span data-offset-key="7215394afcee49cca51dc3237740b347:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">\[.contextType\](&lt;https://reactjs.org/docs/context.html\#classcontexttype&gt;)</span></span><span data-offset-key="7215394afcee49cca51dc3237740b347:4"> and </span><span data-offset-key="7215394afcee49cca51dc3237740b347:5"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">\[useContext\](&lt;https://reactjs.org/docs/hooks-reference.html\#usecontext&gt;)</span></span><span data-offset-key="7215394afcee49cca51dc3237740b347:6">) is not subject to the </span><span data-offset-key="7215394afcee49cca51dc3237740b347:7"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">shouldComponentUpdate</span></span><span data-offset-key="7215394afcee49cca51dc3237740b347:8"> method, so the consumer is updated even when an ancestor component skips an update.</span></span>

<span data-key="f5aa5bc9399c428bad7f6246242de9af"><span data-offset-key="f5aa5bc9399c428bad7f6246242de9af:0">Changes are determined by comparing the new and old values using the same algorithm as </span><span data-offset-key="f5aa5bc9399c428bad7f6246242de9af:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">\[Object.is\](&lt;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global\_Objects/Object/is\#Description&gt;)</span></span><span data-offset-key="f5aa5bc9399c428bad7f6246242de9af:2">.</span></span>

<span data-key="0f011167037d46d5b32d5754736fb922"><span data-offset-key="0f011167037d46d5b32d5754736fb922:0">NoteThe way changes are determined can cause some issues when passing objects as value: see Caveats.</span></span>

<span data-key="f2c44dea27a94fe08a7408a98b0315c1"><span data-offset-key="f2c44dea27a94fe08a7408a98b0315c1:0"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">Class.contextType</span></span></span>

1

<span data-key="2157f39a4a50455ca8620cda0a82b39c"><span data-offset-key="2157f39a4a50455ca8620cda0a82b39c:0">class MyClass extends React.Component {</span></span>

2

<span data-key="59728f6e415440989f18debd63b85d96"><span data-offset-key="59728f6e415440989f18debd63b85d96:0"> componentDidMount() {</span></span>

3

<span data-key="5808dec3cae84cbb8e8331ec2912da01"><span data-offset-key="5808dec3cae84cbb8e8331ec2912da01:0"> let value = this.context;</span></span>

4

<span data-key="cf2a0eb65f5140eda195b78d9b0438da"><span data-offset-key="cf2a0eb65f5140eda195b78d9b0438da:0"> /\* perform a side-effect at mount using the value of MyContext \*/</span></span>

5

<span data-key="e5a8d5c49d54411d8e60b35e139087d2"><span data-offset-key="e5a8d5c49d54411d8e60b35e139087d2:0"> }</span></span>

6

<span data-key="9d3fd5559ac44a139cfb09b979309f89"><span data-offset-key="9d3fd5559ac44a139cfb09b979309f89:0"> componentDidUpdate() {</span></span>

7

<span data-key="2c351ac8cc95420e98d823b869d95e1e"><span data-offset-key="2c351ac8cc95420e98d823b869d95e1e:0"> let value = this.context;</span></span>

8

<span data-key="749dcb2c728e49deb784b262a4e7ef8c"><span data-offset-key="749dcb2c728e49deb784b262a4e7ef8c:0"> /\* ... \*/</span></span>

9

<span data-key="ab95abdd826148d8879ec528baefeeeb"><span data-offset-key="ab95abdd826148d8879ec528baefeeeb:0"> }</span></span>

10

<span data-key="96ee89161be9418e8a26130247eaaab5"><span data-offset-key="96ee89161be9418e8a26130247eaaab5:0"> componentWillUnmount() {</span></span>

11

<span data-key="f2167f238da44e1a87dd03998a928894"><span data-offset-key="f2167f238da44e1a87dd03998a928894:0"> let value = this.context;</span></span>

12

<span data-key="28624dde8e7e4388b8e52113ca4da7df"><span data-offset-key="28624dde8e7e4388b8e52113ca4da7df:0"> /\* ... \*/</span></span>

13

<span data-key="4176980f3db64f20940deb8aebef54f4"><span data-offset-key="4176980f3db64f20940deb8aebef54f4:0"> }</span></span>

14

<span data-key="9b4026561bc44108ae08a5a85af6885d"><span data-offset-key="9b4026561bc44108ae08a5a85af6885d:0"> render() {</span></span>

15

<span data-key="273bc3aebf2842768a804fa43e848f77"><span data-offset-key="273bc3aebf2842768a804fa43e848f77:0"> let value = this.context;</span></span>

16

<span data-key="92fe3b455a3345a8a102baa2d30b70c9"><span data-offset-key="92fe3b455a3345a8a102baa2d30b70c9:0"> /\* render something based on the value of MyContext \*/</span></span>

17

<span data-key="a56cd040e09243928f1a17e1778fbcd6"><span data-offset-key="a56cd040e09243928f1a17e1778fbcd6:0"> }</span></span>

18

<span data-key="82bec8cd73394a729f384161222792b7"><span data-offset-key="82bec8cd73394a729f384161222792b7:0">}</span></span>

19

<span data-key="318dc234ff9540f29ae7f7ca27357af9"><span data-offset-key="318dc234ff9540f29ae7f7ca27357af9:0">MyClass.contextType = MyContext;</span></span>

Copied!

<span data-key="44884427a37a49cc9430fa953850738d"><span data-offset-key="44884427a37a49cc9430fa953850738d:0">The </span><span data-offset-key="44884427a37a49cc9430fa953850738d:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">contextType</span></span><span data-offset-key="44884427a37a49cc9430fa953850738d:2"> property on a class can be assigned a Context object created by </span><span data-offset-key="44884427a37a49cc9430fa953850738d:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">\[React.createContext()\](&lt;https://reactjs.org/docs/context.html\#reactcreatecontext&gt;)</span></span><span data-offset-key="44884427a37a49cc9430fa953850738d:4">. Using this property lets you consume the nearest current value of that Context type using </span><span data-offset-key="44884427a37a49cc9430fa953850738d:5"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">this.context</span></span><span data-offset-key="44884427a37a49cc9430fa953850738d:6">. You can reference this in any of the lifecycle methods including the render function.</span></span>

<span data-key="98baffacef774f41b460949b0ab02ed6"><span data-offset-key="98baffacef774f41b460949b0ab02ed6:0">Note:You can only subscribe to a single context using this API. If you need to read more than one see Consuming Multiple Contexts.If you are using the experimental public class fields syntax, you can use a static class field to initialize your contextType.</span></span>

1

<span data-key="2ff6ee4074af4d19a8e28a86b53986d3"><span data-offset-key="2ff6ee4074af4d19a8e28a86b53986d3:0">class MyClass extends React.Component {</span></span>

2

<span data-key="a71f11cf1b594d098320f74691c30f2c"><span data-offset-key="a71f11cf1b594d098320f74691c30f2c:0"> static contextType = MyContext;</span></span>

3

<span data-key="b6c4b2f043194e2492700d7de9c94866"><span data-offset-key="b6c4b2f043194e2492700d7de9c94866:0"> render() {</span></span>

4

<span data-key="c65456329b8e44d2bbe4933d2137593a"><span data-offset-key="c65456329b8e44d2bbe4933d2137593a:0"> let value = this.context;</span></span>

5

<span data-key="a04963ff8df140508128c7b837a87d06"><span data-offset-key="a04963ff8df140508128c7b837a87d06:0"> /\* render something based on the value \*/</span></span>

6

<span data-key="ef498da301de4c238544fa5866a1c553"><span data-offset-key="ef498da301de4c238544fa5866a1c553:0"> }</span></span>

7

<span data-key="23de045f1704477a9155804b0b0d50ff"><span data-offset-key="23de045f1704477a9155804b0b0d50ff:0">}</span></span>

Copied!

<span data-key="5243c25abd06452ca7b01691dbde3775"><span data-offset-key="5243c25abd06452ca7b01691dbde3775:0"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">Context.Consumer</span></span></span>

1

<span data-key="483fd58ca3f840a0af72219bb6bf10da"><span data-offset-key="483fd58ca3f840a0af72219bb6bf10da:0">&lt;MyContext.Consumer&gt;</span></span>

2

<span data-key="8f75f51b6a0c4f3381a58fc5909ea489"><span data-offset-key="8f75f51b6a0c4f3381a58fc5909ea489:0"> {value =&gt; /\* render something based on the context value \*/}</span></span>

3

<span data-key="825fbc9ebf8244da8566a548c4b045af"><span data-offset-key="825fbc9ebf8244da8566a548c4b045af:0">&lt;/MyContext.Consumer&gt;</span></span>

Copied!

<span data-key="a1e12fb78ca34e13b95e31dec05e77c4"><span data-offset-key="a1e12fb78ca34e13b95e31dec05e77c4:0">A React component that subscribes to context changes. Using this component lets you subscribe to a context within a </span></span><a href="https://reactjs.org/docs/components-and-props.html#function-and-class-components" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="bfb1b62355d040ad901b490bc9638cfd"><span data-offset-key="bfb1b62355d040ad901b490bc9638cfd:0">function component</span></span></span></a><span data-key="88fcc12339da404cb53e92b5f5da0fc7"><span data-offset-key="88fcc12339da404cb53e92b5f5da0fc7:0">.</span></span>

<span data-key="3c5252a7645343db8c0cfc5fd5345b88"><span data-offset-key="3c5252a7645343db8c0cfc5fd5345b88:0">Requires a </span></span><a href="https://reactjs.org/docs/render-props.html#using-props-other-than-render" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="8e60e0e5d9574410ab2d924170c78419"><span data-offset-key="8e60e0e5d9574410ab2d924170c78419:0">function as a child</span></span></span></a><span data-key="60adeedd18fd4b8e93b9d6a1e501308a"><span data-offset-key="60adeedd18fd4b8e93b9d6a1e501308a:0">. The function receives the current context value and returns a React node. The </span><span data-offset-key="60adeedd18fd4b8e93b9d6a1e501308a:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">value</span></span><span data-offset-key="60adeedd18fd4b8e93b9d6a1e501308a:2"> argument passed to the function will be equal to the </span><span data-offset-key="60adeedd18fd4b8e93b9d6a1e501308a:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">value</span></span><span data-offset-key="60adeedd18fd4b8e93b9d6a1e501308a:4"> prop of the closest Provider for this context above in the tree. If there is no Provider for this context above, the </span><span data-offset-key="60adeedd18fd4b8e93b9d6a1e501308a:5"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">value</span></span><span data-offset-key="60adeedd18fd4b8e93b9d6a1e501308a:6"> argument will be equal to the </span><span data-offset-key="60adeedd18fd4b8e93b9d6a1e501308a:7"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">defaultValue</span></span><span data-offset-key="60adeedd18fd4b8e93b9d6a1e501308a:8"> that was passed to </span><span data-offset-key="60adeedd18fd4b8e93b9d6a1e501308a:9"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">createContext()</span></span><span data-offset-key="60adeedd18fd4b8e93b9d6a1e501308a:10">.</span></span>

<span data-key="bf636cb480924adf8657608d8e2cfa1c"><span data-offset-key="bf636cb480924adf8657608d8e2cfa1c:0">NoteFor more information about the ‘function as a child’ pattern, see render props.</span></span>

<span data-key="56a17cb79f844c099ab6f31b22fa6954"><span data-offset-key="56a17cb79f844c099ab6f31b22fa6954:0"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">Context.displayName</span></span></span>

<span data-key="48cc811d3a28461982f4807d8da74f46"><span data-offset-key="48cc811d3a28461982f4807d8da74f46:0">Context object accepts a </span><span data-offset-key="48cc811d3a28461982f4807d8da74f46:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">displayName</span></span><span data-offset-key="48cc811d3a28461982f4807d8da74f46:2"> string property. React DevTools uses this string to determine what to display for the context.</span></span>

<span data-key="060d20d2950e413daa4bf3ab18eb1359"><span data-offset-key="060d20d2950e413daa4bf3ab18eb1359:0">For example, the following component will appear as MyDisplayName in the DevTools:</span></span>

1

<span data-key="63294f8575264f4fb215efd2a9fb2562"><span data-offset-key="63294f8575264f4fb215efd2a9fb2562:0">const MyContext = React.createContext(/\* some value \*/);</span></span>

2

<span data-key="33db8cd04ebb467cb57d16687604b0c8"><span data-offset-key="33db8cd04ebb467cb57d16687604b0c8:0">MyContext.displayName = 'MyDisplayName';&lt;MyContext.Provider&gt; // "MyDisplayName.Provider" in DevTools</span></span>

3

<span data-key="29d3e00030ed411dbf0c8d0be9866c6e"><span data-offset-key="29d3e00030ed411dbf0c8d0be9866c6e:0">&lt;MyContext.Consumer&gt; // "MyDisplayName.Consumer" in DevTools</span></span>

Copied!

<span data-key="d9e92aa08eae4e62a6ea852224688662"><span data-offset-key="d9e92aa08eae4e62a6ea852224688662:0">Examples</span></span>

<span data-key="856489a5831f4e3bb9037b25fac1c5f4"><span data-offset-key="856489a5831f4e3bb9037b25fac1c5f4:0">Dynamic Context</span></span>

<span data-key="949a53ebb1e24cf4b9b9ed3c3ccc04fa"><span data-offset-key="949a53ebb1e24cf4b9b9ed3c3ccc04fa:0">A more complex example with dynamic values for the theme:</span></span>

<span data-key="37674dc1e7bb4815b7946789fbf6475b"><span data-offset-key="37674dc1e7bb4815b7946789fbf6475b:0"><span class="css-901oao css-16my406 r-b88u0q">theme-context.js</span></span></span>

1

<span data-key="827e8e739874423d9869e18f6bbbd48c"><span data-offset-key="827e8e739874423d9869e18f6bbbd48c:0">export const themes = {</span></span>

2

<span data-key="32c38ffce467434d9545abdd9c3268a9"><span data-offset-key="32c38ffce467434d9545abdd9c3268a9:0"> light: {</span></span>

3

<span data-key="d7b3762d66d6443cb680609309bda788"><span data-offset-key="d7b3762d66d6443cb680609309bda788:0"> foreground: '\#000000',</span></span>

4

<span data-key="5dbd4e29cf0747b49fd88f102088c724"><span data-offset-key="5dbd4e29cf0747b49fd88f102088c724:0"> background: '\#eeeeee',</span></span>

5

<span data-key="cd485135efc74edeb72e62bc7c426c08"><span data-offset-key="cd485135efc74edeb72e62bc7c426c08:0"> },</span></span>

6

<span data-key="3be9a570daee46eaa63993a50a31634d"><span data-offset-key="3be9a570daee46eaa63993a50a31634d:0"> dark: {</span></span>

7

<span data-key="99bf3a5a8523477f8ea244b0541e7c11"><span data-offset-key="99bf3a5a8523477f8ea244b0541e7c11:0"> foreground: '\#ffffff',</span></span>

8

<span data-key="9ae2e12547844123bd87277ff53bd09c"><span data-offset-key="9ae2e12547844123bd87277ff53bd09c:0"> background: '\#222222',</span></span>

9

<span data-key="36c11f70afcc46d5ba3b8f0912b6e01c"><span data-offset-key="36c11f70afcc46d5ba3b8f0912b6e01c:0"> },</span></span>

10

<span data-key="b47d3df2298741d0b3b855e7ce1b21b9"><span data-offset-key="b47d3df2298741d0b3b855e7ce1b21b9:0">};</span></span>

11

<span data-key="443ba1ab3dda4bd6be62bf424f5c5a91"><span data-offset-key="443ba1ab3dda4bd6be62bf424f5c5a91:0"><span data-slate-zero-width="n">​</span></span></span>

12

<span data-key="7ef47fde6d5c4639bade2b805c8c1392"><span data-offset-key="7ef47fde6d5c4639bade2b805c8c1392:0">export const ThemeContext = React.createContext( themes.dark // default value);</span></span>

Copied!

<span data-key="89e7d2c9776f42899c356fc01f28370b"><span data-offset-key="89e7d2c9776f42899c356fc01f28370b:0"><span class="css-901oao css-16my406 r-b88u0q">themed-button.js</span></span></span>

1

<span data-key="c11f336135804d1f93b898ff1d15f992"><span data-offset-key="c11f336135804d1f93b898ff1d15f992:0">import {ThemeContext} from './theme-context';</span></span>

2

<span data-key="e28f0de9ebc6423594d905236c0ed7e9"><span data-offset-key="e28f0de9ebc6423594d905236c0ed7e9:0"><span data-slate-zero-width="n">​</span></span></span>

3

<span data-key="e4fa728486754991b1a53cdbc0b677a6"><span data-offset-key="e4fa728486754991b1a53cdbc0b677a6:0">class ThemedButton extends React.Component {</span></span>

4

<span data-key="75304361a2f54ee79a58d11c67780b4d"><span data-offset-key="75304361a2f54ee79a58d11c67780b4d:0"> render() {</span></span>

5

<span data-key="46d76143f951461e8c90f8a7b223e79d"><span data-offset-key="46d76143f951461e8c90f8a7b223e79d:0"> let props = this.props;</span></span>

6

<span data-key="84f348c2819c4b02808673dee893cbff"><span data-offset-key="84f348c2819c4b02808673dee893cbff:0"> let theme = this.context; return (</span></span>

7

<span data-key="1918466e92574dcab92ac64dca2af1e7"><span data-offset-key="1918466e92574dcab92ac64dca2af1e7:0"> &lt;button</span></span>

8

<span data-key="218e203b9d5543e0abaed89a2a088f24"><span data-offset-key="218e203b9d5543e0abaed89a2a088f24:0"> {...props}style={{backgroundColor: theme.background}}/&gt;);</span></span>

9

<span data-key="fb25f25b50ba4da488948c0d2206a52c"><span data-offset-key="fb25f25b50ba4da488948c0d2206a52c:0"> }</span></span>

10

<span data-key="7ba91945de9c44bab31c0db360d3645f"><span data-offset-key="7ba91945de9c44bab31c0db360d3645f:0">}</span></span>

11

<span data-key="03d267f1245147d1be62c3efd4f89c69"><span data-offset-key="03d267f1245147d1be62c3efd4f89c69:0">ThemedButton.contextType = ThemeContext;export default ThemedButton;</span></span>

Copied!

<span data-key="2cc276a6e1e844c5aa96e3630b783349"><span data-offset-key="2cc276a6e1e844c5aa96e3630b783349:0"><span class="css-901oao css-16my406 r-b88u0q">app.js</span></span></span>

1

<span data-key="1659b3c1aec84fd58c421ca0d00e86a6"><span data-offset-key="1659b3c1aec84fd58c421ca0d00e86a6:0">import {ThemeContext, themes} from './theme-context';</span></span>

2

<span data-key="b0450085ff9e4c1082265da0122ab77b"><span data-offset-key="b0450085ff9e4c1082265da0122ab77b:0">import ThemedButton from './themed-button';</span></span>

3

<span data-key="7b86d34c1a1c475ba402b2ad11550da1"><span data-offset-key="7b86d34c1a1c475ba402b2ad11550da1:0"><span data-slate-zero-width="n">​</span></span></span>

4

<span data-key="6a9bd967c3a94b0fa7db65e9ca04cd25"><span data-offset-key="6a9bd967c3a94b0fa7db65e9ca04cd25:0">// An intermediate component that uses the ThemedButton</span></span>

5

<span data-key="bcedcde2280349d3b5bb1b002dbbedde"><span data-offset-key="bcedcde2280349d3b5bb1b002dbbedde:0">function Toolbar(props) {</span></span>

6

<span data-key="9dcb999fbff9439883706016b5f2c7b3"><span data-offset-key="9dcb999fbff9439883706016b5f2c7b3:0"> return (</span></span>

7

<span data-key="37dd034f141c4b18aa4ef7e163a9d863"><span data-offset-key="37dd034f141c4b18aa4ef7e163a9d863:0"> &lt;ThemedButton onClick={props.changeTheme}&gt; Change Theme</span></span>

8

<span data-key="2c0dfaa6fb824ee9ac0c129f2bd222bb"><span data-offset-key="2c0dfaa6fb824ee9ac0c129f2bd222bb:0"> &lt;/ThemedButton&gt;);</span></span>

9

<span data-key="0065f881ea3840deaf1e0aa0d7cbaca3"><span data-offset-key="0065f881ea3840deaf1e0aa0d7cbaca3:0">}</span></span>

10

<span data-key="509d21a3f277487bb8cbc2ee8c53c691"><span data-offset-key="509d21a3f277487bb8cbc2ee8c53c691:0"><span data-slate-zero-width="n">​</span></span></span>

11

<span data-key="7169dcadf65e4d82b526d9f7e680bc75"><span data-offset-key="7169dcadf65e4d82b526d9f7e680bc75:0">class App extends React.Component {</span></span>

12

<span data-key="9893815e8b7c408083359ca0ba7e934c"><span data-offset-key="9893815e8b7c408083359ca0ba7e934c:0"> constructor(props) {</span></span>

13

<span data-key="6fabca89505044879774164e3c810dc8"><span data-offset-key="6fabca89505044879774164e3c810dc8:0"> super(props);</span></span>

14

<span data-key="8ca67bc83bd140e3a809724b1430e175"><span data-offset-key="8ca67bc83bd140e3a809724b1430e175:0"> this.state = {</span></span>

15

<span data-key="534266a3fa8348bbaa8c7206692f745f"><span data-offset-key="534266a3fa8348bbaa8c7206692f745f:0"> theme: themes.light,</span></span>

16

<span data-key="55656aba69e14504bc04f0cffd534df2"><span data-offset-key="55656aba69e14504bc04f0cffd534df2:0"> };</span></span>

17

<span data-key="2e31c3b638cb4252942d6adf27af6eb0"><span data-offset-key="2e31c3b638cb4252942d6adf27af6eb0:0"><span data-slate-zero-width="n">​</span></span></span>

18

<span data-key="bb0d980a6cd34ef2a2420f5a2125f9f4"><span data-offset-key="bb0d980a6cd34ef2a2420f5a2125f9f4:0"> this.toggleTheme = () =&gt; {</span></span>

19

<span data-key="64b8f1a1127147c6b777a7fa17004eea"><span data-offset-key="64b8f1a1127147c6b777a7fa17004eea:0"> this.setState(state =&gt; ({</span></span>

20

<span data-key="07151aa20cf84b8194120a7f9127a7c9"><span data-offset-key="07151aa20cf84b8194120a7f9127a7c9:0"> theme:</span></span>

21

<span data-key="084d20355c1543bf91745f806466e5e8"><span data-offset-key="084d20355c1543bf91745f806466e5e8:0"> state.theme === themes.dark</span></span>

22

<span data-key="23966908b77b485280e111381acb5f6e"><span data-offset-key="23966908b77b485280e111381acb5f6e:0"> ? themes.light</span></span>

23

<span data-key="a689c7b9c60245bb9d7e3a074bfbfeb5"><span data-offset-key="a689c7b9c60245bb9d7e3a074bfbfeb5:0"> : themes.dark,</span></span>

24

<span data-key="31f2826d90e049b08f0f8387390af9d7"><span data-offset-key="31f2826d90e049b08f0f8387390af9d7:0"> }));</span></span>

25

<span data-key="d26530dc4f354d268e3caa4f46c29c30"><span data-offset-key="d26530dc4f354d268e3caa4f46c29c30:0"> };</span></span>

26

<span data-key="df61f8b949a64ff68ad0c44cde4dbd73"><span data-offset-key="df61f8b949a64ff68ad0c44cde4dbd73:0"> }</span></span>

27

<span data-key="ccc10527491a40cca457d927758a8d36"><span data-offset-key="ccc10527491a40cca457d927758a8d36:0"><span data-slate-zero-width="n">​</span></span></span>

28

<span data-key="f712d3d947774e74aae88bef673f6ca0"><span data-offset-key="f712d3d947774e74aae88bef673f6ca0:0"> render() {</span></span>

29

<span data-key="fbaa8deda0f541a088fdf369cb68e42a"><span data-offset-key="fbaa8deda0f541a088fdf369cb68e42a:0"> // The ThemedButton button inside the ThemeProvider // uses the theme from state while the one outside uses // the default dark theme return (</span></span>

30

<span data-key="26aa0c40bb36435287fa15852b534c11"><span data-offset-key="26aa0c40bb36435287fa15852b534c11:0"> &lt;Page&gt; &lt;ThemeContext.Provider value={this.state.theme}&gt; &lt;Toolbar changeTheme={this.toggleTheme} /&gt; &lt;/ThemeContext.Provider&gt; &lt;Section&gt; &lt;ThemedButton /&gt; &lt;/Section&gt; &lt;/Page&gt;);</span></span>

31

<span data-key="261e49e7cc194e42be3a60b66377d11f"><span data-offset-key="261e49e7cc194e42be3a60b66377d11f:0"> }</span></span>

32

<span data-key="6976d834a4da4b6fa6025beb476db8d7"><span data-offset-key="6976d834a4da4b6fa6025beb476db8d7:0">}</span></span>

33

<span data-key="04543f323c1349b0ae0ac6761b65df7d"><span data-offset-key="04543f323c1349b0ae0ac6761b65df7d:0"><span data-slate-zero-width="n">​</span></span></span>

34

<span data-key="c99749462ec34b60be12511b85848fc6"><span data-offset-key="c99749462ec34b60be12511b85848fc6:0">ReactDOM.render(&lt;App /&gt;, document.root);</span></span>

Copied!

<span data-key="a96757f77e2544b098ccb125c21c6332"><span data-offset-key="a96757f77e2544b098ccb125c21c6332:0">Updating Context from a Nested Component</span></span>

<span data-key="70a4bb8243ed46f3a55755ebc8840c90"><span data-offset-key="70a4bb8243ed46f3a55755ebc8840c90:0">It is often necessary to update the context from a component that is nested somewhere deeply in the component tree. In this case you can pass a function down through the context to allow consumers to update the context:</span></span>

<span data-key="b030bbfcd2594c109c72b6485d70b8ff"><span data-offset-key="b030bbfcd2594c109c72b6485d70b8ff:0"><span class="css-901oao css-16my406 r-b88u0q">theme-context.js</span></span></span>

1

<span data-key="b047b26ae91f4109b6fd66ad7f36e68a"><span data-offset-key="b047b26ae91f4109b6fd66ad7f36e68a:0">// Make sure the shape of the default value passed to</span></span>

2

<span data-key="96ff2bdb38ca4989bd0e68bc51bdfa3b"><span data-offset-key="96ff2bdb38ca4989bd0e68bc51bdfa3b:0">// createContext matches the shape that the consumers expect!</span></span>

3

<span data-key="f04203bcb8f7441391606371a9db2561"><span data-offset-key="f04203bcb8f7441391606371a9db2561:0">export const ThemeContext = React.createContext({</span></span>

4

<span data-key="68d96a31557b4d38b9534b2ba8d17446"><span data-offset-key="68d96a31557b4d38b9534b2ba8d17446:0"> theme: themes.dark, toggleTheme: () =&gt; {},});</span></span>

Copied!

<span data-key="81136d93b09c49b99fd79b41514b6e54"><span data-offset-key="81136d93b09c49b99fd79b41514b6e54:0"><span class="css-901oao css-16my406 r-b88u0q">theme-toggler-button.js</span></span></span>

1

<span data-key="d9ac9baac557441eb11f0aaba7d3a0b8"><span data-offset-key="d9ac9baac557441eb11f0aaba7d3a0b8:0">import {ThemeContext} from './theme-context';</span></span>

2

<span data-key="729c094e0cd840f49dfb7c10e6c95488"><span data-offset-key="729c094e0cd840f49dfb7c10e6c95488:0"><span data-slate-zero-width="n">​</span></span></span>

3

<span data-key="2ee0a8993fbf4afbb2efe3df49fbf844"><span data-offset-key="2ee0a8993fbf4afbb2efe3df49fbf844:0">function ThemeTogglerButton() {</span></span>

4

<span data-key="79f6136af21847be864987fb36e7349c"><span data-offset-key="79f6136af21847be864987fb36e7349c:0"> // The Theme Toggler Button receives not only the theme // but also a toggleTheme function from the context return (</span></span>

5

<span data-key="bc0c85c1c14b4213bf61e8a3d0c44e6e"><span data-offset-key="bc0c85c1c14b4213bf61e8a3d0c44e6e:0"> &lt;ThemeContext.Consumer&gt; {({theme, toggleTheme}) =&gt; ( &lt;button</span></span>

6

<span data-key="bc6fe6c2b7dc4c7e806eb7dda656f781"><span data-offset-key="bc6fe6c2b7dc4c7e806eb7dda656f781:0"> onClick={toggleTheme}style={{backgroundColor: theme.background}}&gt; Toggle Theme</span></span>

7

<span data-key="4cd592b25bfa4556a2a08ac146a84a8a"><span data-offset-key="4cd592b25bfa4556a2a08ac146a84a8a:0"> &lt;/button&gt;)}</span></span>

8

<span data-key="3c918cb4a9584104a725e70711dbb8f0"><span data-offset-key="3c918cb4a9584104a725e70711dbb8f0:0"> &lt;/ThemeContext.Consumer&gt;);</span></span>

9

<span data-key="3987c078cb564609a5699f613d1873f0"><span data-offset-key="3987c078cb564609a5699f613d1873f0:0">}</span></span>

10

<span data-key="d733faddef4b48bcb8e754f74d6eb017"><span data-offset-key="d733faddef4b48bcb8e754f74d6eb017:0"><span data-slate-zero-width="n">​</span></span></span>

11

<span data-key="9bcd6bdcc73f4daf81df74459409defb"><span data-offset-key="9bcd6bdcc73f4daf81df74459409defb:0">export default ThemeTogglerButton;</span></span>

Copied!

<span data-key="163431d7bf084c05a0a51ab5a8461381"><span data-offset-key="163431d7bf084c05a0a51ab5a8461381:0"><span class="css-901oao css-16my406 r-b88u0q">app.js</span></span></span>

1

<span data-key="b267b0838ed84b56a6cf72790b89e466"><span data-offset-key="b267b0838ed84b56a6cf72790b89e466:0">import {ThemeContext, themes} from './theme-context';</span></span>

2

<span data-key="ad095bbfafda47f9af0d6b0d5cd1a967"><span data-offset-key="ad095bbfafda47f9af0d6b0d5cd1a967:0">import ThemeTogglerButton from './theme-toggler-button';</span></span>

3

<span data-key="c95d47f5217c45dcbeb9c7374fc4fe70"><span data-offset-key="c95d47f5217c45dcbeb9c7374fc4fe70:0"><span data-slate-zero-width="n">​</span></span></span>

4

<span data-key="feee440a12fc4b49bf494021aec3d373"><span data-offset-key="feee440a12fc4b49bf494021aec3d373:0">class App extends React.Component {</span></span>

5

<span data-key="1007fdb0b20b4dbf8f0ff619649e91ba"><span data-offset-key="1007fdb0b20b4dbf8f0ff619649e91ba:0"> constructor(props) {</span></span>

6

<span data-key="54a39d13c4834958b7fc612f9c95bfcd"><span data-offset-key="54a39d13c4834958b7fc612f9c95bfcd:0"> super(props);</span></span>

7

<span data-key="abd4cb04f5a04fb0ba44a616b50695db"><span data-offset-key="abd4cb04f5a04fb0ba44a616b50695db:0"><span data-slate-zero-width="n">​</span></span></span>

8

<span data-key="02837d0eaec44a0ba996b6b2d9d0492d"><span data-offset-key="02837d0eaec44a0ba996b6b2d9d0492d:0"> this.toggleTheme = () =&gt; {</span></span>

9

<span data-key="a24fef1cf807420dbe3cdbe44b81d264"><span data-offset-key="a24fef1cf807420dbe3cdbe44b81d264:0"> this.setState(state =&gt; ({</span></span>

10

<span data-key="545904a05d164c2ca0df9da7a5489d8a"><span data-offset-key="545904a05d164c2ca0df9da7a5489d8a:0"> theme:</span></span>

11

<span data-key="8e48742b86b44be7ac68979a027c1fcd"><span data-offset-key="8e48742b86b44be7ac68979a027c1fcd:0"> state.theme === themes.dark</span></span>

12

<span data-key="68694cd2d2794db698d8728305dd90de"><span data-offset-key="68694cd2d2794db698d8728305dd90de:0"> ? themes.light</span></span>

13

<span data-key="d8291ce66076496e93126c423add111e"><span data-offset-key="d8291ce66076496e93126c423add111e:0"> : themes.dark,</span></span>

14

<span data-key="b414adf3568743f8928878c7f863e2e5"><span data-offset-key="b414adf3568743f8928878c7f863e2e5:0"> }));</span></span>

15

<span data-key="a4ac0c1116fb4fd79e991c6ad1b01f9d"><span data-offset-key="a4ac0c1116fb4fd79e991c6ad1b01f9d:0"> };</span></span>

16

<span data-key="890db2943899464c9327054ae268c3f6"><span data-offset-key="890db2943899464c9327054ae268c3f6:0"><span data-slate-zero-width="n">​</span></span></span>

17

<span data-key="6accf14e81bd4749a4ddc820f9af4852"><span data-offset-key="6accf14e81bd4749a4ddc820f9af4852:0"> // State also contains the updater function so it will // be passed down into the context provider this.state = {</span></span>

18

<span data-key="fa2979292ea34abbb7c92d1d1f069e10"><span data-offset-key="fa2979292ea34abbb7c92d1d1f069e10:0"> theme: themes.light,</span></span>

19

<span data-key="9eefe23b16aa487d91685c88836e4c03"><span data-offset-key="9eefe23b16aa487d91685c88836e4c03:0"> toggleTheme: this.toggleTheme, };</span></span>

20

<span data-key="379d62f8525840f3b845d1e0599b00f1"><span data-offset-key="379d62f8525840f3b845d1e0599b00f1:0"> }</span></span>

21

<span data-key="3ad4cf3265704bfc9685672defbd0267"><span data-offset-key="3ad4cf3265704bfc9685672defbd0267:0"><span data-slate-zero-width="n">​</span></span></span>

22

<span data-key="cf7ec87260554c7e9f3001ea167e8ef1"><span data-offset-key="cf7ec87260554c7e9f3001ea167e8ef1:0"> render() {</span></span>

23

<span data-key="d4a7efb226bd44da982cb449d884e99c"><span data-offset-key="d4a7efb226bd44da982cb449d884e99c:0"> // The entire state is passed to the provider return (</span></span>

24

<span data-key="0f11fe0dbaf74748a33dbdd14a567766"><span data-offset-key="0f11fe0dbaf74748a33dbdd14a567766:0"> &lt;ThemeContext.Provider value={this.state}&gt; &lt;Content /&gt; &lt;/ThemeContext.Provider&gt;);</span></span>

25

<span data-key="f5e1a045ff3b471ba518630a46132f2d"><span data-offset-key="f5e1a045ff3b471ba518630a46132f2d:0"> }</span></span>

26

<span data-key="579388084d93406a87fbd5010ec60ea9"><span data-offset-key="579388084d93406a87fbd5010ec60ea9:0">}</span></span>

27

<span data-key="2853f36390934df59e63e33695323b27"><span data-offset-key="2853f36390934df59e63e33695323b27:0"><span data-slate-zero-width="n">​</span></span></span>

28

<span data-key="29c4b9c6d3204d90bf2d10ece0f88626"><span data-offset-key="29c4b9c6d3204d90bf2d10ece0f88626:0">function Content() {</span></span>

29

<span data-key="a536f36fc9164134a502a73218d9b16f"><span data-offset-key="a536f36fc9164134a502a73218d9b16f:0"> return (</span></span>

30

<span data-key="fd2d522e6210401e98e7f04dbb087077"><span data-offset-key="fd2d522e6210401e98e7f04dbb087077:0"> &lt;div&gt; &lt;ThemeTogglerButton /&gt; &lt;/div&gt;);</span></span>

31

<span data-key="d62639f1bd344973a3f76aad20487a19"><span data-offset-key="d62639f1bd344973a3f76aad20487a19:0">}</span></span>

32

<span data-key="77fb78c32d6c423a9cc667e99f53ab77"><span data-offset-key="77fb78c32d6c423a9cc667e99f53ab77:0"><span data-slate-zero-width="n">​</span></span></span>

33

<span data-key="fa6116ad5f6a40b2b791c59c90c0346c"><span data-offset-key="fa6116ad5f6a40b2b791c59c90c0346c:0">ReactDOM.render(&lt;App /&gt;, document.root);</span></span>

Copied!

<span data-key="e7ce5c46823749cd96ceb9d4275563b6"><span data-offset-key="e7ce5c46823749cd96ceb9d4275563b6:0">Consuming Multiple Contexts</span></span>

<span data-key="5fdf4d51b289428fb0be5894e3245072"><span data-offset-key="5fdf4d51b289428fb0be5894e3245072:0">To keep context re-rendering fast, React needs to make each context consumer a separate node in the tree.</span></span>

1

<span data-key="d3253d803a2e4806befdc570cf398ccf"><span data-offset-key="d3253d803a2e4806befdc570cf398ccf:0">// Theme context, default to light theme</span></span>

2

<span data-key="bf0d1fef2c0148b4a8c3145b7fab729a"><span data-offset-key="bf0d1fef2c0148b4a8c3145b7fab729a:0">const ThemeContext = React.createContext('light');</span></span>

3

<span data-key="a4402a15f6784c2e9c77cf4b539e776a"><span data-offset-key="a4402a15f6784c2e9c77cf4b539e776a:0"><span data-slate-zero-width="n">​</span></span></span>

4

<span data-key="55ff5ec0f5b34a34a23d93dacc11df01"><span data-offset-key="55ff5ec0f5b34a34a23d93dacc11df01:0">// Signed-in user context</span></span>

5

<span data-key="018d566dc542431da33c700020a9dc16"><span data-offset-key="018d566dc542431da33c700020a9dc16:0">const UserContext = React.createContext({</span></span>

6

<span data-key="f015ce3399674d7495be88c02a0b3ef7"><span data-offset-key="f015ce3399674d7495be88c02a0b3ef7:0"> name: 'Guest',</span></span>

7

<span data-key="2ad8af6e49644b7faf85e24e40dcf0ee"><span data-offset-key="2ad8af6e49644b7faf85e24e40dcf0ee:0">});</span></span>

8

<span data-key="7bb2eae8ff894c2abbf599827c251f73"><span data-offset-key="7bb2eae8ff894c2abbf599827c251f73:0"><span data-slate-zero-width="n">​</span></span></span>

9

<span data-key="df9544d5f84e4138a6f21193a654984c"><span data-offset-key="df9544d5f84e4138a6f21193a654984c:0">class App extends React.Component {</span></span>

10

<span data-key="027aea79e91c429f8fad8f4168f39630"><span data-offset-key="027aea79e91c429f8fad8f4168f39630:0"> render() {</span></span>

11

<span data-key="61e25c523342407a9304ebfc41d752b7"><span data-offset-key="61e25c523342407a9304ebfc41d752b7:0"> const {signedInUser, theme} = this.props;</span></span>

12

<span data-key="9ae04075786f426ab15be6747462ef5f"><span data-offset-key="9ae04075786f426ab15be6747462ef5f:0"><span data-slate-zero-width="n">​</span></span></span>

13

<span data-key="09f9b7fbbb19431db3f4d7193daeed74"><span data-offset-key="09f9b7fbbb19431db3f4d7193daeed74:0"> // App component that provides initial context values</span></span>

14

<span data-key="5fa89fe3cb224329a174df12cf35341f"><span data-offset-key="5fa89fe3cb224329a174df12cf35341f:0"> return (</span></span>

15

<span data-key="e1e8c1a0534845bb9abf6c188384a46c"><span data-offset-key="e1e8c1a0534845bb9abf6c188384a46c:0"> &lt;ThemeContext.Provider value={theme}&gt; &lt;UserContext.Provider value={signedInUser}&gt; &lt;Layout /&gt; &lt;/UserContext.Provider&gt; &lt;/ThemeContext.Provider&gt; );</span></span>

16

<span data-key="772c4151c7f4414f99cfafb490641975"><span data-offset-key="772c4151c7f4414f99cfafb490641975:0"> }</span></span>

17

<span data-key="6a6b144978b14712804450d283e6f261"><span data-offset-key="6a6b144978b14712804450d283e6f261:0">}</span></span>

18

<span data-key="a6f7eb86cd1d476bb10069d641285bd9"><span data-offset-key="a6f7eb86cd1d476bb10069d641285bd9:0"><span data-slate-zero-width="n">​</span></span></span>

19

<span data-key="5067d87f7f944a8aa5f41f15a121324c"><span data-offset-key="5067d87f7f944a8aa5f41f15a121324c:0">function Layout() {</span></span>

20

<span data-key="8a67b1e7493440948c9cbd36c3e940b3"><span data-offset-key="8a67b1e7493440948c9cbd36c3e940b3:0"> return (</span></span>

21

<span data-key="a5186d40dbf248b8b8e402e1fc21553e"><span data-offset-key="a5186d40dbf248b8b8e402e1fc21553e:0"> &lt;div&gt; &lt;Sidebar /&gt; &lt;Content /&gt; &lt;/div&gt;);</span></span>

22

<span data-key="c6d2f7ca01f74649a4c4dc5f2ec1d7f8"><span data-offset-key="c6d2f7ca01f74649a4c4dc5f2ec1d7f8:0">}</span></span>

23

<span data-key="0bec4d4d74564d6b9366b81cd92fde5a"><span data-offset-key="0bec4d4d74564d6b9366b81cd92fde5a:0"><span data-slate-zero-width="n">​</span></span></span>

24

<span data-key="5252ca63a0db48b1b57828d2b61c3b9b"><span data-offset-key="5252ca63a0db48b1b57828d2b61c3b9b:0">// A component may consume multiple contexts</span></span>

25

<span data-key="9b370cd2ed9a4665b1e254d97478e890"><span data-offset-key="9b370cd2ed9a4665b1e254d97478e890:0">function Content() {</span></span>

26

<span data-key="3ab002272c2d4ae7838115faca087415"><span data-offset-key="3ab002272c2d4ae7838115faca087415:0"> return (</span></span>

27

<span data-key="dc9b599b0e694c299340c279c81146f5"><span data-offset-key="dc9b599b0e694c299340c279c81146f5:0"> &lt;ThemeContext.Consumer&gt; {theme =&gt; ( &lt;UserContext.Consumer&gt; {user =&gt; ( &lt;ProfilePage user={user} theme={theme} /&gt; )} &lt;/UserContext.Consumer&gt; )} &lt;/ThemeContext.Consumer&gt; );</span></span>

28

<span data-key="58f2c7f09dd04b1481b1fddc318c732c"><span data-offset-key="58f2c7f09dd04b1481b1fddc318c732c:0">}</span></span>

Copied!

<span data-key="4f0168bdd1e94bc4925e5d2f722a5902"><span data-offset-key="4f0168bdd1e94bc4925e5d2f722a5902:0">If two or more context values are often used together, you might want to consider creating your own render prop component that provides both.</span></span>

<span data-key="0a24b4b031f3487288c7c4168863fd4a"><span data-offset-key="0a24b4b031f3487288c7c4168863fd4a:0">Caveats</span></span>

<span data-key="9f076a17c34344f9a126294820ea38f8"><span data-offset-key="9f076a17c34344f9a126294820ea38f8:0">Because context uses reference identity to determine when to re-render, there are some gotchas that could trigger unintentional renders in consumers when a provider’s parent re-renders. For example, the code below will re-render all consumers every time the Provider re-renders because a new object is always created for </span><span data-offset-key="9f076a17c34344f9a126294820ea38f8:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">value</span></span><span data-offset-key="9f076a17c34344f9a126294820ea38f8:2">:</span></span>

1

<span data-key="ae2aa890523041b19204764614c71149"><span data-offset-key="ae2aa890523041b19204764614c71149:0">class App extends React.Component {</span></span>

2

<span data-key="cafd1b5ebb914e2cbb3364050ba64b06"><span data-offset-key="cafd1b5ebb914e2cbb3364050ba64b06:0"> render() {</span></span>

3

<span data-key="4f35fdde9c404c7e8c8fc97b5a801b78"><span data-offset-key="4f35fdde9c404c7e8c8fc97b5a801b78:0"> return (</span></span>

4

<span data-key="63d5342d0f634d589ad5bd5e96517ee3"><span data-offset-key="63d5342d0f634d589ad5bd5e96517ee3:0"> &lt;MyContext.Provider value={{something: 'something'}}&gt; &lt;Toolbar /&gt; &lt;/MyContext.Provider&gt;);</span></span>

5

<span data-key="929252a6a9bf46358339dda7bd4f9851"><span data-offset-key="929252a6a9bf46358339dda7bd4f9851:0"> }</span></span>

6

<span data-key="442b723217fe43d6af3583f903ae6d36"><span data-offset-key="442b723217fe43d6af3583f903ae6d36:0">}</span></span>

Copied!

<span data-key="9e8a9d8d678147e3be4051e395023540"><span data-offset-key="9e8a9d8d678147e3be4051e395023540:0">To get around this, lift the value into the parent’s state:</span></span>

1

<span data-key="aa97344e2e204e5ca1b145381e336cb5"><span data-offset-key="aa97344e2e204e5ca1b145381e336cb5:0">class App extends React.Component {</span></span>

2

<span data-key="211d62ef67b5424bb650f7b60a139e09"><span data-offset-key="211d62ef67b5424bb650f7b60a139e09:0"> constructor(props) {</span></span>

3

<span data-key="827fc3a83e914946ae266e3d25cd4ce5"><span data-offset-key="827fc3a83e914946ae266e3d25cd4ce5:0"> super(props);</span></span>

4

<span data-key="aa7e5c15160344a5989df7318ab82eae"><span data-offset-key="aa7e5c15160344a5989df7318ab82eae:0"> this.state = {</span></span>

5

<span data-key="f038d0eb20de4043a0f3954e8229b485"><span data-offset-key="f038d0eb20de4043a0f3954e8229b485:0"> value: {something: 'something'}, };</span></span>

6

<span data-key="d46fbb2d50d84bd0a63086b9d8d3ceaf"><span data-offset-key="d46fbb2d50d84bd0a63086b9d8d3ceaf:0"> }</span></span>

7

<span data-key="3968269bb6df45b782165f68f3b3ddad"><span data-offset-key="3968269bb6df45b782165f68f3b3ddad:0"><span data-slate-zero-width="n">​</span></span></span>

8

<span data-key="0b81fee48f324e0e8a47add8cf791875"><span data-offset-key="0b81fee48f324e0e8a47add8cf791875:0"> render() {</span></span>

9

<span data-key="6185afda41ff46fc9ed64a5b7e5d6a3a"><span data-offset-key="6185afda41ff46fc9ed64a5b7e5d6a3a:0"> return (</span></span>

10

<span data-key="839c181cbfe24fcf9528ca4b155ff9c6"><span data-offset-key="839c181cbfe24fcf9528ca4b155ff9c6:0"> &lt;MyContext.Provider value={this.state.value}&gt; &lt;Toolbar /&gt; &lt;/MyContext.Provider&gt;);</span></span>

11

<span data-key="8a08f9d61e5646ac881302cdeefa8d47"><span data-offset-key="8a08f9d61e5646ac881302cdeefa8d47:0"> }</span></span>

12

<span data-key="ba95722a5b524f549b9f8b7ada5425f7"><span data-offset-key="ba95722a5b524f549b9f8b7ada5425f7:0">}</span></span>

Copied!

<span data-key="a97c5351b6964cccafec9962fa7e4938"><span data-offset-key="a97c5351b6964cccafec9962fa7e4938:0">Legacy API</span></span>

<span data-key="55b3df2001f9468f90e70c68ca396cb2"><span data-offset-key="55b3df2001f9468f90e70c68ca396cb2:0">NoteReact previously shipped with an experimental context API. The old API will be supported in all 16.x releases, but applications using it should migrate to the new version. The legacy API will be removed in a future major React version. Read the legacy context docs here.</span></span>

<span data-key="6b9260cd9f454c96986550338823f239"><span data-offset-key="6b9260cd9f454c96986550338823f239:0"><span class="css-901oao css-16my406 r-b88u0q">Fragments</span></span></span>

<span data-key="4d5e6747ca614e689f22a78d2c2d05bf"><span data-offset-key="4d5e6747ca614e689f22a78d2c2d05bf:0">A common pattern in React is for a component to return multiple elements. Fragments let you group a list of children without adding extra nodes to the DOM.</span></span>

1

<span data-key="146176723601400c9d91c639b87b972c"><span data-offset-key="146176723601400c9d91c639b87b972c:0">render() {</span></span>

2

<span data-key="682e7cbdf09249998d1ed7b3b319d242"><span data-offset-key="682e7cbdf09249998d1ed7b3b319d242:0"> return (</span></span>

3

<span data-key="61f14ad82e8a43489539f3a8ee87f288"><span data-offset-key="61f14ad82e8a43489539f3a8ee87f288:0"> &lt;React.Fragment&gt;</span></span>

4

<span data-key="fab815416da542979940328030e4d6a5"><span data-offset-key="fab815416da542979940328030e4d6a5:0"> &lt;ChildA /&gt;</span></span>

5

<span data-key="362fb28dca4a44eaaa073ecce3b2849e"><span data-offset-key="362fb28dca4a44eaaa073ecce3b2849e:0"> &lt;ChildB /&gt;</span></span>

6

<span data-key="53e4981825064a11b4b2ac2128357fcc"><span data-offset-key="53e4981825064a11b4b2ac2128357fcc:0"> &lt;ChildC /&gt;</span></span>

7

<span data-key="f02edafa68794c1f8537ffdce640d807"><span data-offset-key="f02edafa68794c1f8537ffdce640d807:0"> &lt;/React.Fragment&gt;);</span></span>

8

<span data-key="aabaa21b101f4582b90d12c6458f8783"><span data-offset-key="aabaa21b101f4582b90d12c6458f8783:0">}</span></span>

Copied!

<span data-key="8cec42bd2ce0446fa4512d44fb4c8287"><span data-offset-key="8cec42bd2ce0446fa4512d44fb4c8287:0">There is also a new </span></span><a href="https://reactjs.org/docs/fragments.html#short-syntax" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="de910f57c4ae4d049bc635bb02b862e3"><span data-offset-key="de910f57c4ae4d049bc635bb02b862e3:0">short syntax</span></span></span></a><span data-key="7de0cd16b3ac4997b12f8a70de301381"><span data-offset-key="7de0cd16b3ac4997b12f8a70de301381:0"> for declaring them.</span></span>

<span data-key="15b6e790cd5d48ecb6dce0c0ed9cec67"><span data-offset-key="15b6e790cd5d48ecb6dce0c0ed9cec67:0">Motivation</span></span>

<span data-key="9fa2c3603d64473b8220d71a055f796a"><span data-offset-key="9fa2c3603d64473b8220d71a055f796a:0">A common pattern is for a component to return a list of children. Take this example React snippet:</span></span>

1

<span data-key="ea18efb9f3ed4278b3026d686857afc5"><span data-offset-key="ea18efb9f3ed4278b3026d686857afc5:0">class Table extends React.Component {</span></span>

2

<span data-key="c78ebc6d657c43af8d4248a2bddb1073"><span data-offset-key="c78ebc6d657c43af8d4248a2bddb1073:0"> render() {</span></span>

3

<span data-key="20aea01338fe400486248a91fa0910b1"><span data-offset-key="20aea01338fe400486248a91fa0910b1:0"> return (</span></span>

4

<span data-key="34e1a39cfb1a428ba0c1d59a95cb170a"><span data-offset-key="34e1a39cfb1a428ba0c1d59a95cb170a:0"> &lt;table&gt;</span></span>

5

<span data-key="3b5e00a0c9014e80b1c61ed0a70d47f5"><span data-offset-key="3b5e00a0c9014e80b1c61ed0a70d47f5:0"> &lt;tr&gt;</span></span>

6

<span data-key="59cbea9800914d178f692d054e391c47"><span data-offset-key="59cbea9800914d178f692d054e391c47:0"> &lt;Columns /&gt;</span></span>

7

<span data-key="2c1fc8db933045c28d780dc511b5ec52"><span data-offset-key="2c1fc8db933045c28d780dc511b5ec52:0"> &lt;/tr&gt;</span></span>

8

<span data-key="c98711b4c5614ea4bf502ba098069358"><span data-offset-key="c98711b4c5614ea4bf502ba098069358:0"> &lt;/table&gt;);</span></span>

9

<span data-key="0ec9ca6f8f7743638451d3c8129e7d82"><span data-offset-key="0ec9ca6f8f7743638451d3c8129e7d82:0"> }</span></span>

10

<span data-key="f87fcf2a3e5e4f7ab54d529549672f1e"><span data-offset-key="f87fcf2a3e5e4f7ab54d529549672f1e:0">}</span></span>

Copied!

<span data-key="a21b5bb66d1c40a1a83ed15e7abb318c"><span data-offset-key="a21b5bb66d1c40a1a83ed15e7abb318c:0"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">&lt;Columns /&gt;</span></span><span data-offset-key="a21b5bb66d1c40a1a83ed15e7abb318c:1"> would need to return multiple </span><span data-offset-key="a21b5bb66d1c40a1a83ed15e7abb318c:2"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">&lt;td&gt;</span></span><span data-offset-key="a21b5bb66d1c40a1a83ed15e7abb318c:3"> elements in order for the rendered HTML to be valid. If a parent div was used inside the </span><span data-offset-key="a21b5bb66d1c40a1a83ed15e7abb318c:4"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">render()</span></span><span data-offset-key="a21b5bb66d1c40a1a83ed15e7abb318c:5"> of </span><span data-offset-key="a21b5bb66d1c40a1a83ed15e7abb318c:6"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">&lt;Columns /&gt;</span></span><span data-offset-key="a21b5bb66d1c40a1a83ed15e7abb318c:7">, then the resulting HTML will be invalid.</span></span>

1

<span data-key="5181b7d7ce9c4c3c8b6b5c0cd0b0a18c"><span data-offset-key="5181b7d7ce9c4c3c8b6b5c0cd0b0a18c:0">class Columns extends React.Component {</span></span>

2

<span data-key="f56d027303a04dba9d8f03454ba71f2c"><span data-offset-key="f56d027303a04dba9d8f03454ba71f2c:0"> render() {</span></span>

3

<span data-key="2ca57c67209f42d1a66ac47732682d0a"><span data-offset-key="2ca57c67209f42d1a66ac47732682d0a:0"> return (</span></span>

4

<span data-key="a7a220b2fe8c43fa87e04db63c590d96"><span data-offset-key="a7a220b2fe8c43fa87e04db63c590d96:0"> &lt;div&gt;</span></span>

5

<span data-key="680537b0006945b49abbcedf10c74569"><span data-offset-key="680537b0006945b49abbcedf10c74569:0"> &lt;td&gt;Hello&lt;/td&gt;</span></span>

6

<span data-key="954020cbcece4995a1f0610055ea1d5c"><span data-offset-key="954020cbcece4995a1f0610055ea1d5c:0"> &lt;td&gt;World&lt;/td&gt;</span></span>

7

<span data-key="1c2ab56dd3f342578d2a90cff3459add"><span data-offset-key="1c2ab56dd3f342578d2a90cff3459add:0"> &lt;/div&gt;);</span></span>

8

<span data-key="9d1688a8a8d44bfeb7ab7466b503b2ba"><span data-offset-key="9d1688a8a8d44bfeb7ab7466b503b2ba:0"> }</span></span>

9

<span data-key="4feacb290e3d4c148dbed471456998d9"><span data-offset-key="4feacb290e3d4c148dbed471456998d9:0">}</span></span>

Copied!

<span data-key="8f04ff4da3f24304848c63c9960cf53f"><span data-offset-key="8f04ff4da3f24304848c63c9960cf53f:0">results in a </span><span data-offset-key="8f04ff4da3f24304848c63c9960cf53f:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">&lt;Table /&gt;</span></span><span data-offset-key="8f04ff4da3f24304848c63c9960cf53f:2"> output of:</span></span>

1

<span data-key="398d362c66644195b5426f639211a301"><span data-offset-key="398d362c66644195b5426f639211a301:0">&lt;table&gt;</span></span>

2

<span data-key="4b4ed138c8e746248b082d0561944175"><span data-offset-key="4b4ed138c8e746248b082d0561944175:0"> &lt;tr&gt;</span></span>

3

<span data-key="d7c922e2fa0c4e86a5377e0f90567095"><span data-offset-key="d7c922e2fa0c4e86a5377e0f90567095:0"> &lt;div&gt;</span></span>

4

<span data-key="eb2a5507fc334deaa23d90f922934a6c"><span data-offset-key="eb2a5507fc334deaa23d90f922934a6c:0"> &lt;td&gt;Hello&lt;/td&gt;</span></span>

5

<span data-key="47308b3d608b4b8bb01b30badc1042f3"><span data-offset-key="47308b3d608b4b8bb01b30badc1042f3:0"> &lt;td&gt;World&lt;/td&gt;</span></span>

6

<span data-key="47009ac284384857bc4b2f1fcadec3f8"><span data-offset-key="47009ac284384857bc4b2f1fcadec3f8:0"> &lt;/div&gt;</span></span>

7

<span data-key="abbe1c6df00a467cbbcb2ffe66732074"><span data-offset-key="abbe1c6df00a467cbbcb2ffe66732074:0"> &lt;/tr&gt;</span></span>

8

<span data-key="4e941951af374328905e1fd7c7426f0e"><span data-offset-key="4e941951af374328905e1fd7c7426f0e:0">&lt;/table&gt;</span></span>

Copied!

<span data-key="c2e8f0c252744ec9a35c5ec02bf97e28"><span data-offset-key="c2e8f0c252744ec9a35c5ec02bf97e28:0">Fragments solve this problem.</span></span>

<span data-key="247b9e271e94439bbc782eee705ba275"><span data-offset-key="247b9e271e94439bbc782eee705ba275:0">Usage</span></span>

1

<span data-key="df56fa7c90fd4c83a8eb44fe6ec9a67c"><span data-offset-key="df56fa7c90fd4c83a8eb44fe6ec9a67c:0">class Columns extends React.Component {</span></span>

2

<span data-key="0c35dbd3ff5340078ecb09fd3aa2fff1"><span data-offset-key="0c35dbd3ff5340078ecb09fd3aa2fff1:0"> render() {</span></span>

3

<span data-key="451cda5735f74c26a01a72ae7b852ded"><span data-offset-key="451cda5735f74c26a01a72ae7b852ded:0"> return (</span></span>

4

<span data-key="4934471e6a084436b60d47b3f57e773d"><span data-offset-key="4934471e6a084436b60d47b3f57e773d:0"> &lt;React.Fragment&gt; &lt;td&gt;Hello&lt;/td&gt; &lt;td&gt;World&lt;/td&gt; &lt;/React.Fragment&gt; );</span></span>

5

<span data-key="269034f267544ca09677ea61dac5dbe6"><span data-offset-key="269034f267544ca09677ea61dac5dbe6:0"> }</span></span>

6

<span data-key="5829eae02597412bb7f576e5fa859afd"><span data-offset-key="5829eae02597412bb7f576e5fa859afd:0">}</span></span>

Copied!

<span data-key="ff20e27685ca44f3aee72c8cda77d3a9"><span data-offset-key="ff20e27685ca44f3aee72c8cda77d3a9:0">which results in a correct </span><span data-offset-key="ff20e27685ca44f3aee72c8cda77d3a9:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">&lt;Table /&gt;</span></span><span data-offset-key="ff20e27685ca44f3aee72c8cda77d3a9:2"> output of:</span></span>

1

<span data-key="cf0122fed1e5418c80ebd1d30966cdd9"><span data-offset-key="cf0122fed1e5418c80ebd1d30966cdd9:0">&lt;table&gt;</span></span>

2

<span data-key="143a474133ba4f909f4abcbc3469b90a"><span data-offset-key="143a474133ba4f909f4abcbc3469b90a:0"> &lt;tr&gt;</span></span>

3

<span data-key="783f0604c37340fab21a6e2774a392d6"><span data-offset-key="783f0604c37340fab21a6e2774a392d6:0"> &lt;td&gt;Hello&lt;/td&gt;</span></span>

4

<span data-key="c9b386121955422aac6220fc03a89631"><span data-offset-key="c9b386121955422aac6220fc03a89631:0"> &lt;td&gt;World&lt;/td&gt;</span></span>

5

<span data-key="55f54321117f40db8280bf67900c21e3"><span data-offset-key="55f54321117f40db8280bf67900c21e3:0"> &lt;/tr&gt;</span></span>

6

<span data-key="3f2e264051da467b885fdebb5df7df91"><span data-offset-key="3f2e264051da467b885fdebb5df7df91:0">&lt;/table&gt;</span></span>

Copied!

<span data-key="8dbf30cfeea04d3aba41e2397632c97e"><span data-offset-key="8dbf30cfeea04d3aba41e2397632c97e:0">Short Syntax</span></span>

<span data-key="3ce69d29f90a4cddb5b6305b890b0da0"><span data-offset-key="3ce69d29f90a4cddb5b6305b890b0da0:0">There is a new, shorter syntax you can use for declaring fragments. It looks like empty tags:</span></span>

1

<span data-key="f2472a51bc3849b6b272fa6ecf99dbb4"><span data-offset-key="f2472a51bc3849b6b272fa6ecf99dbb4:0">class Columns extends React.Component {</span></span>

2

<span data-key="638fb2fc31234682b9ed5ba67c9e8488"><span data-offset-key="638fb2fc31234682b9ed5ba67c9e8488:0"> render() {</span></span>

3

<span data-key="92cdfffcdc224d0db5ee840b1b4ad2a1"><span data-offset-key="92cdfffcdc224d0db5ee840b1b4ad2a1:0"> return (</span></span>

4

<span data-key="5a8a0802c19c4e2bad2ed51a9a1b3718"><span data-offset-key="5a8a0802c19c4e2bad2ed51a9a1b3718:0"> &lt;&gt; &lt;td&gt;Hello&lt;/td&gt; &lt;td&gt;World&lt;/td&gt; &lt;/&gt; );</span></span>

5

<span data-key="08bf85bff8114f1eb14fd8d4a0d932dd"><span data-offset-key="08bf85bff8114f1eb14fd8d4a0d932dd:0"> }</span></span>

6

<span data-key="8ffee9f646644e2f9221ba879e19c575"><span data-offset-key="8ffee9f646644e2f9221ba879e19c575:0">}</span></span>

Copied!

<span data-key="c59aa555c4af4e96b4ccd39c3f2041dc"><span data-offset-key="c59aa555c4af4e96b4ccd39c3f2041dc:0">You can use </span><span data-offset-key="c59aa555c4af4e96b4ccd39c3f2041dc:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">&lt;&gt;&lt;/&gt;</span></span><span data-offset-key="c59aa555c4af4e96b4ccd39c3f2041dc:2"> the same way you’d use any other element except that it doesn’t support keys or attributes.</span></span>

<span data-key="62118bc4bb9845fc8db31a67b20ad7be"><span data-offset-key="62118bc4bb9845fc8db31a67b20ad7be:0">Keyed Fragments</span></span>

<span data-key="206acb26ea4e4f74baa4df05163fd435"><span data-offset-key="206acb26ea4e4f74baa4df05163fd435:0">Fragments declared with the explicit </span><span data-offset-key="206acb26ea4e4f74baa4df05163fd435:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">&lt;React.Fragment&gt;</span></span><span data-offset-key="206acb26ea4e4f74baa4df05163fd435:2"> syntax may have keys. A use case for this is mapping a collection to an array of fragments — for example, to create a description list:</span></span>

1

<span data-key="0dadaddb708945e6a3e2642c967ac177"><span data-offset-key="0dadaddb708945e6a3e2642c967ac177:0">function Glossary(props) {</span></span>

2

<span data-key="d094455b6a8f46189a7663325eadb3f2"><span data-offset-key="d094455b6a8f46189a7663325eadb3f2:0"> return (</span></span>

3

<span data-key="6614c8cd22f8468d95ea57c88ed4d2b3"><span data-offset-key="6614c8cd22f8468d95ea57c88ed4d2b3:0"> &lt;dl&gt;</span></span>

4

<span data-key="ff7a715ed745434aa542548491748914"><span data-offset-key="ff7a715ed745434aa542548491748914:0"> {props.items.map(item =&gt; (</span></span>

5

<span data-key="8b28e8406c694b91aa7183ce5c11c569"><span data-offset-key="8b28e8406c694b91aa7183ce5c11c569:0"> // Without the \`key\`, React will fire a key warning</span></span>

6

<span data-key="b187643f0d804b459ee969cd115c4c9b"><span data-offset-key="b187643f0d804b459ee969cd115c4c9b:0"> &lt;React.Fragment key={item.id}&gt;</span></span>

7

<span data-key="acf1de6b50184032acbc3c1f31ea5495"><span data-offset-key="acf1de6b50184032acbc3c1f31ea5495:0"> &lt;dt&gt;{item.term}&lt;/dt&gt;</span></span>

8

<span data-key="994e22033460466e9fa11a0b1381eb7a"><span data-offset-key="994e22033460466e9fa11a0b1381eb7a:0"> &lt;dd&gt;{item.description}&lt;/dd&gt;</span></span>

9

<span data-key="83d6b7bee6384e61ad9c08c8dd103b71"><span data-offset-key="83d6b7bee6384e61ad9c08c8dd103b71:0"> &lt;/React.Fragment&gt;))}</span></span>

10

<span data-key="603996ee11c64fa184ad60d316d12658"><span data-offset-key="603996ee11c64fa184ad60d316d12658:0"> &lt;/dl&gt;);</span></span>

11

<span data-key="6d52897c962d42fc9d0646fd60cedd7d"><span data-offset-key="6d52897c962d42fc9d0646fd60cedd7d:0">}</span></span>

Copied!

<span data-key="73e5c719de2943b08a6f7df3be94d0fe"><span data-offset-key="73e5c719de2943b08a6f7df3be94d0fe:0"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">key</span></span><span data-offset-key="73e5c719de2943b08a6f7df3be94d0fe:1"> is the only attribute that can be passed to </span><span data-offset-key="73e5c719de2943b08a6f7df3be94d0fe:2"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">Fragment</span></span><span data-offset-key="73e5c719de2943b08a6f7df3be94d0fe:3">. In the future, we may add support for additional attributes, such as event handlers.</span></span>

<span data-key="d98a741c1e534b498f133e7b29932365"><span data-offset-key="d98a741c1e534b498f133e7b29932365:0">Live Demo</span></span>

<span data-key="cb5155c7bd0b4df5ace600975dcb07d5"><span data-offset-key="cb5155c7bd0b4df5ace600975dcb07d5:0">You can try out the new JSX fragment syntax with this </span></span><a href="https://codepen.io/reactjs/pen/VrEbjE?editors=1000" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="17b8dd076c5343f092bc97e534ed8f84"><span data-offset-key="17b8dd076c5343f092bc97e534ed8f84:0">CodePen</span></span></span></a><span data-key="1dced0eba1a6445286c3fb0df5f3d078"><span data-offset-key="1dced0eba1a6445286c3fb0df5f3d078:0">.</span></span>

<span data-key="de979e4c749d4d86bafd46bdbf6db28a"><span data-offset-key="de979e4c749d4d86bafd46bdbf6db28a:0"><span class="css-901oao css-16my406 r-b88u0q">Higher-Order Components</span></span></span>

<span data-key="a0bc811221a0424eb00ca400d717b3be"><span data-offset-key="a0bc811221a0424eb00ca400d717b3be:0">A higher-order component (HOC) is an advanced technique in React for reusing component logic. HOCs are not part of the React API, per se. They are a pattern that emerges from React’s compositional nature.</span></span>

<span data-key="3b7ba3f55e494a2ab14c3f525e0c9335"><span data-offset-key="3b7ba3f55e494a2ab14c3f525e0c9335:0">Concretely, </span><span data-offset-key="3b7ba3f55e494a2ab14c3f525e0c9335:1"><span class="css-901oao css-16my406 r-b88u0q">a higher-order component is a function that takes a component and returns a new component.</span></span></span>

<span data-key="560f0420167741bd9076807cbf841f54"><span data-offset-key="560f0420167741bd9076807cbf841f54:0"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">const EnhancedComponent = higherOrderComponent(WrappedComponent);</span></span></span>

<span data-key="5984f94e8da34f21b9bd03ad6f647dfc"><span data-offset-key="5984f94e8da34f21b9bd03ad6f647dfc:0">Whereas a component transforms props into UI, a higher-order component transforms a component into another component.</span></span>

<span data-key="f603d4c4ba244be4a553ff557c5204cc"><span data-offset-key="f603d4c4ba244be4a553ff557c5204cc:0">HOCs are common in third-party React libraries, such as Redux’s </span><span data-offset-key="f603d4c4ba244be4a553ff557c5204cc:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">\[connect\](&lt;https://github.com/reduxjs/react-redux/blob/master/docs/api/connect.md\#connect&gt;)</span></span><span data-offset-key="f603d4c4ba244be4a553ff557c5204cc:2"> and Relay’s </span><span data-offset-key="f603d4c4ba244be4a553ff557c5204cc:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">\[createFragmentContainer\](&lt;https://relay.dev/docs/v10.1.3/fragment-container/\#createfragmentcontainer&gt;)</span></span><span data-offset-key="f603d4c4ba244be4a553ff557c5204cc:4">.</span></span>

<span data-key="ab2d2af94511473c87c7f4801d11c856"><span data-offset-key="ab2d2af94511473c87c7f4801d11c856:0">In this document, we’ll discuss why higher-order components are useful, and how to write your own.</span></span>

<span data-key="8de8eadfae094d43b614a2d2705fa101"><span data-offset-key="8de8eadfae094d43b614a2d2705fa101:0">Use HOCs For Cross-Cutting Concerns</span></span>

<span data-key="cf06b3bc5adf419e8445574a90caa04b"><span data-offset-key="cf06b3bc5adf419e8445574a90caa04b:0">NoteWe previously recommended mixins as a way to handle cross-cutting concerns. We’ve since realized that mixins create more trouble than they are worth. Read more about why we’ve moved away from mixins and how you can transition your existing components.</span></span>

<span data-key="498a5d42d5d843e0a1475f58d87a55f0"><span data-offset-key="498a5d42d5d843e0a1475f58d87a55f0:0">Components are the primary unit of code reuse in React. However, you’ll find that some patterns aren’t a straightforward fit for traditional components.</span></span>

<span data-key="a06323c1e0534eb48f8cee51e240c741"><span data-offset-key="a06323c1e0534eb48f8cee51e240c741:0">For example, say you have a </span><span data-offset-key="a06323c1e0534eb48f8cee51e240c741:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">CommentList</span></span><span data-offset-key="a06323c1e0534eb48f8cee51e240c741:2"> component that subscribes to an external data source to render a list of comments:</span></span>

1

<span data-key="77e42ba6de1e46c4b9cb6c8c9e973485"><span data-offset-key="77e42ba6de1e46c4b9cb6c8c9e973485:0">class CommentList extends React.Component {</span></span>

2

<span data-key="26eec36664fc431a948801f2a4ddce61"><span data-offset-key="26eec36664fc431a948801f2a4ddce61:0"> constructor(props) {</span></span>

3

<span data-key="1a6c82e00f9042b0a82f5d8dd530bfd5"><span data-offset-key="1a6c82e00f9042b0a82f5d8dd530bfd5:0"> super(props);</span></span>

4

<span data-key="e1d065ae65804550948f57947371faa4"><span data-offset-key="e1d065ae65804550948f57947371faa4:0"> this.handleChange = this.handleChange.bind(this);</span></span>

5

<span data-key="689c11f22d854ad0bf528798b95a66c4"><span data-offset-key="689c11f22d854ad0bf528798b95a66c4:0"> this.state = {</span></span>

6

<span data-key="5f3f510bb3dc45deb4cdf09d41952d2f"><span data-offset-key="5f3f510bb3dc45deb4cdf09d41952d2f:0"> // "DataSource" is some global data source</span></span>

7

<span data-key="2b098eeb5282460ca4987f5868bbc4d7"><span data-offset-key="2b098eeb5282460ca4987f5868bbc4d7:0"> comments: DataSource.getComments()</span></span>

8

<span data-key="dd5310268fc54355b0afb8f4cc4f2b12"><span data-offset-key="dd5310268fc54355b0afb8f4cc4f2b12:0"> };</span></span>

9

<span data-key="b95c28386a824cacb525a88f9607202d"><span data-offset-key="b95c28386a824cacb525a88f9607202d:0"> }</span></span>

10

<span data-key="8a77649accb34035af8a3acf412c8018"><span data-offset-key="8a77649accb34035af8a3acf412c8018:0"><span data-slate-zero-width="n">​</span></span></span>

11

<span data-key="69c4a38456df4d76a5a57fbc01fbc89f"><span data-offset-key="69c4a38456df4d76a5a57fbc01fbc89f:0"> componentDidMount() {</span></span>

12

<span data-key="bb5ac724b450411e8139f8624f8458ef"><span data-offset-key="bb5ac724b450411e8139f8624f8458ef:0"> // Subscribe to changes</span></span>

13

<span data-key="5ab691e8358549368d91c8f3ebc3a405"><span data-offset-key="5ab691e8358549368d91c8f3ebc3a405:0"> DataSource.addChangeListener(this.handleChange);</span></span>

14

<span data-key="28066e6874c046fc8451f5c41b1d0dba"><span data-offset-key="28066e6874c046fc8451f5c41b1d0dba:0"> }</span></span>

15

<span data-key="2888980b05a0425abc5a37eae0d33c5e"><span data-offset-key="2888980b05a0425abc5a37eae0d33c5e:0"><span data-slate-zero-width="n">​</span></span></span>

16

<span data-key="4b97aae1d78b4cbd9198d5e0b6bd6a1e"><span data-offset-key="4b97aae1d78b4cbd9198d5e0b6bd6a1e:0"> componentWillUnmount() {</span></span>

17

<span data-key="be49ad82c46c48e9892cfd08dd044286"><span data-offset-key="be49ad82c46c48e9892cfd08dd044286:0"> // Clean up listener</span></span>

18

<span data-key="c831d29a4b0a4fecbb28b640567aae26"><span data-offset-key="c831d29a4b0a4fecbb28b640567aae26:0"> DataSource.removeChangeListener(this.handleChange);</span></span>

19

<span data-key="2b0f5800f80a458ab3ab32feb67b8ec5"><span data-offset-key="2b0f5800f80a458ab3ab32feb67b8ec5:0"> }</span></span>

20

<span data-key="98ee1ab5578e4bfba836bc89b5cf9ece"><span data-offset-key="98ee1ab5578e4bfba836bc89b5cf9ece:0"><span data-slate-zero-width="n">​</span></span></span>

21

<span data-key="536aab5d67d4454d84b2dfc6ab6b3991"><span data-offset-key="536aab5d67d4454d84b2dfc6ab6b3991:0"> handleChange() {</span></span>

22

<span data-key="da40ad36c67d48cfb0116affb11e823e"><span data-offset-key="da40ad36c67d48cfb0116affb11e823e:0"> // Update component state whenever the data source changes</span></span>

23

<span data-key="dc3a66c7d2644dd9b373f342ae80603e"><span data-offset-key="dc3a66c7d2644dd9b373f342ae80603e:0"> this.setState({</span></span>

24

<span data-key="4236ea89cb194b29a52072fe236c3db1"><span data-offset-key="4236ea89cb194b29a52072fe236c3db1:0"> comments: DataSource.getComments()</span></span>

25

<span data-key="c21d6b02819246908ed5750b382ccbb3"><span data-offset-key="c21d6b02819246908ed5750b382ccbb3:0"> });</span></span>

26

<span data-key="77b9993bd4f14697824745d52aa030b0"><span data-offset-key="77b9993bd4f14697824745d52aa030b0:0"> }</span></span>

27

<span data-key="268bb64498db4b6b871de0e47d1e0171"><span data-offset-key="268bb64498db4b6b871de0e47d1e0171:0"><span data-slate-zero-width="n">​</span></span></span>

28

<span data-key="f89c9990474942fdadc958ad8d95e273"><span data-offset-key="f89c9990474942fdadc958ad8d95e273:0"> render() {</span></span>

29

<span data-key="c6f9d2a3c8374ccfaf82e04e5bca2579"><span data-offset-key="c6f9d2a3c8374ccfaf82e04e5bca2579:0"> return (</span></span>

30

<span data-key="e64a540635454fd595a42e3d09e5fbbd"><span data-offset-key="e64a540635454fd595a42e3d09e5fbbd:0"> &lt;div&gt;</span></span>

31

<span data-key="4adbd9352e064ba2b8d9f8c769ac0c29"><span data-offset-key="4adbd9352e064ba2b8d9f8c769ac0c29:0"> {this.state.comments.map((comment) =&gt; (</span></span>

32

<span data-key="f5376c70c7154ca4bfd46f2aa2927fdd"><span data-offset-key="f5376c70c7154ca4bfd46f2aa2927fdd:0"> &lt;Comment comment={comment} key={comment.id} /&gt;))}</span></span>

33

<span data-key="2710596d0c63486aa44f5226beec93ef"><span data-offset-key="2710596d0c63486aa44f5226beec93ef:0"> &lt;/div&gt;);</span></span>

34

<span data-key="1e1d17cc8ae74a8d950226a57b88a245"><span data-offset-key="1e1d17cc8ae74a8d950226a57b88a245:0"> }</span></span>

35

<span data-key="c2cb668ef61f4a0c90d41d1a71e5d4c2"><span data-offset-key="c2cb668ef61f4a0c90d41d1a71e5d4c2:0">}</span></span>

Copied!

<span data-key="3a45242c859b4a63a4acdfef1e9a2847"><span data-offset-key="3a45242c859b4a63a4acdfef1e9a2847:0">Later, you write a component for subscribing to a single blog post, which follows a similar pattern:</span></span>

1

<span data-key="6d68e37dfbbe461998359b10d6cdd811"><span data-offset-key="6d68e37dfbbe461998359b10d6cdd811:0">class BlogPost extends React.Component {</span></span>

2

<span data-key="85426d8c3fae4d4b932e82f3331669d0"><span data-offset-key="85426d8c3fae4d4b932e82f3331669d0:0"> constructor(props) {</span></span>

3

<span data-key="2976f92ccf864e27a203b162a32b10f6"><span data-offset-key="2976f92ccf864e27a203b162a32b10f6:0"> super(props);</span></span>

4

<span data-key="96083e8428044f2cb0af7ea6c09bbb3b"><span data-offset-key="96083e8428044f2cb0af7ea6c09bbb3b:0"> this.handleChange = this.handleChange.bind(this);</span></span>

5

<span data-key="379457a9be4a4adbb28936d1552efa46"><span data-offset-key="379457a9be4a4adbb28936d1552efa46:0"> this.state = {</span></span>

6

<span data-key="9c81425860d64937991da8f6d54928ba"><span data-offset-key="9c81425860d64937991da8f6d54928ba:0"> blogPost: DataSource.getBlogPost(props.id)</span></span>

7

<span data-key="41fe21a3791946868d22f82cf8579699"><span data-offset-key="41fe21a3791946868d22f82cf8579699:0"> };</span></span>

8

<span data-key="4f8ccf860c5241f4ad99ed6b0762894e"><span data-offset-key="4f8ccf860c5241f4ad99ed6b0762894e:0"> }</span></span>

9

<span data-key="7d986c6d738a49f595ca6a995aa7ced7"><span data-offset-key="7d986c6d738a49f595ca6a995aa7ced7:0"><span data-slate-zero-width="n">​</span></span></span>

10

<span data-key="8bea1f1b99654377b36e10d08c91c972"><span data-offset-key="8bea1f1b99654377b36e10d08c91c972:0"> componentDidMount() {</span></span>

11

<span data-key="af6a8834cd7f4f65913caed53eab4b52"><span data-offset-key="af6a8834cd7f4f65913caed53eab4b52:0"> DataSource.addChangeListener(this.handleChange);</span></span>

12

<span data-key="83466fa6c5e14fa79515b3caba532a09"><span data-offset-key="83466fa6c5e14fa79515b3caba532a09:0"> }</span></span>

13

<span data-key="81e338e6c49943c19d81d14ab66d9fd3"><span data-offset-key="81e338e6c49943c19d81d14ab66d9fd3:0"><span data-slate-zero-width="n">​</span></span></span>

14

<span data-key="aadb16f4bab949ef98eefa9a7e7fc105"><span data-offset-key="aadb16f4bab949ef98eefa9a7e7fc105:0"> componentWillUnmount() {</span></span>

15

<span data-key="5ba2402b34754252a472fd7ae81f9a27"><span data-offset-key="5ba2402b34754252a472fd7ae81f9a27:0"> DataSource.removeChangeListener(this.handleChange);</span></span>

16

<span data-key="e0333fad8f504c6cbdbed74b15d2a818"><span data-offset-key="e0333fad8f504c6cbdbed74b15d2a818:0"> }</span></span>

17

<span data-key="64d6a1b3b4cc4a48b212d475faa17133"><span data-offset-key="64d6a1b3b4cc4a48b212d475faa17133:0"><span data-slate-zero-width="n">​</span></span></span>

18

<span data-key="3fdf0757a0e646f087a97f60fdbe5143"><span data-offset-key="3fdf0757a0e646f087a97f60fdbe5143:0"> handleChange() {</span></span>

19

<span data-key="6510211b866d4728a52d30d0543af151"><span data-offset-key="6510211b866d4728a52d30d0543af151:0"> this.setState({</span></span>

20

<span data-key="3de0a1b40ccf4903abd094cfa73f5b24"><span data-offset-key="3de0a1b40ccf4903abd094cfa73f5b24:0"> blogPost: DataSource.getBlogPost(this.props.id)</span></span>

21

<span data-key="022fa649dd4749898ba0f2666923c7d4"><span data-offset-key="022fa649dd4749898ba0f2666923c7d4:0"> });</span></span>

22

<span data-key="aeb74d5a68c340799bbf6a03988d8d31"><span data-offset-key="aeb74d5a68c340799bbf6a03988d8d31:0"> }</span></span>

23

<span data-key="a757f01c527f44f88843837bfdafabde"><span data-offset-key="a757f01c527f44f88843837bfdafabde:0"><span data-slate-zero-width="n">​</span></span></span>

24

<span data-key="9cd1f0ccddf94aca87286449bc565506"><span data-offset-key="9cd1f0ccddf94aca87286449bc565506:0"> render() {</span></span>

25

<span data-key="d28923b1521941bbab0bf920c6979e52"><span data-offset-key="d28923b1521941bbab0bf920c6979e52:0"> return &lt;TextBlock text={this.state.blogPost} /&gt;;</span></span>

26

<span data-key="a3802456925d498886a7eebd0d0c2e39"><span data-offset-key="a3802456925d498886a7eebd0d0c2e39:0"> }</span></span>

27

<span data-key="711d8c2dcf524edf98dc4b8eaa2249aa"><span data-offset-key="711d8c2dcf524edf98dc4b8eaa2249aa:0">}</span></span>

Copied!

<span data-key="14c80c0903b94e2ea0154f3f2228fb19"><span data-offset-key="14c80c0903b94e2ea0154f3f2228fb19:0"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">CommentList</span></span><span data-offset-key="14c80c0903b94e2ea0154f3f2228fb19:1"> and </span><span data-offset-key="14c80c0903b94e2ea0154f3f2228fb19:2"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">BlogPost</span></span><span data-offset-key="14c80c0903b94e2ea0154f3f2228fb19:3"> aren’t identical — they call different methods on </span><span data-offset-key="14c80c0903b94e2ea0154f3f2228fb19:4"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">DataSource</span></span><span data-offset-key="14c80c0903b94e2ea0154f3f2228fb19:5">, and they render different output. But much of their implementation is the same:</span></span>

<span data-key="6dcf96c312e14486bf3bb3a455d4ca6f"><span data-offset-key="6dcf96c312e14486bf3bb3a455d4ca6f:0">You can imagine that in a large app, this same pattern of subscribing to </span><span data-offset-key="6dcf96c312e14486bf3bb3a455d4ca6f:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">DataSource</span></span><span data-offset-key="6dcf96c312e14486bf3bb3a455d4ca6f:2"> and calling </span><span data-offset-key="6dcf96c312e14486bf3bb3a455d4ca6f:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">setState</span></span><span data-offset-key="6dcf96c312e14486bf3bb3a455d4ca6f:4"> will occur over and over again. We want an abstraction that allows us to define this logic in a single place and share it across many components. This is where higher-order components excel.</span></span>

<span data-key="69c3d352c45f40b6af491c166051121b"><span data-offset-key="69c3d352c45f40b6af491c166051121b:0">We can write a function that creates components, like </span><span data-offset-key="69c3d352c45f40b6af491c166051121b:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">CommentList</span></span><span data-offset-key="69c3d352c45f40b6af491c166051121b:2"> and </span><span data-offset-key="69c3d352c45f40b6af491c166051121b:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">BlogPost</span></span><span data-offset-key="69c3d352c45f40b6af491c166051121b:4">, that subscribe to </span><span data-offset-key="69c3d352c45f40b6af491c166051121b:5"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">DataSource</span></span><span data-offset-key="69c3d352c45f40b6af491c166051121b:6">. The function will accept as one of its arguments a child component that receives the subscribed data as a prop. Let’s call the function </span><span data-offset-key="69c3d352c45f40b6af491c166051121b:7"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">withSubscription</span></span><span data-offset-key="69c3d352c45f40b6af491c166051121b:8">:</span></span>

1

<span data-key="7d745e75129e41d785664edb865b2afd"><span data-offset-key="7d745e75129e41d785664edb865b2afd:0">const CommentListWithSubscription = withSubscription(</span></span>

2

<span data-key="24936eb42ea843f8a76a795c8219c296"><span data-offset-key="24936eb42ea843f8a76a795c8219c296:0"> CommentList,</span></span>

3

<span data-key="c93f6067596042daabbed28c14f0774b"><span data-offset-key="c93f6067596042daabbed28c14f0774b:0"> (DataSource) =&gt; DataSource.getComments()</span></span>

4

<span data-key="2c9bae70d3ac42da800f9d23a64b0cbc"><span data-offset-key="2c9bae70d3ac42da800f9d23a64b0cbc:0">);</span></span>

5

<span data-key="1f5b67deb20d4d40906310610e4b971f"><span data-offset-key="1f5b67deb20d4d40906310610e4b971f:0"><span data-slate-zero-width="n">​</span></span></span>

6

<span data-key="776e2ecf03d94bb0b7d20f8d0e2c55cf"><span data-offset-key="776e2ecf03d94bb0b7d20f8d0e2c55cf:0">const BlogPostWithSubscription = withSubscription(</span></span>

7

<span data-key="7222331b2cf74ffd88db436a3898ede3"><span data-offset-key="7222331b2cf74ffd88db436a3898ede3:0"> BlogPost,</span></span>

8

<span data-key="5200840ec14f43e395df31cff0e75a8e"><span data-offset-key="5200840ec14f43e395df31cff0e75a8e:0"> (DataSource, props) =&gt; DataSource.getBlogPost(props.id)</span></span>

9

<span data-key="4ecdd07f8f0d4ef9825d7726c54f5cd7"><span data-offset-key="4ecdd07f8f0d4ef9825d7726c54f5cd7:0">);</span></span>

Copied!

<span data-key="2f27536391794f6ea357d1a5506c85fd"><span data-offset-key="2f27536391794f6ea357d1a5506c85fd:0">The first parameter is the wrapped component. The second parameter retrieves the data we’re interested in, given a </span><span data-offset-key="2f27536391794f6ea357d1a5506c85fd:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">DataSource</span></span><span data-offset-key="2f27536391794f6ea357d1a5506c85fd:2"> and the current props.</span></span>

<span data-key="41f1a512adb0499880c47bfc36591c06"><span data-offset-key="41f1a512adb0499880c47bfc36591c06:0">When </span><span data-offset-key="41f1a512adb0499880c47bfc36591c06:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">CommentListWithSubscription</span></span><span data-offset-key="41f1a512adb0499880c47bfc36591c06:2"> and </span><span data-offset-key="41f1a512adb0499880c47bfc36591c06:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">BlogPostWithSubscription</span></span><span data-offset-key="41f1a512adb0499880c47bfc36591c06:4"> are rendered, </span><span data-offset-key="41f1a512adb0499880c47bfc36591c06:5"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">CommentList</span></span><span data-offset-key="41f1a512adb0499880c47bfc36591c06:6"> and </span><span data-offset-key="41f1a512adb0499880c47bfc36591c06:7"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">BlogPost</span></span><span data-offset-key="41f1a512adb0499880c47bfc36591c06:8"> will be passed a </span><span data-offset-key="41f1a512adb0499880c47bfc36591c06:9"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">data</span></span><span data-offset-key="41f1a512adb0499880c47bfc36591c06:10"> prop with the most current data retrieved from </span><span data-offset-key="41f1a512adb0499880c47bfc36591c06:11"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">DataSource</span></span><span data-offset-key="41f1a512adb0499880c47bfc36591c06:12">:</span></span>

1

<span data-key="5a4a63706bc440f883de744de2340fc2"><span data-offset-key="5a4a63706bc440f883de744de2340fc2:0">// This function takes a component...</span></span>

2

<span data-key="a3d26309f80142cba98051a824b21369"><span data-offset-key="a3d26309f80142cba98051a824b21369:0">function withSubscription(WrappedComponent, selectData) {</span></span>

3

<span data-key="54910f926e5d4ba89ad99ffea377364d"><span data-offset-key="54910f926e5d4ba89ad99ffea377364d:0"> // ...and returns another component...</span></span>

4

<span data-key="cf9e2b869db04d169807d0b60195890d"><span data-offset-key="cf9e2b869db04d169807d0b60195890d:0"> return class extends React.Component {</span></span>

5

<span data-key="bba7210cfd72427195493f4989690f88"><span data-offset-key="bba7210cfd72427195493f4989690f88:0"> constructor(props) {</span></span>

6

<span data-key="d0ffe641c00f493881a821d547a3d7b9"><span data-offset-key="d0ffe641c00f493881a821d547a3d7b9:0"> super(props);</span></span>

7

<span data-key="8737796fb141477aaa0d7f802555025c"><span data-offset-key="8737796fb141477aaa0d7f802555025c:0"> this.handleChange = this.handleChange.bind(this);</span></span>

8

<span data-key="ac438e46874347f79664ee1096d42a1d"><span data-offset-key="ac438e46874347f79664ee1096d42a1d:0"> this.state = {</span></span>

9

<span data-key="ec2870aad46b45c4b772cede3202cf9e"><span data-offset-key="ec2870aad46b45c4b772cede3202cf9e:0"> data: selectData(DataSource, props)</span></span>

10

<span data-key="322ded0f14b343df9886ec43a7f08c82"><span data-offset-key="322ded0f14b343df9886ec43a7f08c82:0"> };</span></span>

11

<span data-key="2a18e3adb8364e7685432573776cfefe"><span data-offset-key="2a18e3adb8364e7685432573776cfefe:0"> }</span></span>

12

<span data-key="15f22b77af334a3189dea298f2a6fb5f"><span data-offset-key="15f22b77af334a3189dea298f2a6fb5f:0"><span data-slate-zero-width="n">​</span></span></span>

13

<span data-key="d2faea82d91441ed85c440fcf45d8425"><span data-offset-key="d2faea82d91441ed85c440fcf45d8425:0"> componentDidMount() {</span></span>

14

<span data-key="44cc9de1616745efa0578e9940c6dbc2"><span data-offset-key="44cc9de1616745efa0578e9940c6dbc2:0"> // ... that takes care of the subscription...</span></span>

15

<span data-key="7d379d1a4f854e33b0ac82ac38b9ab02"><span data-offset-key="7d379d1a4f854e33b0ac82ac38b9ab02:0"> DataSource.addChangeListener(this.handleChange);</span></span>

16

<span data-key="8b31e3a8f7bc43a9aa458a450beffd37"><span data-offset-key="8b31e3a8f7bc43a9aa458a450beffd37:0"> }</span></span>

17

<span data-key="f8026ded78b64a318820b022271fd22f"><span data-offset-key="f8026ded78b64a318820b022271fd22f:0"><span data-slate-zero-width="n">​</span></span></span>

18

<span data-key="0fc84b7774ec4ee9805630aefb1171d6"><span data-offset-key="0fc84b7774ec4ee9805630aefb1171d6:0"> componentWillUnmount() {</span></span>

19

<span data-key="025fc9cc7e20417989871dc82ef9fab9"><span data-offset-key="025fc9cc7e20417989871dc82ef9fab9:0"> DataSource.removeChangeListener(this.handleChange);</span></span>

20

<span data-key="e6348a008cd44bcd907488bf092c4e56"><span data-offset-key="e6348a008cd44bcd907488bf092c4e56:0"> }</span></span>

21

<span data-key="b74273ddef494805b3fd5eca4cf26757"><span data-offset-key="b74273ddef494805b3fd5eca4cf26757:0"><span data-slate-zero-width="n">​</span></span></span>

22

<span data-key="79a03d1788d9428bb53b1de84b3ffae7"><span data-offset-key="79a03d1788d9428bb53b1de84b3ffae7:0"> handleChange() {</span></span>

23

<span data-key="0183e8888cd349f7b2a494ed1b89933c"><span data-offset-key="0183e8888cd349f7b2a494ed1b89933c:0"> this.setState({</span></span>

24

<span data-key="d27f5dfbe7be47fe91cec02dd106eede"><span data-offset-key="d27f5dfbe7be47fe91cec02dd106eede:0"> data: selectData(DataSource, this.props)</span></span>

25

<span data-key="bd442d2570cd4a808acf997b78a25e09"><span data-offset-key="bd442d2570cd4a808acf997b78a25e09:0"> });</span></span>

26

<span data-key="4cef1f8c849241f88a1339adadd30f68"><span data-offset-key="4cef1f8c849241f88a1339adadd30f68:0"> }</span></span>

27

<span data-key="c9b2a12452bf422183e6e99fc1c75f71"><span data-offset-key="c9b2a12452bf422183e6e99fc1c75f71:0"><span data-slate-zero-width="n">​</span></span></span>

28

<span data-key="9cf9e9dead8f476bba2e77ee84200312"><span data-offset-key="9cf9e9dead8f476bba2e77ee84200312:0"> render() {</span></span>

29

<span data-key="d7581281774a41d8a9a1724f8abdecf8"><span data-offset-key="d7581281774a41d8a9a1724f8abdecf8:0"> // ... and renders the wrapped component with the fresh data!</span></span>

30

<span data-key="7c9e2a898be1472eb13f808aec0c2fae"><span data-offset-key="7c9e2a898be1472eb13f808aec0c2fae:0"> // Notice that we pass through any additional props</span></span>

31

<span data-key="845b4b3f540b4877b98039962a1a72e6"><span data-offset-key="845b4b3f540b4877b98039962a1a72e6:0"> return &lt;WrappedComponent data={this.state.data} {...this.props} /&gt;;</span></span>

32

<span data-key="9947120ba0704d878995dd737eb9b7d9"><span data-offset-key="9947120ba0704d878995dd737eb9b7d9:0"> }</span></span>

33

<span data-key="0f654c8f47914adbb1b132337ee3cee8"><span data-offset-key="0f654c8f47914adbb1b132337ee3cee8:0"> };</span></span>

34

<span data-key="a2755029304b4a799b9bd7808e3f5830"><span data-offset-key="a2755029304b4a799b9bd7808e3f5830:0">}</span></span>

Copied!

<span data-key="35fa752947de49158f96400709bdf38e"><span data-offset-key="35fa752947de49158f96400709bdf38e:0">Note that a HOC doesn’t modify the input component, nor does it use inheritance to copy its behavior. Rather, a HOC </span><span data-offset-key="35fa752947de49158f96400709bdf38e:1"><span class="css-901oao css-16my406 r-36ujnk">composes</span></span><span data-offset-key="35fa752947de49158f96400709bdf38e:2"> the original component by </span><span data-offset-key="35fa752947de49158f96400709bdf38e:3"><span class="css-901oao css-16my406 r-36ujnk">wrapping</span></span><span data-offset-key="35fa752947de49158f96400709bdf38e:4"> it in a container component. A HOC is a pure function with zero side-effects.</span></span>

<span data-key="b0b7013f8b0e4464b518350144f195f8"><span data-offset-key="b0b7013f8b0e4464b518350144f195f8:0">And that’s it! The wrapped component receives all the props of the container, along with a new prop, </span><span data-offset-key="b0b7013f8b0e4464b518350144f195f8:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">data</span></span><span data-offset-key="b0b7013f8b0e4464b518350144f195f8:2">, which it uses to render its output. The HOC isn’t concerned with how or why the data is used, and the wrapped component isn’t concerned with where the data came from.</span></span>

<span data-key="c01a996add0e4a2cb8dc5dae8c3adfd9"><span data-offset-key="c01a996add0e4a2cb8dc5dae8c3adfd9:0">Because </span><span data-offset-key="c01a996add0e4a2cb8dc5dae8c3adfd9:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">withSubscription</span></span><span data-offset-key="c01a996add0e4a2cb8dc5dae8c3adfd9:2"> is a normal function, you can add as many or as few arguments as you like. For example, you may want to make the name of the </span><span data-offset-key="c01a996add0e4a2cb8dc5dae8c3adfd9:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">data</span></span><span data-offset-key="c01a996add0e4a2cb8dc5dae8c3adfd9:4"> prop configurable, to further isolate the HOC from the wrapped component. Or you could accept an argument that configures </span><span data-offset-key="c01a996add0e4a2cb8dc5dae8c3adfd9:5"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">shouldComponentUpdate</span></span><span data-offset-key="c01a996add0e4a2cb8dc5dae8c3adfd9:6">, or one that configures the data source. These are all possible because the HOC has full control over how the component is defined.</span></span>

<span data-key="bf4170c416f24fc78e8323f4f7480078"><span data-offset-key="bf4170c416f24fc78e8323f4f7480078:0">Like components, the contract between </span><span data-offset-key="bf4170c416f24fc78e8323f4f7480078:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">withSubscription</span></span><span data-offset-key="bf4170c416f24fc78e8323f4f7480078:2"> and the wrapped component is entirely props-based. This makes it easy to swap one HOC for a different one, as long as they provide the same props to the wrapped component. This may be useful if you change data-fetching libraries, for example.</span></span>

<span data-key="939e7255187247b9be123a30a2f9e80b"><span data-offset-key="939e7255187247b9be123a30a2f9e80b:0">Don’t Mutate the Original Component. Use Composition.</span></span>

<span data-key="b9690675d3a845d7805714b7d160fa7f"><span data-offset-key="b9690675d3a845d7805714b7d160fa7f:0">Resist the temptation to modify a component’s prototype (or otherwise mutate it) inside a HOC.</span></span>

1

<span data-key="51c730f3a5ba4d8aae108f3ea172580e"><span data-offset-key="51c730f3a5ba4d8aae108f3ea172580e:0">function logProps(InputComponent) {</span></span>

2

<span data-key="3aba9003435f4d6792eb6c941d262e80"><span data-offset-key="3aba9003435f4d6792eb6c941d262e80:0"> InputComponent.prototype.componentDidUpdate = function(prevProps) {</span></span>

3

<span data-key="1672dba7e34f4cf9a1b80e27f8b8927e"><span data-offset-key="1672dba7e34f4cf9a1b80e27f8b8927e:0"> console.log('Current props: ', this.props);</span></span>

4

<span data-key="afc087ee566f4dd2ba492d4b88730429"><span data-offset-key="afc087ee566f4dd2ba492d4b88730429:0"> console.log('Previous props: ', prevProps);</span></span>

5

<span data-key="015bb53b4a7a41039cac413293f9cb6b"><span data-offset-key="015bb53b4a7a41039cac413293f9cb6b:0"> };</span></span>

6

<span data-key="4250bc12cb1d44a5820d62a3ad0c1be3"><span data-offset-key="4250bc12cb1d44a5820d62a3ad0c1be3:0"> // The fact that we're returning the original input is a hint that it has</span></span>

7

<span data-key="88960496c91b4c8ab7546f69a1320578"><span data-offset-key="88960496c91b4c8ab7546f69a1320578:0"> // been mutated.</span></span>

8

<span data-key="5a2e6fc9068248718aed270288b2b248"><span data-offset-key="5a2e6fc9068248718aed270288b2b248:0"> return InputComponent;</span></span>

9

<span data-key="40c92489e06b42a8a84e6c1aa2811eba"><span data-offset-key="40c92489e06b42a8a84e6c1aa2811eba:0">}</span></span>

10

<span data-key="e03d064c045e4cba83dca672ac31b478"><span data-offset-key="e03d064c045e4cba83dca672ac31b478:0"><span data-slate-zero-width="n">​</span></span></span>

11

<span data-key="92e57a59cca24a188b2b12f993e7b08b"><span data-offset-key="92e57a59cca24a188b2b12f993e7b08b:0">// EnhancedComponent will log whenever props are received</span></span>

12

<span data-key="9dab5dfe9a194a9488d9b62eee254f7c"><span data-offset-key="9dab5dfe9a194a9488d9b62eee254f7c:0">const EnhancedComponent = logProps(InputComponent);</span></span>

Copied!

<span data-key="b6a8ec71583c4d188dcb0bd2b5e31b75"><span data-offset-key="b6a8ec71583c4d188dcb0bd2b5e31b75:0">There are a few problems with this. One is that the input component cannot be reused separately from the enhanced component. More crucially, if you apply another HOC to </span><span data-offset-key="b6a8ec71583c4d188dcb0bd2b5e31b75:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">EnhancedComponent</span></span><span data-offset-key="b6a8ec71583c4d188dcb0bd2b5e31b75:2"> that </span><span data-offset-key="b6a8ec71583c4d188dcb0bd2b5e31b75:3"><span class="css-901oao css-16my406 r-36ujnk">also</span></span><span data-offset-key="b6a8ec71583c4d188dcb0bd2b5e31b75:4"> mutates </span><span data-offset-key="b6a8ec71583c4d188dcb0bd2b5e31b75:5"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">componentDidUpdate</span></span><span data-offset-key="b6a8ec71583c4d188dcb0bd2b5e31b75:6">, the first HOC’s functionality will be overridden! This HOC also won’t work with function components, which do not have lifecycle methods.</span></span>

<span data-key="c9bccd7b2d904f5ab1ff232bfbd6c9c1"><span data-offset-key="c9bccd7b2d904f5ab1ff232bfbd6c9c1:0">Mutating HOCs are a leaky abstraction—the consumer must know how they are implemented in order to avoid conflicts with other HOCs.</span></span>

<span data-key="579262f90774470daa49dbdf0b0b7c7b"><span data-offset-key="579262f90774470daa49dbdf0b0b7c7b:0">Instead of mutation, HOCs should use composition, by wrapping the input component in a container component:</span></span>

1

<span data-key="ea136d4b9b824969b6c7cd3b1c94e4dc"><span data-offset-key="ea136d4b9b824969b6c7cd3b1c94e4dc:0">function logProps(WrappedComponent) {</span></span>

2

<span data-key="2a808d2e9ae041e38f5b65f9ca7be50b"><span data-offset-key="2a808d2e9ae041e38f5b65f9ca7be50b:0"> return class extends React.Component {</span></span>

3

<span data-key="6597ebc29efd4cdda343587cd0e0d1cb"><span data-offset-key="6597ebc29efd4cdda343587cd0e0d1cb:0"> componentDidUpdate(prevProps) {</span></span>

4

<span data-key="a7a201b47a0b44049d264b06420f17da"><span data-offset-key="a7a201b47a0b44049d264b06420f17da:0"> console.log('Current props: ', this.props);</span></span>

5

<span data-key="42b3f2188c68430183dcaacc11178509"><span data-offset-key="42b3f2188c68430183dcaacc11178509:0"> console.log('Previous props: ', prevProps);</span></span>

6

<span data-key="c2a5c687beb9490c80dd43fc1c7b9d50"><span data-offset-key="c2a5c687beb9490c80dd43fc1c7b9d50:0"> }</span></span>

7

<span data-key="a7ae30b7490c4421a3d7b317f84e0b47"><span data-offset-key="a7ae30b7490c4421a3d7b317f84e0b47:0"> render() {</span></span>

8

<span data-key="a3ee089ef8ee4ead9be2d77b07984a0c"><span data-offset-key="a3ee089ef8ee4ead9be2d77b07984a0c:0"> // Wraps the input component in a container, without mutating it. Good!</span></span>

9

<span data-key="08977016d32843efa119535f10044cc6"><span data-offset-key="08977016d32843efa119535f10044cc6:0"> return &lt;WrappedComponent {...this.props} /&gt;;</span></span>

10

<span data-key="dc3ef9bb23cb4ff1a61c7e9df56ffc8e"><span data-offset-key="dc3ef9bb23cb4ff1a61c7e9df56ffc8e:0"> }</span></span>

11

<span data-key="bf578538ce3a4172ae8f71e53b7815ef"><span data-offset-key="bf578538ce3a4172ae8f71e53b7815ef:0"> }</span></span>

12

<span data-key="145111c5a65047c1b07df795e605e1b8"><span data-offset-key="145111c5a65047c1b07df795e605e1b8:0">}</span></span>

Copied!

<span data-key="2d441427a89b440e8bd0b8dec2b39bb1"><span data-offset-key="2d441427a89b440e8bd0b8dec2b39bb1:0">This HOC has the same functionality as the mutating version while avoiding the potential for clashes. It works equally well with class and function components. And because it’s a pure function, it’s composable with other HOCs, or even with itself.</span></span>

<span data-key="3fc6d89dbf864100be6ce536a7bf0d78"><span data-offset-key="3fc6d89dbf864100be6ce536a7bf0d78:0">You may have noticed similarities between HOCs and a pattern called </span><span data-offset-key="3fc6d89dbf864100be6ce536a7bf0d78:1"><span class="css-901oao css-16my406 r-b88u0q">container components</span></span><span data-offset-key="3fc6d89dbf864100be6ce536a7bf0d78:2">. Container components are part of a strategy of separating responsibility between high-level and low-level concerns. Containers manage things like subscriptions and state, and pass props to components that handle things like rendering UI. HOCs use containers as part of their implementation. You can think of HOCs as parameterized container component definitions.</span></span>

<span data-key="e4967ae6aefe4a468541ebf65fe2d4aa"><span data-offset-key="e4967ae6aefe4a468541ebf65fe2d4aa:0">Convention: Pass Unrelated Props Through to the Wrapped Component</span></span>

<span data-key="2061d887080046ae8204d60fdc6a2ae5"><span data-offset-key="2061d887080046ae8204d60fdc6a2ae5:0">HOCs add features to a component. They shouldn’t drastically alter its contract. It’s expected that the component returned from a HOC has a similar interface to the wrapped component.</span></span>

<span data-key="a9892294ec4c45989b4019da1900a002"><span data-offset-key="a9892294ec4c45989b4019da1900a002:0">HOCs should pass through props that are unrelated to its specific concern. Most HOCs contain a render method that looks something like this:</span></span>

1

<span data-key="4b7f135b2b7d4bcf93e18821558220b8"><span data-offset-key="4b7f135b2b7d4bcf93e18821558220b8:0">render() {</span></span>

2

<span data-key="d65bc8ac6ade4f3eac219580894505fa"><span data-offset-key="d65bc8ac6ade4f3eac219580894505fa:0"> // Filter out extra props that are specific to this HOC and shouldn't be</span></span>

3

<span data-key="a67c53cf91b1410fbbc68878b9babeb8"><span data-offset-key="a67c53cf91b1410fbbc68878b9babeb8:0"> // passed through</span></span>

4

<span data-key="c255391070bf49caace1913653c38da7"><span data-offset-key="c255391070bf49caace1913653c38da7:0"> const { extraProp, ...passThroughProps } = this.props;</span></span>

5

<span data-key="6e63852e1926422f9b4981e413ff9fde"><span data-offset-key="6e63852e1926422f9b4981e413ff9fde:0"><span data-slate-zero-width="n">​</span></span></span>

6

<span data-key="061d2d9336734b108c1cca6263ea6942"><span data-offset-key="061d2d9336734b108c1cca6263ea6942:0"> // Inject props into the wrapped component. These are usually state values or</span></span>

7

<span data-key="0392527d81b94d55933d85e5409d0781"><span data-offset-key="0392527d81b94d55933d85e5409d0781:0"> // instance methods.</span></span>

8

<span data-key="4aadd3754fd74ccf894e393c57537d28"><span data-offset-key="4aadd3754fd74ccf894e393c57537d28:0"> const injectedProp = someStateOrInstanceMethod;</span></span>

9

<span data-key="8397067b4911467fa6f7d9b9574c9912"><span data-offset-key="8397067b4911467fa6f7d9b9574c9912:0"><span data-slate-zero-width="n">​</span></span></span>

10

<span data-key="c7bc027d9d824371af263ccbff917299"><span data-offset-key="c7bc027d9d824371af263ccbff917299:0"> // Pass props to wrapped component</span></span>

11

<span data-key="80b4cddb17144ce8b4afa84fbadba325"><span data-offset-key="80b4cddb17144ce8b4afa84fbadba325:0"> return (</span></span>

12

<span data-key="3620a82b06c948daaecbea5c027e0b95"><span data-offset-key="3620a82b06c948daaecbea5c027e0b95:0"> &lt;WrappedComponentinjectedProp={injectedProp}{...passThroughProps}/&gt;);</span></span>

13

<span data-key="1f90e30967784ebf9d11c48e26f0fdb8"><span data-offset-key="1f90e30967784ebf9d11c48e26f0fdb8:0">}</span></span>

Copied!

<span data-key="8fa5f22de0bf41c6b9926e3650cc0e49"><span data-offset-key="8fa5f22de0bf41c6b9926e3650cc0e49:0">This convention helps ensure that HOCs are as flexible and reusable as possible.</span></span>

<span data-key="694a338c19d24e8588a3be07ec147113"><span data-offset-key="694a338c19d24e8588a3be07ec147113:0">Convention: Maximizing Composability</span></span>

<span data-key="bca5759230244009a6767b0e292904c3"><span data-offset-key="bca5759230244009a6767b0e292904c3:0">Not all HOCs look the same. Sometimes they accept only a single argument, the wrapped component:</span></span>

1

<span data-key="2d9c84c7c66c4b36bb9ae687ebe891c9"><span data-offset-key="2d9c84c7c66c4b36bb9ae687ebe891c9:0">const NavbarWithRouter = withRouter(Navbar);</span></span>

Copied!

<span data-key="30b56dcc837e4970a6836c48f25fd19d"><span data-offset-key="30b56dcc837e4970a6836c48f25fd19d:0">Usually, HOCs accept additional arguments. In this example from Relay, a config object is used to specify a component’s data dependencies:</span></span>

1

<span data-key="962575114f654c399673af5f037cbded"><span data-offset-key="962575114f654c399673af5f037cbded:0">const CommentWithRelay = Relay.createContainer(Comment, config);</span></span>

Copied!

<span data-key="18b3a2cd6e8e4134b14b3b71408c7743"><span data-offset-key="18b3a2cd6e8e4134b14b3b71408c7743:0">The most common signature for HOCs looks like this:</span></span>

1

<span data-key="6f9aea8ce6744979849ab7de1c40f4a6"><span data-offset-key="6f9aea8ce6744979849ab7de1c40f4a6:0">// React Redux's \`connect\`</span></span>

2

<span data-key="cd19ca1504f34dbba590b73cc6b69b4f"><span data-offset-key="cd19ca1504f34dbba590b73cc6b69b4f:0">const ConnectedComment = connect(commentSelector, commentActions)(CommentList);</span></span>

Copied!

<span data-key="70f1b2eb92d3472389f446ebb488bb8d"><span data-offset-key="70f1b2eb92d3472389f446ebb488bb8d:0"><span class="css-901oao css-16my406 r-36ujnk">What?!</span></span><span data-offset-key="70f1b2eb92d3472389f446ebb488bb8d:1"> If you break it apart, it’s easier to see what’s going on.</span></span>

1

<span data-key="9174cf932ec241798101400beb084e65"><span data-offset-key="9174cf932ec241798101400beb084e65:0">// connect is a function that returns another function</span></span>

2

<span data-key="025573bec8964ecda3cf79752d803a19"><span data-offset-key="025573bec8964ecda3cf79752d803a19:0">const enhance = connect(commentListSelector, commentListActions);</span></span>

3

<span data-key="7df6de1bf53942ae90c4aaa07ccc07b9"><span data-offset-key="7df6de1bf53942ae90c4aaa07ccc07b9:0">// The returned function is a HOC, which returns a component that is connected</span></span>

4

<span data-key="17c8d4c16c004fb696dd358ce6f74758"><span data-offset-key="17c8d4c16c004fb696dd358ce6f74758:0">// to the Redux store</span></span>

5

<span data-key="d7ed430867314b088a6f4da0eac8a454"><span data-offset-key="d7ed430867314b088a6f4da0eac8a454:0">const ConnectedComment = enhance(CommentList);</span></span>

Copied!

<span data-key="815d7404bcb44bdfb133dbd7550f4f08"><span data-offset-key="815d7404bcb44bdfb133dbd7550f4f08:0">In other words, </span><span data-offset-key="815d7404bcb44bdfb133dbd7550f4f08:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">connect</span></span><span data-offset-key="815d7404bcb44bdfb133dbd7550f4f08:2"> is a higher-order function that returns a higher-order component!</span></span>

<span data-key="2ac39234fbef4df2bd9307f472de6eea"><span data-offset-key="2ac39234fbef4df2bd9307f472de6eea:0">This form may seem confusing or unnecessary, but it has a useful property. Single-argument HOCs like the one returned by the </span><span data-offset-key="2ac39234fbef4df2bd9307f472de6eea:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">connect</span></span><span data-offset-key="2ac39234fbef4df2bd9307f472de6eea:2"> function have the signature </span><span data-offset-key="2ac39234fbef4df2bd9307f472de6eea:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">Component =&gt; Component</span></span><span data-offset-key="2ac39234fbef4df2bd9307f472de6eea:4">. Functions whose output type is the same as its input type are really easy to compose together.</span></span>

1

<span data-key="6a201aae619a49fabc632569e2f5ce41"><span data-offset-key="6a201aae619a49fabc632569e2f5ce41:0">// Instead of doing this...</span></span>

2

<span data-key="20c767c9f72244b3bce016a9c40db93b"><span data-offset-key="20c767c9f72244b3bce016a9c40db93b:0">const EnhancedComponent = withRouter(connect(commentSelector)(WrappedComponent))</span></span>

3

<span data-key="f9e0698a184a430e8fdebaa491ff6c76"><span data-offset-key="f9e0698a184a430e8fdebaa491ff6c76:0"><span data-slate-zero-width="n">​</span></span></span>

4

<span data-key="4a81c1771cc141218cf4df5749faf5b9"><span data-offset-key="4a81c1771cc141218cf4df5749faf5b9:0">// ... you can use a function composition utility</span></span>

5

<span data-key="c9191084d173451bb1d01af4e364293c"><span data-offset-key="c9191084d173451bb1d01af4e364293c:0">// compose(f, g, h) is the same as (...args) =&gt; f(g(h(...args)))</span></span>

6

<span data-key="f910983179bb4a6a84097345f56f1f00"><span data-offset-key="f910983179bb4a6a84097345f56f1f00:0">const enhance = compose(</span></span>

7

<span data-key="d047bec565b240d6b41e60324a49e624"><span data-offset-key="d047bec565b240d6b41e60324a49e624:0"> // These are both single-argument HOCs</span></span>

8

<span data-key="47aaf4685a154c6c9aade925cb5bc75b"><span data-offset-key="47aaf4685a154c6c9aade925cb5bc75b:0"> withRouter,</span></span>

9

<span data-key="207d151233134611ace70f624483ff57"><span data-offset-key="207d151233134611ace70f624483ff57:0"> connect(commentSelector)</span></span>

10

<span data-key="87a79826a6c84a2d9d517b81d1417c1f"><span data-offset-key="87a79826a6c84a2d9d517b81d1417c1f:0">)</span></span>

11

<span data-key="2b38584fc8b54347a3f5bc8ffc3c61e1"><span data-offset-key="2b38584fc8b54347a3f5bc8ffc3c61e1:0">const EnhancedComponent = enhance(WrappedComponent)</span></span>

Copied!

<span data-key="06b6d56cf640484ebb90601c65f74932"><span data-offset-key="06b6d56cf640484ebb90601c65f74932:0">(This same property also allows </span><span data-offset-key="06b6d56cf640484ebb90601c65f74932:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">connect</span></span><span data-offset-key="06b6d56cf640484ebb90601c65f74932:2"> and other enhancer-style HOCs to be used as decorators, an experimental JavaScript proposal.)</span></span>

<span data-key="e0955b0ea31e48389c57e393bf7f3be8"><span data-offset-key="e0955b0ea31e48389c57e393bf7f3be8:0">The </span><span data-offset-key="e0955b0ea31e48389c57e393bf7f3be8:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">compose</span></span><span data-offset-key="e0955b0ea31e48389c57e393bf7f3be8:2"> utility function is provided by many third-party libraries including lodash (as </span><span data-offset-key="e0955b0ea31e48389c57e393bf7f3be8:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">\[lodash.flowRight\](&lt;https://lodash.com/docs/\#flowRight&gt;)</span></span><span data-offset-key="e0955b0ea31e48389c57e393bf7f3be8:4">), </span></span><a href="https://redux.js.org/api/compose" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="d50efe381df7499f963b735c2aa68037"><span data-offset-key="d50efe381df7499f963b735c2aa68037:0">Redux</span></span></span></a><span data-key="35ee281d91fa495e8e9607acbeaab7aa"><span data-offset-key="35ee281d91fa495e8e9607acbeaab7aa:0">, and </span></span><a href="https://ramdajs.com/docs/#compose" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="b0a05fd81c554cf59bc95e4dff83737d"><span data-offset-key="b0a05fd81c554cf59bc95e4dff83737d:0">Ramda</span></span></span></a><span data-key="f0d3ce163fb4414082a254d82d15eb5c"><span data-offset-key="f0d3ce163fb4414082a254d82d15eb5c:0">.</span></span>

<span data-key="23f8e8f6453346779cdc9969c1d855d1"><span data-offset-key="23f8e8f6453346779cdc9969c1d855d1:0">Convention: Wrap the Display Name for Easy Debugging</span></span>

<span data-key="7cffb94984e149a78bcd5cbfaaaf9c49"><span data-offset-key="7cffb94984e149a78bcd5cbfaaaf9c49:0">The container components created by HOCs show up in the </span></span><a href="https://github.com/facebook/react/tree/main/packages/react-devtools" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="78914b8b373b431981611ec6e1f9e272"><span data-offset-key="78914b8b373b431981611ec6e1f9e272:0">React Developer Tools</span></span></span></a><span data-key="67e26aad9e664a7db347ff6ce901eb60"><span data-offset-key="67e26aad9e664a7db347ff6ce901eb60:0"> like any other component. To ease debugging, choose a display name that communicates that it’s the result of a HOC.</span></span>

<span data-key="5dfe726556b24c03a655af993fd0dc03"><span data-offset-key="5dfe726556b24c03a655af993fd0dc03:0">The most common technique is to wrap the display name of the wrapped component. So if your higher-order component is named </span><span data-offset-key="5dfe726556b24c03a655af993fd0dc03:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">withSubscription</span></span><span data-offset-key="5dfe726556b24c03a655af993fd0dc03:2">, and the wrapped component’s display name is </span><span data-offset-key="5dfe726556b24c03a655af993fd0dc03:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">CommentList</span></span><span data-offset-key="5dfe726556b24c03a655af993fd0dc03:4">, use the display name </span><span data-offset-key="5dfe726556b24c03a655af993fd0dc03:5"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">WithSubscription(CommentList)</span></span><span data-offset-key="5dfe726556b24c03a655af993fd0dc03:6">:</span></span>

1

<span data-key="6872a02e8dc441f093a870f5f8603151"><span data-offset-key="6872a02e8dc441f093a870f5f8603151:0">function withSubscription(WrappedComponent) {</span></span>

2

<span data-key="d6f97895a7da44ffbe0d86b6cd0282d6"><span data-offset-key="d6f97895a7da44ffbe0d86b6cd0282d6:0"> class WithSubscription extends React.Component {/\* ... \*/}</span></span>

3

<span data-key="c43e1732b1274ed794d074d0f3c1fa6b"><span data-offset-key="c43e1732b1274ed794d074d0f3c1fa6b:0"> WithSubscription.displayName = \`WithSubscription(${getDisplayName(WrappedComponent)})\`;</span></span>

4

<span data-key="88b86ed8c0a04496a05cc4a83d2a9ce2"><span data-offset-key="88b86ed8c0a04496a05cc4a83d2a9ce2:0"> return WithSubscription;</span></span>

5

<span data-key="88f963a055cc40a5a5dabca196910508"><span data-offset-key="88f963a055cc40a5a5dabca196910508:0">}</span></span>

6

<span data-key="c41301a2f10142e3b3d7fa964158c05f"><span data-offset-key="c41301a2f10142e3b3d7fa964158c05f:0"><span data-slate-zero-width="n">​</span></span></span>

7

<span data-key="d1355323b15d4d9c80205c6ef6fdcf43"><span data-offset-key="d1355323b15d4d9c80205c6ef6fdcf43:0">function getDisplayName(WrappedComponent) {</span></span>

8

<span data-key="a329eb3912c14190949ebb38ca1ad31b"><span data-offset-key="a329eb3912c14190949ebb38ca1ad31b:0"> return WrappedComponent.displayName || WrappedComponent.name || 'Component';</span></span>

9

<span data-key="5e7ce53e70b54127a79a5c8215e211a8"><span data-offset-key="5e7ce53e70b54127a79a5c8215e211a8:0">}</span></span>

Copied!

<span data-key="30ee33e569ae42258d4806780c94b4c5"><span data-offset-key="30ee33e569ae42258d4806780c94b4c5:0">Caveats</span></span>

<span data-key="a63c6adf70e84b60b038a364d46d3265"><span data-offset-key="a63c6adf70e84b60b038a364d46d3265:0">Higher-order components come with a few caveats that aren’t immediately obvious if you’re new to React.</span></span>

<span data-key="39d6f042c77f48b1991ed83b01ec47f2"><span data-offset-key="39d6f042c77f48b1991ed83b01ec47f2:0">Don’t Use HOCs Inside the render Method</span></span>

<span data-key="44d72f3a6309435195a01f2a6a4f06c5"><span data-offset-key="44d72f3a6309435195a01f2a6a4f06c5:0">React’s diffing algorithm (called </span></span><a href="https://reactjs.org/docs/reconciliation.html" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="c8fb37643c714aa0bf40210af55a8d04"><span data-offset-key="c8fb37643c714aa0bf40210af55a8d04:0">Reconciliation</span></span></span></a><span data-key="251bbc4dc2b8444fabe15086d2452a1b"><span data-offset-key="251bbc4dc2b8444fabe15086d2452a1b:0">) uses component identity to determine whether it should update the existing subtree or throw it away and mount a new one. If the component returned from </span><span data-offset-key="251bbc4dc2b8444fabe15086d2452a1b:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">render</span></span><span data-offset-key="251bbc4dc2b8444fabe15086d2452a1b:2"> is identical (</span><span data-offset-key="251bbc4dc2b8444fabe15086d2452a1b:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">===</span></span><span data-offset-key="251bbc4dc2b8444fabe15086d2452a1b:4">) to the component from the previous render, React recursively updates the subtree by diffing it with the new one. If they’re not equal, the previous subtree is unmounted completely.</span></span>

<span data-key="67ced4d746374a18af47dfe66a399d39"><span data-offset-key="67ced4d746374a18af47dfe66a399d39:0">Normally, you shouldn’t need to think about this. But it matters for HOCs because it means you can’t apply a HOC to a component within the render method of a component:</span></span>

1

<span data-key="4352943e07db41cd83fb7589013904ec"><span data-offset-key="4352943e07db41cd83fb7589013904ec:0">render() {</span></span>

2

<span data-key="bc4ed151cb8a49e4969b2e7ed9e9ddba"><span data-offset-key="bc4ed151cb8a49e4969b2e7ed9e9ddba:0"> // A new version of EnhancedComponent is created on every render</span></span>

3

<span data-key="d35ee32084e84cbf87f590f6d1f561ba"><span data-offset-key="d35ee32084e84cbf87f590f6d1f561ba:0"> // EnhancedComponent1 !== EnhancedComponent2</span></span>

4

<span data-key="0cd8a4dab06a4432b80097948be808db"><span data-offset-key="0cd8a4dab06a4432b80097948be808db:0"> const EnhancedComponent = enhance(MyComponent);</span></span>

5

<span data-key="1bb988b1c68b4afc8f7558580f4b3868"><span data-offset-key="1bb988b1c68b4afc8f7558580f4b3868:0"> // That causes the entire subtree to unmount/remount each time!</span></span>

6

<span data-key="f8b2959a23874ea28a88ea82669b08d9"><span data-offset-key="f8b2959a23874ea28a88ea82669b08d9:0"> return &lt;EnhancedComponent /&gt;;</span></span>

7

<span data-key="6d3623d1500a4612b4538c2f53afea24"><span data-offset-key="6d3623d1500a4612b4538c2f53afea24:0">}</span></span>

Copied!

<span data-key="d25f1abce7004401ae019ed07ee98607"><span data-offset-key="d25f1abce7004401ae019ed07ee98607:0">The problem here isn’t just about performance — remounting a component causes the state of that component and all of its children to be lost.</span></span>

<span data-key="ee12f68151ed41ec980b141d19a219ec"><span data-offset-key="ee12f68151ed41ec980b141d19a219ec:0">Instead, apply HOCs outside the component definition so that the resulting component is created only once. Then, its identity will be consistent across renders. This is usually what you want, anyway.</span></span>

<span data-key="81483c22bce34418bf229645268c0245"><span data-offset-key="81483c22bce34418bf229645268c0245:0">In those rare cases where you need to apply a HOC dynamically, you can also do it inside a component’s lifecycle methods or its constructor.</span></span>

<span data-key="4f580948366f453aaa9765db2b4ad0f9"><span data-offset-key="4f580948366f453aaa9765db2b4ad0f9:0">Static Methods Must Be Copied Over</span></span>

<span data-key="a5302e6dba5044e3999ec7e2d064fb8e"><span data-offset-key="a5302e6dba5044e3999ec7e2d064fb8e:0">Sometimes it’s useful to define a static method on a React component. For example, Relay containers expose a static method </span><span data-offset-key="a5302e6dba5044e3999ec7e2d064fb8e:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">getFragment</span></span><span data-offset-key="a5302e6dba5044e3999ec7e2d064fb8e:2"> to facilitate the composition of GraphQL fragments.</span></span>

<span data-key="0aa38a22eeaa4f0aafc0520d776d719f"><span data-offset-key="0aa38a22eeaa4f0aafc0520d776d719f:0">When you apply a HOC to a component, though, the original component is wrapped with a container component. That means the new component does not have any of the static methods of the original component.</span></span>

1

<span data-key="dbd310fb9b5c4a7898d6a96fe697cc57"><span data-offset-key="dbd310fb9b5c4a7898d6a96fe697cc57:0">// Define a static method</span></span>

2

<span data-key="bae1d507bc364acf82727ab0f041c113"><span data-offset-key="bae1d507bc364acf82727ab0f041c113:0">WrappedComponent.staticMethod = function() {/\*...\*/}</span></span>

3

<span data-key="93461baad6804bd2a0bef969e410bdee"><span data-offset-key="93461baad6804bd2a0bef969e410bdee:0">// Now apply a HOC</span></span>

4

<span data-key="dfbd669de68f428d94b19d335c559c20"><span data-offset-key="dfbd669de68f428d94b19d335c559c20:0">const EnhancedComponent = enhance(WrappedComponent);</span></span>

5

<span data-key="9d26bb8390a147919c3bcdcdf62ab8e0"><span data-offset-key="9d26bb8390a147919c3bcdcdf62ab8e0:0"><span data-slate-zero-width="n">​</span></span></span>

6

<span data-key="56d89939a8784417b8f97b415c1953d3"><span data-offset-key="56d89939a8784417b8f97b415c1953d3:0">// The enhanced component has no static method</span></span>

7

<span data-key="fd0c2c54a59d43ec850c576ce81a146a"><span data-offset-key="fd0c2c54a59d43ec850c576ce81a146a:0">typeof EnhancedComponent.staticMethod === 'undefined' // true</span></span>

Copied!

<span data-key="d222fcc985a54dfbbb332fa7cc1ee781"><span data-offset-key="d222fcc985a54dfbbb332fa7cc1ee781:0">To solve this, you could copy the methods onto the container before returning it:</span></span>

1

<span data-key="ba73c28491324ec3a87cbeacfe6ad4df"><span data-offset-key="ba73c28491324ec3a87cbeacfe6ad4df:0">function enhance(WrappedComponent) {</span></span>

2

<span data-key="cbb0b3cd4efa4e40904e60fea3f8ceff"><span data-offset-key="cbb0b3cd4efa4e40904e60fea3f8ceff:0"> class Enhance extends React.Component {/\*...\*/}</span></span>

3

<span data-key="afe9b13092c94a9d8e0f5e830e8070d5"><span data-offset-key="afe9b13092c94a9d8e0f5e830e8070d5:0"> // Must know exactly which method(s) to copy :(</span></span>

4

<span data-key="a65648b5e8994de09a02c07b33c215d5"><span data-offset-key="a65648b5e8994de09a02c07b33c215d5:0"> Enhance.staticMethod = WrappedComponent.staticMethod;</span></span>

5

<span data-key="cabe5692a8c94d8ca4a350105801d2a1"><span data-offset-key="cabe5692a8c94d8ca4a350105801d2a1:0"> return Enhance;</span></span>

6

<span data-key="4e7578af99e348b8819272eadf64a228"><span data-offset-key="4e7578af99e348b8819272eadf64a228:0">}</span></span>

Copied!

<span data-key="093f564b835b48ababb1caa167d9202d"><span data-offset-key="093f564b835b48ababb1caa167d9202d:0">However, this requires you to know exactly which methods need to be copied. You can use </span></span><a href="https://github.com/mridgway/hoist-non-react-statics" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="ae1056074d3542be9b9a723cbdb8d214"><span data-offset-key="ae1056074d3542be9b9a723cbdb8d214:0">hoist-non-react-statics</span></span></span></a><span data-key="4d79a72483a94d5e8ae2653824ed1206"><span data-offset-key="4d79a72483a94d5e8ae2653824ed1206:0"> to automatically copy all non-React static methods:</span></span>

1

<span data-key="836e89f6e62c43b786e217f7dfa64791"><span data-offset-key="836e89f6e62c43b786e217f7dfa64791:0">import hoistNonReactStatic from 'hoist-non-react-statics';</span></span>

2

<span data-key="8a30606a270647c3819457c16391b9bb"><span data-offset-key="8a30606a270647c3819457c16391b9bb:0">function enhance(WrappedComponent) {</span></span>

3

<span data-key="6eedb630cce7439dbb259261d650af6b"><span data-offset-key="6eedb630cce7439dbb259261d650af6b:0"> class Enhance extends React.Component {/\*...\*/}</span></span>

4

<span data-key="fb4cc0ead56e4198ac75ea371ac21e65"><span data-offset-key="fb4cc0ead56e4198ac75ea371ac21e65:0"> hoistNonReactStatic(Enhance, WrappedComponent);</span></span>

5

<span data-key="6e84d569105a423d8f511a08081591e8"><span data-offset-key="6e84d569105a423d8f511a08081591e8:0"> return Enhance;</span></span>

6

<span data-key="ff366efdaf294508b7252b6836ea7f92"><span data-offset-key="ff366efdaf294508b7252b6836ea7f92:0">}</span></span>

Copied!

<span data-key="ab7b8622ad1e4e9bb8a952b05528d153"><span data-offset-key="ab7b8622ad1e4e9bb8a952b05528d153:0">Another possible solution is to export the static method separately from the component itself.</span></span>

1

<span data-key="9dd43e95cbff48ed96601d452e2924f8"><span data-offset-key="9dd43e95cbff48ed96601d452e2924f8:0">// Instead of...</span></span>

2

<span data-key="def5cf5c1f004c04aefb508e4160f979"><span data-offset-key="def5cf5c1f004c04aefb508e4160f979:0">MyComponent.someFunction = someFunction;</span></span>

3

<span data-key="b4b42c386c9f41afac7b491f1bb610d1"><span data-offset-key="b4b42c386c9f41afac7b491f1bb610d1:0">export default MyComponent;</span></span>

4

<span data-key="e8fe92cf2a824894b0832faf75946ffd"><span data-offset-key="e8fe92cf2a824894b0832faf75946ffd:0"><span data-slate-zero-width="n">​</span></span></span>

5

<span data-key="2d6e6db44c42418796095d9ebf9f0c29"><span data-offset-key="2d6e6db44c42418796095d9ebf9f0c29:0">// ...export the method separately...</span></span>

6

<span data-key="99d5bcd82f024871b3c0c7a55399b998"><span data-offset-key="99d5bcd82f024871b3c0c7a55399b998:0">export { someFunction };</span></span>

7

<span data-key="df0c253d048c42d7a0e71c990fb4a964"><span data-offset-key="df0c253d048c42d7a0e71c990fb4a964:0"><span data-slate-zero-width="n">​</span></span></span>

8

<span data-key="4f03c88a3d284c3ea846613e0deea840"><span data-offset-key="4f03c88a3d284c3ea846613e0deea840:0">// ...and in the consuming module, import both</span></span>

9

<span data-key="04aa819e4eff4c879e2fd151f08ed187"><span data-offset-key="04aa819e4eff4c879e2fd151f08ed187:0">import MyComponent, { someFunction } from './MyComponent.js';</span></span>

Copied!

<span data-key="64aeba2c64164dd29c9128d187c9fc51"><span data-offset-key="64aeba2c64164dd29c9128d187c9fc51:0">Refs Aren’t Passed Through</span></span>

<span data-key="182e06a0877d465d8d227dcec3c3c1f0"><span data-offset-key="182e06a0877d465d8d227dcec3c3c1f0:0">While the convention for higher-order components is to pass through all props to the wrapped component, this does not work for refs. That’s because </span><span data-offset-key="182e06a0877d465d8d227dcec3c3c1f0:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">ref</span></span><span data-offset-key="182e06a0877d465d8d227dcec3c3c1f0:2"> is not really a prop — like </span><span data-offset-key="182e06a0877d465d8d227dcec3c3c1f0:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">key</span></span><span data-offset-key="182e06a0877d465d8d227dcec3c3c1f0:4">, it’s handled specially by React. If you add a ref to an element whose component is the result of a HOC, the ref refers to an instance of the outermost container component, not the wrapped component.</span></span>

<span data-key="f25fade601bc42f795c0701d909f4c20"><span data-offset-key="f25fade601bc42f795c0701d909f4c20:0">The solution for this problem is to use the </span><span data-offset-key="f25fade601bc42f795c0701d909f4c20:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">React.forwardRef</span></span><span data-offset-key="f25fade601bc42f795c0701d909f4c20:2"> API (introduced with React 16.3). </span></span><a href="https://reactjs.org/docs/forwarding-refs.html" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="57f30598010d4505b56f6b8e975293ab"><span data-offset-key="57f30598010d4505b56f6b8e975293ab:0">Learn more about it in the forwarding refs section</span></span></span></a><span data-key="06a247955e9f4d24a9aaa135dfa83f6e"><span data-offset-key="06a247955e9f4d24a9aaa135dfa83f6e:0">.</span></span>

<span data-key="5d95ac4b700a4d71a470d5f43f31b98b"><span data-offset-key="5d95ac4b700a4d71a470d5f43f31b98b:0"><span class="css-901oao css-16my406 r-b88u0q">JSX In Depth</span></span></span>

<span data-key="2a33a4d096094ca0b41e0e1999ec84df"><span data-offset-key="2a33a4d096094ca0b41e0e1999ec84df:0">Fundamentally, JSX just provides syntactic sugar for the </span><span data-offset-key="2a33a4d096094ca0b41e0e1999ec84df:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">React.createElement(component, props, ...children)</span></span><span data-offset-key="2a33a4d096094ca0b41e0e1999ec84df:2"> function. The JSX code:</span></span>

1

<span data-key="784a3d15e77d475dbf54fe8184b83c01"><span data-offset-key="784a3d15e77d475dbf54fe8184b83c01:0">&lt;MyButton color="blue" shadowSize={2}&gt;</span></span>

2

<span data-key="d7363a4336554b42b25cc3aa48367651"><span data-offset-key="d7363a4336554b42b25cc3aa48367651:0"> Click Me</span></span>

3

<span data-key="0249afa6be5342a59752a23ad9a9b49a"><span data-offset-key="0249afa6be5342a59752a23ad9a9b49a:0">&lt;/MyButton&gt;</span></span>

Copied!

<span data-key="09521d6588b64d79a85b3ec1d85e4e6e"><span data-offset-key="09521d6588b64d79a85b3ec1d85e4e6e:0">compiles into:</span></span>

1

<span data-key="3b52d63a513c480e881cccfbb6e90669"><span data-offset-key="3b52d63a513c480e881cccfbb6e90669:0">React.createElement(</span></span>

2

<span data-key="fdca376ea48d4a9e833e9bb68dedc162"><span data-offset-key="fdca376ea48d4a9e833e9bb68dedc162:0"> MyButton,</span></span>

3

<span data-key="8d843d9058d94b8d9b5d0dad5cffeb5c"><span data-offset-key="8d843d9058d94b8d9b5d0dad5cffeb5c:0"> {color: 'blue', shadowSize: 2},</span></span>

4

<span data-key="6a3ba3a190d64b5f9904d083dd4acef6"><span data-offset-key="6a3ba3a190d64b5f9904d083dd4acef6:0"> 'Click Me'</span></span>

5

<span data-key="54fa0deafbd443debfd4a5fdb017ad67"><span data-offset-key="54fa0deafbd443debfd4a5fdb017ad67:0">)</span></span>

Copied!

<span data-key="2b140025950944c4a6354a177371b4ed"><span data-offset-key="2b140025950944c4a6354a177371b4ed:0">You can also use the self-closing form of the tag if there are no children. So:</span></span>

1

<span data-key="38c77e772d914ae083336a179caa002d"><span data-offset-key="38c77e772d914ae083336a179caa002d:0">&lt;div className="sidebar" /&gt;</span></span>

Copied!

<span data-key="abb2c05d520c4d57bc805f609d957660"><span data-offset-key="abb2c05d520c4d57bc805f609d957660:0">compiles into:</span></span>

1

<span data-key="06598d88cb72437ea3c0572b8ccca002"><span data-offset-key="06598d88cb72437ea3c0572b8ccca002:0">React.createElement(</span></span>

2

<span data-key="9fe50d3d23544ce4a6237c6e815cd198"><span data-offset-key="9fe50d3d23544ce4a6237c6e815cd198:0"> 'div',</span></span>

3

<span data-key="ef9f439c9ff64c78ab79dc1f73ccef8c"><span data-offset-key="ef9f439c9ff64c78ab79dc1f73ccef8c:0"> {className: 'sidebar'}</span></span>

4

<span data-key="c6e238ccf66841e89e44161506450f41"><span data-offset-key="c6e238ccf66841e89e44161506450f41:0">)</span></span>

Copied!

<span data-key="35a98f4b25ff4f36a6d54746234af608"><span data-offset-key="35a98f4b25ff4f36a6d54746234af608:0">If you want to test out how some specific JSX is converted into JavaScript, you can try out </span></span><a href="https://babeljs.io/repl/#?presets=react&amp;code_lz=GYVwdgxgLglg9mABACwKYBt1wBQEpEDeAUIogE6pQhlIA8AJjAG4B8AEhlogO5xnr0AhLQD0jVgG4iAXyJA" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="a8090006f3ab48d1b297918ee72ebefc"><span data-offset-key="a8090006f3ab48d1b297918ee72ebefc:0">the online Babel compiler</span></span></span></a><span data-key="34773f472d0e43bbbd72756e10d1f210"><span data-offset-key="34773f472d0e43bbbd72756e10d1f210:0">.</span></span>

<span data-key="ef439e71b3164f2f9cbc23e920451ff0"><span data-offset-key="ef439e71b3164f2f9cbc23e920451ff0:0">Specifying The React Element Type</span></span>

<span data-key="98a1f8f7626547b79691d7dacaa72ebe"><span data-offset-key="98a1f8f7626547b79691d7dacaa72ebe:0">The first part of a JSX tag determines the type of the React element.</span></span>

<span data-key="052fa3582a454924b3b58003f1442fd2"><span data-offset-key="052fa3582a454924b3b58003f1442fd2:0">Capitalized types indicate that the JSX tag is referring to a React component. These tags get compiled into a direct reference to the named variable, so if you use the JSX </span><span data-offset-key="052fa3582a454924b3b58003f1442fd2:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">&lt;Foo /&gt;</span></span><span data-offset-key="052fa3582a454924b3b58003f1442fd2:2"> expression, </span><span data-offset-key="052fa3582a454924b3b58003f1442fd2:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">Foo</span></span><span data-offset-key="052fa3582a454924b3b58003f1442fd2:4"> must be in scope.</span></span>

<span data-key="fbe6be025a3d4a82976440d1b8b2f82e"><span data-offset-key="fbe6be025a3d4a82976440d1b8b2f82e:0">React Must Be in Scope</span></span>

<span data-key="08811d2ee3fd4ca68f84fe8c46285cea"><span data-offset-key="08811d2ee3fd4ca68f84fe8c46285cea:0">Since JSX compiles into calls to </span><span data-offset-key="08811d2ee3fd4ca68f84fe8c46285cea:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">React.createElement</span></span><span data-offset-key="08811d2ee3fd4ca68f84fe8c46285cea:2">, the </span><span data-offset-key="08811d2ee3fd4ca68f84fe8c46285cea:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">React</span></span><span data-offset-key="08811d2ee3fd4ca68f84fe8c46285cea:4"> library must also always be in scope from your JSX code.</span></span>

<span data-key="46d01bffd4e24bcab6a43db0e17f8512"><span data-offset-key="46d01bffd4e24bcab6a43db0e17f8512:0">For example, both of the imports are necessary in this code, even though </span><span data-offset-key="46d01bffd4e24bcab6a43db0e17f8512:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">React</span></span><span data-offset-key="46d01bffd4e24bcab6a43db0e17f8512:2"> and </span><span data-offset-key="46d01bffd4e24bcab6a43db0e17f8512:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">CustomButton</span></span><span data-offset-key="46d01bffd4e24bcab6a43db0e17f8512:4"> are not directly referenced from JavaScript:</span></span>

1

<span data-key="35781d42f5564503a33de5658c8fc809"><span data-offset-key="35781d42f5564503a33de5658c8fc809:0">import React from 'react';import CustomButton from './CustomButton';function WarningButton() {</span></span>

2

<span data-key="461dae24966745658c7b6186dc6e3a54"><span data-offset-key="461dae24966745658c7b6186dc6e3a54:0"> // return React.createElement(CustomButton, {color: 'red'}, null); return &lt;CustomButton color="red" /&gt;;</span></span>

3

<span data-key="601673b651624273a17337e2cd3cce7e"><span data-offset-key="601673b651624273a17337e2cd3cce7e:0">}</span></span>

Copied!

<span data-key="cba1ffcf69b844a1bbc38e8342a74217"><span data-offset-key="cba1ffcf69b844a1bbc38e8342a74217:0">If you don’t use a JavaScript bundler and loaded React from a </span><span data-offset-key="cba1ffcf69b844a1bbc38e8342a74217:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">&lt;script&gt;</span></span><span data-offset-key="cba1ffcf69b844a1bbc38e8342a74217:2"> tag, it is already in scope as the </span><span data-offset-key="cba1ffcf69b844a1bbc38e8342a74217:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">React</span></span><span data-offset-key="cba1ffcf69b844a1bbc38e8342a74217:4"> global.</span></span>

<span data-key="362ae6de30bf4a7e9abe0def69660e9d"><span data-offset-key="362ae6de30bf4a7e9abe0def69660e9d:0">Using Dot Notation for JSX Type</span></span>

<span data-key="46f2c31ac2774670933c880c1a0e2813"><span data-offset-key="46f2c31ac2774670933c880c1a0e2813:0">You can also refer to a React component using dot-notation from within JSX. This is convenient if you have a single module that exports many React components. For example, if </span><span data-offset-key="46f2c31ac2774670933c880c1a0e2813:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">MyComponents.DatePicker</span></span><span data-offset-key="46f2c31ac2774670933c880c1a0e2813:2"> is a component, you can use it directly from JSX with:</span></span>

1

<span data-key="45a2e2bf46f8420aa915ecb8276216df"><span data-offset-key="45a2e2bf46f8420aa915ecb8276216df:0">import React from 'react';</span></span>

2

<span data-key="9a9ac138be004414be6ff5e3754eade9"><span data-offset-key="9a9ac138be004414be6ff5e3754eade9:0"><span data-slate-zero-width="n">​</span></span></span>

3

<span data-key="29128e239c484826a10a9b78d096b2bd"><span data-offset-key="29128e239c484826a10a9b78d096b2bd:0">const MyComponents = {</span></span>

4

<span data-key="d9d0d643e9734214a4ee4138870975c1"><span data-offset-key="d9d0d643e9734214a4ee4138870975c1:0"> DatePicker: function DatePicker(props) {</span></span>

5

<span data-key="61c071f1d65f491ba86ef0c120a093a7"><span data-offset-key="61c071f1d65f491ba86ef0c120a093a7:0"> return &lt;div&gt;Imagine a {props.color} datepicker here.&lt;/div&gt;;</span></span>

6

<span data-key="f258e7709b8e413586fe34f1fdce96d5"><span data-offset-key="f258e7709b8e413586fe34f1fdce96d5:0"> }</span></span>

7

<span data-key="9df92de63ad3403a9745da4c37e59d1f"><span data-offset-key="9df92de63ad3403a9745da4c37e59d1f:0">}</span></span>

8

<span data-key="a1ff3fca105343f3b35959529f8d735f"><span data-offset-key="a1ff3fca105343f3b35959529f8d735f:0"><span data-slate-zero-width="n">​</span></span></span>

9

<span data-key="a0aea387739f4d0e88497e39853c07e3"><span data-offset-key="a0aea387739f4d0e88497e39853c07e3:0">function BlueDatePicker() {</span></span>

10

<span data-key="75f2a41ee9744d0790a6056db2ddd773"><span data-offset-key="75f2a41ee9744d0790a6056db2ddd773:0"> return &lt;MyComponents.DatePicker color="blue" /&gt;;}</span></span>

Copied!

<span data-key="c49f3e845f7d4e588018ce1dedfec8e8"><span data-offset-key="c49f3e845f7d4e588018ce1dedfec8e8:0">User-Defined Components Must Be Capitalized</span></span>

<span data-key="1ef1f91c5fcf4b10a14e3a15597c8653"><span data-offset-key="1ef1f91c5fcf4b10a14e3a15597c8653:0">When an element type starts with a lowercase letter, it refers to a built-in component like </span><span data-offset-key="1ef1f91c5fcf4b10a14e3a15597c8653:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">&lt;div&gt;</span></span><span data-offset-key="1ef1f91c5fcf4b10a14e3a15597c8653:2"> or </span><span data-offset-key="1ef1f91c5fcf4b10a14e3a15597c8653:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">&lt;span&gt;</span></span><span data-offset-key="1ef1f91c5fcf4b10a14e3a15597c8653:4"> and results in a string </span><span data-offset-key="1ef1f91c5fcf4b10a14e3a15597c8653:5"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">'div'</span></span><span data-offset-key="1ef1f91c5fcf4b10a14e3a15597c8653:6"> or </span><span data-offset-key="1ef1f91c5fcf4b10a14e3a15597c8653:7"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">'span'</span></span><span data-offset-key="1ef1f91c5fcf4b10a14e3a15597c8653:8"> passed to </span><span data-offset-key="1ef1f91c5fcf4b10a14e3a15597c8653:9"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">React.createElement</span></span><span data-offset-key="1ef1f91c5fcf4b10a14e3a15597c8653:10">. Types that start with a capital letter like </span><span data-offset-key="1ef1f91c5fcf4b10a14e3a15597c8653:11"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">&lt;Foo /&gt;</span></span><span data-offset-key="1ef1f91c5fcf4b10a14e3a15597c8653:12"> compile to </span><span data-offset-key="1ef1f91c5fcf4b10a14e3a15597c8653:13"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">React.createElement(Foo)</span></span><span data-offset-key="1ef1f91c5fcf4b10a14e3a15597c8653:14"> and correspond to a component defined or imported in your JavaScript file.</span></span>

<span data-key="0ce81fd06cbe4f0eb6c026f5dcb37282"><span data-offset-key="0ce81fd06cbe4f0eb6c026f5dcb37282:0">We recommend naming components with a capital letter. If you do have a component that starts with a lowercase letter, assign it to a capitalized variable before using it in JSX.</span></span>

<span data-key="973b4e97216f4da6a1e8f5e9eafbecbf"><span data-offset-key="973b4e97216f4da6a1e8f5e9eafbecbf:0">For example, this code will not run as expected:</span></span>

1

<span data-key="c12dd9d968f44597829db3266bbe3618"><span data-offset-key="c12dd9d968f44597829db3266bbe3618:0">import React from 'react';</span></span>

2

<span data-key="60b0eebee22241d888f16a1acea37fce"><span data-offset-key="60b0eebee22241d888f16a1acea37fce:0"><span data-slate-zero-width="n">​</span></span></span>

3

<span data-key="465062ab0f4844fba8ecaf21b78e070f"><span data-offset-key="465062ab0f4844fba8ecaf21b78e070f:0">// Wrong! This is a component and should have been capitalized:function hello(props) { // Correct! This use of &lt;div&gt; is legitimate because div is a valid HTML tag:</span></span>

4

<span data-key="0aee3c042ef0465bacc869cb83937d32"><span data-offset-key="0aee3c042ef0465bacc869cb83937d32:0"> return &lt;div&gt;Hello {props.toWhat}&lt;/div&gt;;</span></span>

5

<span data-key="2174b9e705704f47b017382a4f0e483d"><span data-offset-key="2174b9e705704f47b017382a4f0e483d:0">}</span></span>

6

<span data-key="cc1ca3c19d634f2d9e6837c17f25d91c"><span data-offset-key="cc1ca3c19d634f2d9e6837c17f25d91c:0"><span data-slate-zero-width="n">​</span></span></span>

7

<span data-key="780c74a575c14fa688f1a33ca2545d68"><span data-offset-key="780c74a575c14fa688f1a33ca2545d68:0">function HelloWorld() {</span></span>

8

<span data-key="99b6bb5d3e7b4afa9ac8f94cdfe9fc8f"><span data-offset-key="99b6bb5d3e7b4afa9ac8f94cdfe9fc8f:0"> // Wrong! React thinks &lt;hello /&gt; is an HTML tag because it's not capitalized: return &lt;hello toWhat="World" /&gt;;}</span></span>

Copied!

<span data-key="c64c4df957ec45f8840f672f18b40b41"><span data-offset-key="c64c4df957ec45f8840f672f18b40b41:0">To fix this, we will rename </span><span data-offset-key="c64c4df957ec45f8840f672f18b40b41:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">hello</span></span><span data-offset-key="c64c4df957ec45f8840f672f18b40b41:2"> to </span><span data-offset-key="c64c4df957ec45f8840f672f18b40b41:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">Hello</span></span><span data-offset-key="c64c4df957ec45f8840f672f18b40b41:4"> and use </span><span data-offset-key="c64c4df957ec45f8840f672f18b40b41:5"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">&lt;Hello /&gt;</span></span><span data-offset-key="c64c4df957ec45f8840f672f18b40b41:6"> when referring to it:</span></span>

1

<span data-key="be41ec54b4f74816b3cbac6de10d75c6"><span data-offset-key="be41ec54b4f74816b3cbac6de10d75c6:0">import React from 'react';</span></span>

2

<span data-key="7abe086551fb47f59f0206ed790093c1"><span data-offset-key="7abe086551fb47f59f0206ed790093c1:0"><span data-slate-zero-width="n">​</span></span></span>

3

<span data-key="323cec6c6cd3426a860fe5a0b706d3b3"><span data-offset-key="323cec6c6cd3426a860fe5a0b706d3b3:0">// Correct! This is a component and should be capitalized:function Hello(props) { // Correct! This use of &lt;div&gt; is legitimate because div is a valid HTML tag:</span></span>

4

<span data-key="b632617919304e0496c29ad18efd20c9"><span data-offset-key="b632617919304e0496c29ad18efd20c9:0"> return &lt;div&gt;Hello {props.toWhat}&lt;/div&gt;;</span></span>

5

<span data-key="de2b7d8e93ee48c39cc2173e4a2ad579"><span data-offset-key="de2b7d8e93ee48c39cc2173e4a2ad579:0">}</span></span>

6

<span data-key="75caf58eabcf498e9526e92f57255ad6"><span data-offset-key="75caf58eabcf498e9526e92f57255ad6:0"><span data-slate-zero-width="n">​</span></span></span>

7

<span data-key="17241efe7dd64f73a061d987f1485a5d"><span data-offset-key="17241efe7dd64f73a061d987f1485a5d:0">function HelloWorld() {</span></span>

8

<span data-key="f7f621a09c7140bd93da0aab3e2d5b23"><span data-offset-key="f7f621a09c7140bd93da0aab3e2d5b23:0"> // Correct! React knows &lt;Hello /&gt; is a component because it's capitalized. return &lt;Hello toWhat="World" /&gt;;}</span></span>

Copied!

<span data-key="915a07ce79434069b9452d4f03addbb9"><span data-offset-key="915a07ce79434069b9452d4f03addbb9:0">Choosing the Type at Runtime</span></span>

<span data-key="215e4efe69494444b56cc716a05dd9ab"><span data-offset-key="215e4efe69494444b56cc716a05dd9ab:0">You cannot use a general expression as the React element type. If you do want to use a general expression to indicate the type of the element, just assign it to a capitalized variable first. This often comes up when you want to render a different component based on a prop:</span></span>

1

<span data-key="4fd76529bd77486e822e2dfb0b3120b9"><span data-offset-key="4fd76529bd77486e822e2dfb0b3120b9:0">import React from 'react';</span></span>

2

<span data-key="91a88c65cbc345e7a0e159611043cbfa"><span data-offset-key="91a88c65cbc345e7a0e159611043cbfa:0">import { PhotoStory, VideoStory } from './stories';</span></span>

3

<span data-key="292be9fa724745e59a37cacd53bf92db"><span data-offset-key="292be9fa724745e59a37cacd53bf92db:0"><span data-slate-zero-width="n">​</span></span></span>

4

<span data-key="b4fdb3e0abd049ee8dcc3d98d5442d86"><span data-offset-key="b4fdb3e0abd049ee8dcc3d98d5442d86:0">const components = {</span></span>

5

<span data-key="ea6e58541dc74260b635097d0d1b87d1"><span data-offset-key="ea6e58541dc74260b635097d0d1b87d1:0"> photo: PhotoStory,</span></span>

6

<span data-key="9b426b6dad014e25bb9243ee91910d64"><span data-offset-key="9b426b6dad014e25bb9243ee91910d64:0"> video: VideoStory</span></span>

7

<span data-key="a6ead64b276c40918ab7aba33366283b"><span data-offset-key="a6ead64b276c40918ab7aba33366283b:0">};</span></span>

8

<span data-key="cdea3cd4f29645048dd3a97b3410cf65"><span data-offset-key="cdea3cd4f29645048dd3a97b3410cf65:0"><span data-slate-zero-width="n">​</span></span></span>

9

<span data-key="0016e86e241a42ed806e5f00544730ec"><span data-offset-key="0016e86e241a42ed806e5f00544730ec:0">function Story(props) {</span></span>

10

<span data-key="24ad5b8dd5374eee8972a00ff7be1a18"><span data-offset-key="24ad5b8dd5374eee8972a00ff7be1a18:0"> // Wrong! JSX type can't be an expression. return &lt;components\[props.storyType\] story={props.story} /&gt;;}</span></span>

Copied!

<span data-key="70650be81b4e49dfbafb5e3fd561c1df"><span data-offset-key="70650be81b4e49dfbafb5e3fd561c1df:0">To fix this, we will assign the type to a capitalized variable first:</span></span>

1

<span data-key="660ce54bc4bd4782a31e8c8c88fec846"><span data-offset-key="660ce54bc4bd4782a31e8c8c88fec846:0">import React from 'react';</span></span>

2

<span data-key="d7291f3360ee46348622643a6a0fe937"><span data-offset-key="d7291f3360ee46348622643a6a0fe937:0">import { PhotoStory, VideoStory } from './stories';</span></span>

3

<span data-key="815424116b364358852d916462518e7e"><span data-offset-key="815424116b364358852d916462518e7e:0"><span data-slate-zero-width="n">​</span></span></span>

4

<span data-key="e1790b85f790479d80302df9d2bfe289"><span data-offset-key="e1790b85f790479d80302df9d2bfe289:0">const components = {</span></span>

5

<span data-key="33739376f7cf41d5842b71939fe8e071"><span data-offset-key="33739376f7cf41d5842b71939fe8e071:0"> photo: PhotoStory,</span></span>

6

<span data-key="0fa8f2c8f3ef4bf8a5af255dd15e8792"><span data-offset-key="0fa8f2c8f3ef4bf8a5af255dd15e8792:0"> video: VideoStory</span></span>

7

<span data-key="267f618a2b3d4e11b484768d76c428a6"><span data-offset-key="267f618a2b3d4e11b484768d76c428a6:0">};</span></span>

8

<span data-key="880cbb3311084aad9c77ceb3aa3d1fb0"><span data-offset-key="880cbb3311084aad9c77ceb3aa3d1fb0:0"><span data-slate-zero-width="n">​</span></span></span>

9

<span data-key="ef8f81aab729451ea5404b74a7a9c060"><span data-offset-key="ef8f81aab729451ea5404b74a7a9c060:0">function Story(props) {</span></span>

10

<span data-key="a6788c257d3e4ae79c32ad0668794012"><span data-offset-key="a6788c257d3e4ae79c32ad0668794012:0"> // Correct! JSX type can be a capitalized variable. const SpecificStory = components\[props.storyType\]; return &lt;SpecificStory story={props.story} /&gt;;}</span></span>

Copied!

<span data-key="04d733db062845378733c54018c29f49"><span data-offset-key="04d733db062845378733c54018c29f49:0">Props in JSX</span></span>

<span data-key="8a129381f2e74d2bba2bd74c880aa5f7"><span data-offset-key="8a129381f2e74d2bba2bd74c880aa5f7:0">There are several different ways to specify props in JSX.</span></span>

<span data-key="3e60a966a7294c77b647baf1af920b7a"><span data-offset-key="3e60a966a7294c77b647baf1af920b7a:0">JavaScript Expressions as Props</span></span>

<span data-key="bc4e0f23acd24ad89728256d84907cd7"><span data-offset-key="bc4e0f23acd24ad89728256d84907cd7:0">You can pass any JavaScript expression as a prop, by surrounding it with </span><span data-offset-key="bc4e0f23acd24ad89728256d84907cd7:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">{}</span></span><span data-offset-key="bc4e0f23acd24ad89728256d84907cd7:2">. For example, in this JSX:</span></span>

<span data-key="535984eac21c458b969f1328d55129fc"><span data-offset-key="535984eac21c458b969f1328d55129fc:0"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">&lt;MyComponent foo={1 + 2 + 3 + 4} /&gt;</span></span></span>

<span data-key="44384c3a0878498381293fff0ac590d0"><span data-offset-key="44384c3a0878498381293fff0ac590d0:0">For </span><span data-offset-key="44384c3a0878498381293fff0ac590d0:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">MyComponent</span></span><span data-offset-key="44384c3a0878498381293fff0ac590d0:2">, the value of </span><span data-offset-key="44384c3a0878498381293fff0ac590d0:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">props.foo</span></span><span data-offset-key="44384c3a0878498381293fff0ac590d0:4"> will be </span><span data-offset-key="44384c3a0878498381293fff0ac590d0:5"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">10</span></span><span data-offset-key="44384c3a0878498381293fff0ac590d0:6"> because the expression </span><span data-offset-key="44384c3a0878498381293fff0ac590d0:7"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">1 + 2 + 3 + 4</span></span><span data-offset-key="44384c3a0878498381293fff0ac590d0:8"> gets evaluated.</span></span>

<span data-key="ad7de07f572e425ca8f4150b4e9d6178"><span data-offset-key="ad7de07f572e425ca8f4150b4e9d6178:0"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">if</span></span><span data-offset-key="ad7de07f572e425ca8f4150b4e9d6178:1"> statements and </span><span data-offset-key="ad7de07f572e425ca8f4150b4e9d6178:2"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">for</span></span><span data-offset-key="ad7de07f572e425ca8f4150b4e9d6178:3"> loops are not expressions in JavaScript, so they can’t be used in JSX directly. Instead, you can put these in the surrounding code. For example:</span></span>

1

<span data-key="015041134c8e485db019b115e34b9d15"><span data-offset-key="015041134c8e485db019b115e34b9d15:0">function NumberDescriber(props) {</span></span>

2

<span data-key="e49e911c0fc54a9494e25295478ed72e"><span data-offset-key="e49e911c0fc54a9494e25295478ed72e:0"> let description;</span></span>

3

<span data-key="cc76610a233a48759b9ab4990b238a3f"><span data-offset-key="cc76610a233a48759b9ab4990b238a3f:0"> if (props.number % 2 == 0) { description = &lt;strong&gt;even&lt;/strong&gt;; } else { description = &lt;i&gt;odd&lt;/i&gt;; } return &lt;div&gt;{props.number} is an {description} number&lt;/div&gt;;</span></span>

4

<span data-key="c63302ec0bcf4c54841c2b5e33ac34f5"><span data-offset-key="c63302ec0bcf4c54841c2b5e33ac34f5:0">}</span></span>

Copied!

<span data-key="93c35a9ef27e4dd1805ece1344e2717f"><span data-offset-key="93c35a9ef27e4dd1805ece1344e2717f:0">You can learn more about </span></span><a href="https://reactjs.org/docs/conditional-rendering.html" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="c390b5972cac4a119e37d1157606f32b"><span data-offset-key="c390b5972cac4a119e37d1157606f32b:0">conditional rendering</span></span></span></a><span data-key="ac83b343ec4a457388e17df33b025a2c"><span data-offset-key="ac83b343ec4a457388e17df33b025a2c:0"> and </span></span><a href="https://reactjs.org/docs/lists-and-keys.html" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="96f436f582084671af9529258e0e21da"><span data-offset-key="96f436f582084671af9529258e0e21da:0">loops</span></span></span></a><span data-key="a7adb44dd0de4a0b812a54c9d1001a58"><span data-offset-key="a7adb44dd0de4a0b812a54c9d1001a58:0"> in the corresponding sections.</span></span>

<span data-key="42621930a9324d00a5e3fa97d4e8efd5"><span data-offset-key="42621930a9324d00a5e3fa97d4e8efd5:0">String Literals</span></span>

<span data-key="715e646c11474ce2a42a65f75a11e59d"><span data-offset-key="715e646c11474ce2a42a65f75a11e59d:0">You can pass a string literal as a prop. These two JSX expressions are equivalent:</span></span>

<span data-key="6aba374892b142d89b334d30b0d6572e"><span data-offset-key="6aba374892b142d89b334d30b0d6572e:0"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">&lt;MyComponent message="hello world" /&gt;&lt;MyComponent message={'hello world'} /&gt;</span></span></span>

<span data-key="0fe03009c86641e3b9d7c989a65b6c8a"><span data-offset-key="0fe03009c86641e3b9d7c989a65b6c8a:0">When you pass a string literal, its value is HTML-unescaped. So these two JSX expressions are equivalent:</span></span>

<span data-key="515ccc1091814a67872735dda04d038a"><span data-offset-key="515ccc1091814a67872735dda04d038a:0"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">&lt;MyComponent message="&lt;3" /&gt;&lt;MyComponent message={'&lt;3'} /&gt;</span></span></span>

<span data-key="3cea1ad40dde45bba7688c0dc27f1e1a"><span data-offset-key="3cea1ad40dde45bba7688c0dc27f1e1a:0">This behavior is usually not relevant. It’s only mentioned here for completeness.</span></span>

<span data-key="cf342ae0220d46b485ff74cc2e016a14"><span data-offset-key="cf342ae0220d46b485ff74cc2e016a14:0">Props Default to “True”</span></span>

<span data-key="8f284c2a9bec4307b3fe4fd44d24e9e1"><span data-offset-key="8f284c2a9bec4307b3fe4fd44d24e9e1:0">If you pass no value for a prop, it defaults to </span><span data-offset-key="8f284c2a9bec4307b3fe4fd44d24e9e1:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">true</span></span><span data-offset-key="8f284c2a9bec4307b3fe4fd44d24e9e1:2">. These two JSX expressions are equivalent:</span></span>

<span data-key="78d626885d8749f8a929e43dffec5778"><span data-offset-key="78d626885d8749f8a929e43dffec5778:0"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">&lt;MyTextBox autocomplete /&gt;&lt;MyTextBox autocomplete={true} /&gt;</span></span></span>

<span data-key="5f01d409e9364726999607229276e45e"><span data-offset-key="5f01d409e9364726999607229276e45e:0">In general, we don’t recommend </span><span data-offset-key="5f01d409e9364726999607229276e45e:1"><span class="css-901oao css-16my406 r-36ujnk">not</span></span><span data-offset-key="5f01d409e9364726999607229276e45e:2"> passing a value for a prop, because it can be confused with the </span></span><a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Operators/Object_initializer#New_notations_in_ECMAScript_2015" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="1d82b5659a6b48bf90a8a7f16c3fef2d"><span data-offset-key="1d82b5659a6b48bf90a8a7f16c3fef2d:0">ES6 object shorthand</span></span></span></a><span data-key="6d75d8702f7f46bdbd2b9258bb74f1fb"><span data-offset-key="6d75d8702f7f46bdbd2b9258bb74f1fb:0"> </span><span data-offset-key="6d75d8702f7f46bdbd2b9258bb74f1fb:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">{foo}</span></span><span data-offset-key="6d75d8702f7f46bdbd2b9258bb74f1fb:2"> which is short for </span><span data-offset-key="6d75d8702f7f46bdbd2b9258bb74f1fb:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">{foo: foo}</span></span><span data-offset-key="6d75d8702f7f46bdbd2b9258bb74f1fb:4"> rather than </span><span data-offset-key="6d75d8702f7f46bdbd2b9258bb74f1fb:5"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">{foo: true}</span></span><span data-offset-key="6d75d8702f7f46bdbd2b9258bb74f1fb:6">. This behavior is just there so that it matches the behavior of HTML.</span></span>

<span data-key="b54b992ad928431991c0ec9b6d02af87"><span data-offset-key="b54b992ad928431991c0ec9b6d02af87:0">Spread Attributes</span></span>

<span data-key="f10ddbb966f741078003b58e4a831948"><span data-offset-key="f10ddbb966f741078003b58e4a831948:0">If you already have </span><span data-offset-key="f10ddbb966f741078003b58e4a831948:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">props</span></span><span data-offset-key="f10ddbb966f741078003b58e4a831948:2"> as an object, and you want to pass it in JSX, you can use </span><span data-offset-key="f10ddbb966f741078003b58e4a831948:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">...</span></span><span data-offset-key="f10ddbb966f741078003b58e4a831948:4"> as a “spread” operator to pass the whole props object. These two components are equivalent:</span></span>

1

<span data-key="f1716d81c01c47aca86dc70020322fcf"><span data-offset-key="f1716d81c01c47aca86dc70020322fcf:0">function App1() {</span></span>

2

<span data-key="daa5b2ff1e9d4a18b0b038caa050af4c"><span data-offset-key="daa5b2ff1e9d4a18b0b038caa050af4c:0"> return &lt;Greeting firstName="Ben" lastName="Hector" /&gt;;</span></span>

3

<span data-key="a4faab463c264d789e676ea566abcc5d"><span data-offset-key="a4faab463c264d789e676ea566abcc5d:0">}</span></span>

4

<span data-key="cb1d34d03e0a4bf7a18e62bb7d7ce349"><span data-offset-key="cb1d34d03e0a4bf7a18e62bb7d7ce349:0"><span data-slate-zero-width="n">​</span></span></span>

5

<span data-key="88d8fb4d40e041e78bfc69d568c053ec"><span data-offset-key="88d8fb4d40e041e78bfc69d568c053ec:0">function App2() {</span></span>

6

<span data-key="37a436c3f8c14424879bca6250e3b57f"><span data-offset-key="37a436c3f8c14424879bca6250e3b57f:0"> const props = {firstName: 'Ben', lastName: 'Hector'};</span></span>

7

<span data-key="5d920cb0263c4a86b8af867bb8917626"><span data-offset-key="5d920cb0263c4a86b8af867bb8917626:0"> return &lt;Greeting {...props} /&gt;;}</span></span>

Copied!

<span data-key="3c4918164c424e249c6aed58d71a49a3"><span data-offset-key="3c4918164c424e249c6aed58d71a49a3:0">You can also pick specific props that your component will consume while passing all other props using the spread operator.</span></span>

1

<span data-key="4f5ba3493e634009b0a308b3e693ef66"><span data-offset-key="4f5ba3493e634009b0a308b3e693ef66:0">const Button = props =&gt; {</span></span>

2

<span data-key="2fd21c295cc241b68ac12918fa650d66"><span data-offset-key="2fd21c295cc241b68ac12918fa650d66:0"> const { kind, ...other } = props; const className = kind === "primary" ? "PrimaryButton" : "SecondaryButton";</span></span>

3

<span data-key="553a590d968141b183a5a2d1282ab431"><span data-offset-key="553a590d968141b183a5a2d1282ab431:0"> return &lt;button className={className} {...other} /&gt;;</span></span>

4

<span data-key="ac38c3635a2f48ea92392ee781d09f37"><span data-offset-key="ac38c3635a2f48ea92392ee781d09f37:0">};</span></span>

5

<span data-key="0ab0000912dd44488cb4b99447473bfb"><span data-offset-key="0ab0000912dd44488cb4b99447473bfb:0"><span data-slate-zero-width="n">​</span></span></span>

6

<span data-key="e627171cec7c46e1a3620b5778db3e42"><span data-offset-key="e627171cec7c46e1a3620b5778db3e42:0">const App = () =&gt; {</span></span>

7

<span data-key="543bc2f5eb3b4b9db9c94ede371f02ed"><span data-offset-key="543bc2f5eb3b4b9db9c94ede371f02ed:0"> return (</span></span>

8

<span data-key="840654d55ed84443980876200acfca6e"><span data-offset-key="840654d55ed84443980876200acfca6e:0"> &lt;div&gt; &lt;Button kind="primary" onClick={() =&gt; console.log("clicked!")}&gt; Hello World!</span></span>

9

<span data-key="817d31644ecf40dbba345918326f1776"><span data-offset-key="817d31644ecf40dbba345918326f1776:0"> &lt;/Button&gt; &lt;/div&gt;);</span></span>

10

<span data-key="066875c2e98043c8bbe0bd1eb7efa370"><span data-offset-key="066875c2e98043c8bbe0bd1eb7efa370:0">};</span></span>

Copied!

<span data-key="ae44d3d5dd3249c2a0fc8f4492c55031"><span data-offset-key="ae44d3d5dd3249c2a0fc8f4492c55031:0">In the example above, the </span><span data-offset-key="ae44d3d5dd3249c2a0fc8f4492c55031:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">kind</span></span><span data-offset-key="ae44d3d5dd3249c2a0fc8f4492c55031:2"> prop is safely consumed and </span><span data-offset-key="ae44d3d5dd3249c2a0fc8f4492c55031:3"><span class="css-901oao css-16my406 r-36ujnk">is not</span></span><span data-offset-key="ae44d3d5dd3249c2a0fc8f4492c55031:4"> passed on to the </span><span data-offset-key="ae44d3d5dd3249c2a0fc8f4492c55031:5"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">&lt;button&gt;</span></span><span data-offset-key="ae44d3d5dd3249c2a0fc8f4492c55031:6"> element in the DOM. All other props are passed via the </span><span data-offset-key="ae44d3d5dd3249c2a0fc8f4492c55031:7"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">...other</span></span><span data-offset-key="ae44d3d5dd3249c2a0fc8f4492c55031:8"> object making this component really flexible. You can see that it passes an </span><span data-offset-key="ae44d3d5dd3249c2a0fc8f4492c55031:9"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">onClick</span></span><span data-offset-key="ae44d3d5dd3249c2a0fc8f4492c55031:10"> and </span><span data-offset-key="ae44d3d5dd3249c2a0fc8f4492c55031:11"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">children</span></span><span data-offset-key="ae44d3d5dd3249c2a0fc8f4492c55031:12"> props.</span></span>

<span data-key="c2de3a17f543465a8b4a4294f20e0421"><span data-offset-key="c2de3a17f543465a8b4a4294f20e0421:0">Spread attributes can be useful but they also make it easy to pass unnecessary props to components that don’t care about them or to pass invalid HTML attributes to the DOM. We recommend using this syntax sparingly.</span></span>

<span data-key="6c8b50ad76be4475b12cd332c84624f9"><span data-offset-key="6c8b50ad76be4475b12cd332c84624f9:0">Children in JSX</span></span>

<span data-key="3832cd0e14d04f76a147fbfa9dfccc0e"><span data-offset-key="3832cd0e14d04f76a147fbfa9dfccc0e:0">In JSX expressions that contain both an opening tag and a closing tag, the content between those tags is passed as a special prop: </span><span data-offset-key="3832cd0e14d04f76a147fbfa9dfccc0e:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">props.children</span></span><span data-offset-key="3832cd0e14d04f76a147fbfa9dfccc0e:2">. There are several different ways to pass children:</span></span>

<span data-key="ce607b337b2d44b499ec8d1df3087768"><span data-offset-key="ce607b337b2d44b499ec8d1df3087768:0">String Literals</span></span>

<span data-key="930435f38e4d463aadaa8cea268f50a0"><span data-offset-key="930435f38e4d463aadaa8cea268f50a0:0">You can put a string between the opening and closing tags and </span><span data-offset-key="930435f38e4d463aadaa8cea268f50a0:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">props.children</span></span><span data-offset-key="930435f38e4d463aadaa8cea268f50a0:2"> will just be that string. This is useful for many of the built-in HTML elements. For example:</span></span>

<span data-key="869b843f0ce746af8029a9c642d9f5cc"><span data-offset-key="869b843f0ce746af8029a9c642d9f5cc:0"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">&lt;MyComponent&gt;Hello world!&lt;/MyComponent&gt;</span></span></span>

<span data-key="d9ce5b6bd46241c5929d41e36c6fb868"><span data-offset-key="d9ce5b6bd46241c5929d41e36c6fb868:0">This is valid JSX, and </span><span data-offset-key="d9ce5b6bd46241c5929d41e36c6fb868:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">props.children</span></span><span data-offset-key="d9ce5b6bd46241c5929d41e36c6fb868:2"> in </span><span data-offset-key="d9ce5b6bd46241c5929d41e36c6fb868:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">MyComponent</span></span><span data-offset-key="d9ce5b6bd46241c5929d41e36c6fb868:4"> will simply be the string </span><span data-offset-key="d9ce5b6bd46241c5929d41e36c6fb868:5"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">"Hello world!"</span></span><span data-offset-key="d9ce5b6bd46241c5929d41e36c6fb868:6">. HTML is unescaped, so you can generally write JSX just like you would write HTML in this way:</span></span>

<span data-key="006265ac401a438996cb8bd4a86ec95e"><span data-offset-key="006265ac401a438996cb8bd4a86ec95e:0"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">&lt;div&gt;This is valid HTML &amp; JSX at the same time.&lt;/div&gt;</span></span></span>

<span data-key="3dab35a76db143c1a7e799a4d2ca2a28"><span data-offset-key="3dab35a76db143c1a7e799a4d2ca2a28:0">JSX removes whitespace at the beginning and ending of a line. It also removes blank lines. New lines adjacent to tags are removed; new lines that occur in the middle of string literals are condensed into a single space. So these all render to the same thing:</span></span>

1

<span data-key="8a10c72fc16f4592ac1b6f351b8f14e2"><span data-offset-key="8a10c72fc16f4592ac1b6f351b8f14e2:0">&lt;div&gt;Hello World&lt;/div&gt;&lt;div&gt;</span></span>

2

<span data-key="5ae24f54eb2a463e886cec2a4c7037ce"><span data-offset-key="5ae24f54eb2a463e886cec2a4c7037ce:0"> Hello World</span></span>

3

<span data-key="5f1cdd9edac74de0a42555c66436e22a"><span data-offset-key="5f1cdd9edac74de0a42555c66436e22a:0">&lt;/div&gt;&lt;div&gt;</span></span>

4

<span data-key="45f8245cbf2b4b2da3fffac02152c058"><span data-offset-key="45f8245cbf2b4b2da3fffac02152c058:0"> Hello</span></span>

5

<span data-key="31dd7c97b8a74fb9abc1f0ee19b8421e"><span data-offset-key="31dd7c97b8a74fb9abc1f0ee19b8421e:0"> World</span></span>

6

<span data-key="12dd9fc90e624cf4bbb00cdcbe72dea5"><span data-offset-key="12dd9fc90e624cf4bbb00cdcbe72dea5:0">&lt;/div&gt;&lt;div&gt;</span></span>

7

<span data-key="f14a15a03276444da7fbf2c9ccccf257"><span data-offset-key="f14a15a03276444da7fbf2c9ccccf257:0"><span data-slate-zero-width="n">​</span></span></span>

8

<span data-key="bfd2fa9e01324c5fa9a98311b7bf7227"><span data-offset-key="bfd2fa9e01324c5fa9a98311b7bf7227:0"> Hello World</span></span>

9

<span data-key="85d9356f64d4464e98538239e5f697f5"><span data-offset-key="85d9356f64d4464e98538239e5f697f5:0">&lt;/div&gt;</span></span>

Copied!

<span data-key="2a4493ff77a84712b22ae12d5e8522d9"><span data-offset-key="2a4493ff77a84712b22ae12d5e8522d9:0">JSX Children</span></span>

<span data-key="4072676638444e1fac2c41e593adf752"><span data-offset-key="4072676638444e1fac2c41e593adf752:0">You can provide more JSX elements as the children. This is useful for displaying nested components:</span></span>

1

<span data-key="277429cf45db4e0699966364f60ca8f9"><span data-offset-key="277429cf45db4e0699966364f60ca8f9:0">&lt;MyContainer&gt;</span></span>

2

<span data-key="b5a137d14c1740ca881e1ac15ccad852"><span data-offset-key="b5a137d14c1740ca881e1ac15ccad852:0"> &lt;MyFirstComponent /&gt;</span></span>

3

<span data-key="96276f005eb3458b82c71357d560c6b6"><span data-offset-key="96276f005eb3458b82c71357d560c6b6:0"> &lt;MySecondComponent /&gt;</span></span>

4

<span data-key="b85f799050374d65aa8361e03e879d1b"><span data-offset-key="b85f799050374d65aa8361e03e879d1b:0">&lt;/MyContainer&gt;</span></span>

Copied!

<span data-key="79ffec9a2064469fa4831cdd447ae94e"><span data-offset-key="79ffec9a2064469fa4831cdd447ae94e:0">You can mix together different types of children, so you can use string literals together with JSX children. This is another way in which JSX is like HTML, so that this is both valid JSX and valid HTML:</span></span>

1

<span data-key="e4ebebef21b64901bf33eba0b5d45224"><span data-offset-key="e4ebebef21b64901bf33eba0b5d45224:0">&lt;div&gt;</span></span>

2

<span data-key="8adb9fad4e534c4e92b12336333a0cb1"><span data-offset-key="8adb9fad4e534c4e92b12336333a0cb1:0"> Here is a list:</span></span>

3

<span data-key="b9eb38f898c24099aa3931afa555b80e"><span data-offset-key="b9eb38f898c24099aa3931afa555b80e:0"> &lt;ul&gt;&lt;li&gt;Item 1&lt;/li&gt;&lt;li&gt;Item 2&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;</span></span>

Copied!

<span data-key="0d21eb5e2351454d821d20ca2189bff0"><span data-offset-key="0d21eb5e2351454d821d20ca2189bff0:0">A React component can also return an array of elements:</span></span>

<span data-key="b1eb9389e84b4f3f8077d31fbcd84c8c"><span data-offset-key="b1eb9389e84b4f3f8077d31fbcd84c8c:0"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">render() { // No need to wrap list items in an extra element! return \[ // Don't forget the keys :) &lt;li key="A"&gt;First item&lt;/li&gt;, &lt;li key="B"&gt;Second item&lt;/li&gt;, &lt;li key="C"&gt;Third item&lt;/li&gt;, \]; }</span></span></span>

<span data-key="649aed6700e541909b95f785eb2ee4c7"><span data-offset-key="649aed6700e541909b95f785eb2ee4c7:0">JavaScript Expressions as Children</span></span>

<span data-key="5db231bed3e041cba05043dbf25a20b2"><span data-offset-key="5db231bed3e041cba05043dbf25a20b2:0">You can pass any JavaScript expression as children, by enclosing it within </span><span data-offset-key="5db231bed3e041cba05043dbf25a20b2:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">{}</span></span><span data-offset-key="5db231bed3e041cba05043dbf25a20b2:2">. For example, these expressions are equivalent:</span></span>

<span data-key="55c7b278c33f445c83af88ad09c86186"><span data-offset-key="55c7b278c33f445c83af88ad09c86186:0"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">&lt;MyComponent&gt;foo&lt;/MyComponent&gt;&lt;MyComponent&gt;{'foo'}&lt;/MyComponent&gt;</span></span></span>

<span data-key="dd39fac84ebb4c269439a91b556b9aa1"><span data-offset-key="dd39fac84ebb4c269439a91b556b9aa1:0">This is often useful for rendering a list of JSX expressions of arbitrary length. For example, this renders an HTML list:</span></span>

1

<span data-key="5208c2f2bedb45dfabea421f08f185db"><span data-offset-key="5208c2f2bedb45dfabea421f08f185db:0">function Item(props) {</span></span>

2

<span data-key="78acb73c931840709ecae062a8c6a320"><span data-offset-key="78acb73c931840709ecae062a8c6a320:0"> return &lt;li&gt;{props.message}&lt;/li&gt;;}</span></span>

3

<span data-key="ea25dd3a4fcf4a479849619528649fa3"><span data-offset-key="ea25dd3a4fcf4a479849619528649fa3:0"><span data-slate-zero-width="n">​</span></span></span>

4

<span data-key="86906333b23c431ea8cd779e380ecdd6"><span data-offset-key="86906333b23c431ea8cd779e380ecdd6:0">function TodoList() {</span></span>

5

<span data-key="57a3e406da3f4b20bd4691cdec025f9c"><span data-offset-key="57a3e406da3f4b20bd4691cdec025f9c:0"> const todos = \['finish doc', 'submit pr', 'nag dan to review'\];</span></span>

6

<span data-key="68f7c115765941fc86cd3d95eee34715"><span data-offset-key="68f7c115765941fc86cd3d95eee34715:0"> return (</span></span>

7

<span data-key="cae5f4495fae47fbb3fd80324eb7f70d"><span data-offset-key="cae5f4495fae47fbb3fd80324eb7f70d:0"> &lt;ul&gt; {todos.map((message) =&gt; &lt;Item key={message} message={message} /&gt;)} &lt;/ul&gt;);</span></span>

8

<span data-key="592007655028414fbf6778c3ca9d8a3a"><span data-offset-key="592007655028414fbf6778c3ca9d8a3a:0">}</span></span>

Copied!

<span data-key="d1240da549f94202b94bbb235469b018"><span data-offset-key="d1240da549f94202b94bbb235469b018:0">JavaScript expressions can be mixed with other types of children. This is often useful in lieu of string templates:</span></span>

1

<span data-key="7054aa16caca4ed9a54033f756d5320e"><span data-offset-key="7054aa16caca4ed9a54033f756d5320e:0">function Hello(props) {</span></span>

2

<span data-key="7b8ad48a6249493f82141c935da67700"><span data-offset-key="7b8ad48a6249493f82141c935da67700:0"> return &lt;div&gt;Hello {props.addressee}!&lt;/div&gt;;}</span></span>

Copied!

<span data-key="65aa669239704b98b57dedfcbe3a274e"><span data-offset-key="65aa669239704b98b57dedfcbe3a274e:0">Functions as Children</span></span>

<span data-key="939c4e61d7d943e2a7f5edd314127853"><span data-offset-key="939c4e61d7d943e2a7f5edd314127853:0">Normally, JavaScript expressions inserted in JSX will evaluate to a string, a React element, or a list of those things. However, </span><span data-offset-key="939c4e61d7d943e2a7f5edd314127853:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">props.children</span></span><span data-offset-key="939c4e61d7d943e2a7f5edd314127853:2"> works just like any other prop in that it can pass any sort of data, not just the sorts that React knows how to render. For example, if you have a custom component, you could have it take a callback as </span><span data-offset-key="939c4e61d7d943e2a7f5edd314127853:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">props.children</span></span><span data-offset-key="939c4e61d7d943e2a7f5edd314127853:4">:</span></span>

1

<span data-key="237de7dea3ca42beb58eaf6ecf69c5b6"><span data-offset-key="237de7dea3ca42beb58eaf6ecf69c5b6:0">// Calls the children callback numTimes to produce a repeated component</span></span>

2

<span data-key="34612b821a32414f80519e0d0bb87c99"><span data-offset-key="34612b821a32414f80519e0d0bb87c99:0">function Repeat(props) {</span></span>

3

<span data-key="9f921e89e5804b2389b30d87aedd0cab"><span data-offset-key="9f921e89e5804b2389b30d87aedd0cab:0"> let items = \[\];</span></span>

4

<span data-key="963edb0db3b848be92a1c6f40ce03bc1"><span data-offset-key="963edb0db3b848be92a1c6f40ce03bc1:0"> for (let i = 0; i &lt; props.numTimes; i++) { items.push(props.children(i));</span></span>

5

<span data-key="168f9ebac205403281b2e293b6d114d3"><span data-offset-key="168f9ebac205403281b2e293b6d114d3:0"> }</span></span>

6

<span data-key="5412b203e6f34dda9fcb44d87b6db28c"><span data-offset-key="5412b203e6f34dda9fcb44d87b6db28c:0"> return &lt;div&gt;{items}&lt;/div&gt;;</span></span>

7

<span data-key="15d26df6784649aba6a9cd979b51bc3d"><span data-offset-key="15d26df6784649aba6a9cd979b51bc3d:0">}</span></span>

8

<span data-key="bb2ebba0cbbc4cf8b89498b8898a9954"><span data-offset-key="bb2ebba0cbbc4cf8b89498b8898a9954:0"><span data-slate-zero-width="n">​</span></span></span>

9

<span data-key="6dac59a9c5fb41aba93fa3232e4e058a"><span data-offset-key="6dac59a9c5fb41aba93fa3232e4e058a:0">function ListOfTenThings() {</span></span>

10

<span data-key="39df783827fe408d9f3db5c1951233f4"><span data-offset-key="39df783827fe408d9f3db5c1951233f4:0"> return (</span></span>

11

<span data-key="f9a483286dc94b28ad51abd48ca96948"><span data-offset-key="f9a483286dc94b28ad51abd48ca96948:0"> &lt;Repeat numTimes={10}&gt; {(index) =&gt; &lt;div key={index}&gt;This is item {index} in the list&lt;/div&gt;} &lt;/Repeat&gt;);</span></span>

12

<span data-key="8ae8140781eb46d3b3bdbf45759a88e5"><span data-offset-key="8ae8140781eb46d3b3bdbf45759a88e5:0">}</span></span>

Copied!

<span data-key="c66352622528418da99ccf5109105697"><span data-offset-key="c66352622528418da99ccf5109105697:0">Children passed to a custom component can be anything, as long as that component transforms them into something React can understand before rendering. This usage is not common, but it works if you want to stretch what JSX is capable of.</span></span>

<span data-key="c3536ae8e64c4efda51883735d9d9685"><span data-offset-key="c3536ae8e64c4efda51883735d9d9685:0">Booleans, Null, and Undefined Are Ignored</span></span>

<span data-key="692647000bd04302acfd9d98d5d77495"><span data-offset-key="692647000bd04302acfd9d98d5d77495:0"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">false</span></span><span data-offset-key="692647000bd04302acfd9d98d5d77495:1">, </span><span data-offset-key="692647000bd04302acfd9d98d5d77495:2"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">null</span></span><span data-offset-key="692647000bd04302acfd9d98d5d77495:3">, </span><span data-offset-key="692647000bd04302acfd9d98d5d77495:4"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">undefined</span></span><span data-offset-key="692647000bd04302acfd9d98d5d77495:5">, and </span><span data-offset-key="692647000bd04302acfd9d98d5d77495:6"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">true</span></span><span data-offset-key="692647000bd04302acfd9d98d5d77495:7"> are valid children. They simply don’t render. These JSX expressions will all render to the same thing:</span></span>

1

<span data-key="3bd861d0d07d49ca83038ad397586ef2"><span data-offset-key="3bd861d0d07d49ca83038ad397586ef2:0">&lt;div /&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;{false}&lt;/div&gt;&lt;div&gt;{null}&lt;/div&gt;&lt;div&gt;{undefined}&lt;/div&gt;&lt;div&gt;{true}&lt;/div&gt;</span></span>

Copied!

<span data-key="01e26c722055412ab968c7384ad30958"><span data-offset-key="01e26c722055412ab968c7384ad30958:0">This can be useful to conditionally render React elements. This JSX renders the </span><span data-offset-key="01e26c722055412ab968c7384ad30958:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">&lt;Header /&gt;</span></span><span data-offset-key="01e26c722055412ab968c7384ad30958:2"> component only if </span><span data-offset-key="01e26c722055412ab968c7384ad30958:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">showHeader</span></span><span data-offset-key="01e26c722055412ab968c7384ad30958:4"> is </span><span data-offset-key="01e26c722055412ab968c7384ad30958:5"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">true</span></span><span data-offset-key="01e26c722055412ab968c7384ad30958:6">:</span></span>

1

<span data-key="e3dd1eb6eeb74776a38bd21f6dc64506"><span data-offset-key="e3dd1eb6eeb74776a38bd21f6dc64506:0">&lt;div&gt; {showHeader && &lt;Header /&gt;} &lt;Content /&gt;&lt;/div&gt;</span></span>

Copied!

<span data-key="aae4c17bd68242feb984661d95ed9ee8"><span data-offset-key="aae4c17bd68242feb984661d95ed9ee8:0">One caveat is that some </span></span><a href="https://developer.mozilla.org/en-US/docs/Glossary/Falsy" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="a0133d70983b4e628f2611e05a9e13e7"><span data-offset-key="a0133d70983b4e628f2611e05a9e13e7:0">“falsy” values</span></span></span></a><span data-key="dcfe9ebed8dd41d1ad4d5a71f5023e7b"><span data-offset-key="dcfe9ebed8dd41d1ad4d5a71f5023e7b:0">, such as the </span><span data-offset-key="dcfe9ebed8dd41d1ad4d5a71f5023e7b:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">0</span></span><span data-offset-key="dcfe9ebed8dd41d1ad4d5a71f5023e7b:2"> number, are still rendered by React. For example, this code will not behave as you might expect because </span><span data-offset-key="dcfe9ebed8dd41d1ad4d5a71f5023e7b:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">0</span></span><span data-offset-key="dcfe9ebed8dd41d1ad4d5a71f5023e7b:4"> will be printed when </span><span data-offset-key="dcfe9ebed8dd41d1ad4d5a71f5023e7b:5"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">props.messages</span></span><span data-offset-key="dcfe9ebed8dd41d1ad4d5a71f5023e7b:6"> is an empty array:</span></span>

1

<span data-key="98c1b9a8a1524b83b8090474cddaaae5"><span data-offset-key="98c1b9a8a1524b83b8090474cddaaae5:0">&lt;div&gt; {props.messages.length && &lt;MessageList messages={props.messages} /&gt;}</span></span>

2

<span data-key="19ea57638b4f4ab39d88eda251b93cff"><span data-offset-key="19ea57638b4f4ab39d88eda251b93cff:0">&lt;/div&gt;</span></span>

Copied!

<span data-key="af00906011fb496ebd46835497ea6897"><span data-offset-key="af00906011fb496ebd46835497ea6897:0">To fix this, make sure that the expression before </span><span data-offset-key="af00906011fb496ebd46835497ea6897:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">&&</span></span><span data-offset-key="af00906011fb496ebd46835497ea6897:2"> is always boolean:</span></span>

1

<span data-key="bdb6097b1a9e43cc8722fcc2ff604356"><span data-offset-key="bdb6097b1a9e43cc8722fcc2ff604356:0">&lt;div&gt; {props.messages.length &gt; 0 && &lt;MessageList messages={props.messages} /&gt;}</span></span>

2

<span data-key="28fc63b673eb4e79bc937820765a92dc"><span data-offset-key="28fc63b673eb4e79bc937820765a92dc:0">&lt;/div&gt;</span></span>

Copied!

<span data-key="89ff68de85124132bb39fba6b4fa5b14"><span data-offset-key="89ff68de85124132bb39fba6b4fa5b14:0">Conversely, if you want a value like </span><span data-offset-key="89ff68de85124132bb39fba6b4fa5b14:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">false</span></span><span data-offset-key="89ff68de85124132bb39fba6b4fa5b14:2">, </span><span data-offset-key="89ff68de85124132bb39fba6b4fa5b14:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">true</span></span><span data-offset-key="89ff68de85124132bb39fba6b4fa5b14:4">, </span><span data-offset-key="89ff68de85124132bb39fba6b4fa5b14:5"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">null</span></span><span data-offset-key="89ff68de85124132bb39fba6b4fa5b14:6">, or </span><span data-offset-key="89ff68de85124132bb39fba6b4fa5b14:7"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">undefined</span></span><span data-offset-key="89ff68de85124132bb39fba6b4fa5b14:8"> to appear in the output, you have to </span></span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String#String_conversion" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="a61b71348962477d9a8a31620b3c80d7"><span data-offset-key="a61b71348962477d9a8a31620b3c80d7:0">convert it to a string</span></span></span></a><span data-key="f3e59767fb20451686af5b9564014e61"><span data-offset-key="f3e59767fb20451686af5b9564014e61:0"> first:</span></span>

1

<span data-key="47661c509bdd469f80b8b3e0e3e49994"><span data-offset-key="47661c509bdd469f80b8b3e0e3e49994:0">&lt;div&gt; My JavaScript variable is {String(myVariable)}.&lt;/div&gt;</span></span>

Copied!

<span data-key="67fff329620345e3819e8d0f50524457"><span data-offset-key="67fff329620345e3819e8d0f50524457:0"><span class="css-901oao css-16my406 r-b88u0q">Optimizing Performance</span></span></span>

<span data-key="f77f7da14e9c4d78b801e4629087a86c"><span data-offset-key="f77f7da14e9c4d78b801e4629087a86c:0">Internally, React uses several clever techniques to minimize the number of costly DOM operations required to update the UI. For many applications, using React will lead to a fast user interface without doing much work to specifically optimize for performance. Nevertheless, there are several ways you can speed up your React application.</span></span>

<span data-key="e49f678faf0a4c08aefceb4f8b854687"><span data-offset-key="e49f678faf0a4c08aefceb4f8b854687:0">Use the Production Build</span></span>

<span data-key="431a2bb1cbc44b708bef4b0c9d05b25f"><span data-offset-key="431a2bb1cbc44b708bef4b0c9d05b25f:0">If you’re benchmarking or experiencing performance problems in your React apps, make sure you’re testing with the minified production build.</span></span>

<span data-key="fa1095ca42a840088ca5dd3f6e9438c1"><span data-offset-key="fa1095ca42a840088ca5dd3f6e9438c1:0">By default, React includes many helpful warnings. These warnings are very useful in development. However, they make React larger and slower so you should make sure to use the production version when you deploy the app.</span></span>

<span data-key="131ea3f3bfe8491cbb8e0814f55c8f14"><span data-offset-key="131ea3f3bfe8491cbb8e0814f55c8f14:0">If you aren’t sure whether your build process is set up correctly, you can check it by installing </span></span><a href="https://chrome.google.com/webstore/detail/react-developer-tools/fmkadmapgofadopljbjfkapdkoienihi" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="be668b3ab78c45b9ad97f06c3b0af1b8"><span data-offset-key="be668b3ab78c45b9ad97f06c3b0af1b8:0">React Developer Tools for Chrome</span></span></span></a><span data-key="d959513594284f77a1e106ddcf4701ba"><span data-offset-key="d959513594284f77a1e106ddcf4701ba:0">. If you visit a site with React in production mode, the icon will have a dark background:</span></span>

<span data-key="da2301da3e7543c59a2134bc4144e7c2"><span data-offset-key="da2301da3e7543c59a2134bc4144e7c2:0">https://reactjs.org/static/d0f767f80866431ccdec18f200ca58f1/0a47e/devtools-prod.png</span></span>

<span data-key="e6dbcf1228ff4362a76bf3250f573f5a"><span data-offset-key="e6dbcf1228ff4362a76bf3250f573f5a:0">If you visit a site with React in development mode, the icon will have a red background:</span></span>

<span data-key="73734ea2d0c942eebfde83ed2cc033d7"><span data-offset-key="73734ea2d0c942eebfde83ed2cc033d7:0">https://reactjs.org/static/e434ce2f7e64f63e597edf03f4465694/0a47e/devtools-dev.png</span></span>

<span data-key="98bc1caea2f3419f8bd466ae11828149"><span data-offset-key="98bc1caea2f3419f8bd466ae11828149:0">It is expected that you use the development mode when working on your app, and the production mode when deploying your app to the users.</span></span>

<span data-key="cbeb9c87ab33469492dba10cc9554a18"><span data-offset-key="cbeb9c87ab33469492dba10cc9554a18:0">You can find instructions for building your app for production below.</span></span>

<span data-key="bbec06f241264967962c3899ff3b9927"><span data-offset-key="bbec06f241264967962c3899ff3b9927:0">Create React App</span></span>

<span data-key="04082eeb83c54e47a9cc9aa1df5ae899"><span data-offset-key="04082eeb83c54e47a9cc9aa1df5ae899:0">If your project is built with </span></span><a href="https://github.com/facebookincubator/create-react-app" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="3d437840b66d40929b25229857662d0d"><span data-offset-key="3d437840b66d40929b25229857662d0d:0">Create React App</span></span></span></a><span data-key="8c05c582d1aa4ec98eccbddcbe6b7099"><span data-offset-key="8c05c582d1aa4ec98eccbddcbe6b7099:0">, run:</span></span>

1

<span data-key="e14c33b7356d4cc298362e7f26951b8b"><span data-offset-key="e14c33b7356d4cc298362e7f26951b8b:0">npm run build</span></span>

Copied!

<span data-key="197f7ebb5aac40d5a4f8fa3ba94a9d85"><span data-offset-key="197f7ebb5aac40d5a4f8fa3ba94a9d85:0">This will create a production build of your app in the </span><span data-offset-key="197f7ebb5aac40d5a4f8fa3ba94a9d85:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">build/</span></span><span data-offset-key="197f7ebb5aac40d5a4f8fa3ba94a9d85:2"> folder of your project.</span></span>

<span data-key="df66c9c7e4d34cc7906346e439a77786"><span data-offset-key="df66c9c7e4d34cc7906346e439a77786:0">Remember that this is only necessary before deploying to production. For normal development, use </span><span data-offset-key="df66c9c7e4d34cc7906346e439a77786:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">npm start</span></span><span data-offset-key="df66c9c7e4d34cc7906346e439a77786:2">.</span></span>

<span data-key="28ca1744054a4810b0ffe57dfc5fb28a"><span data-offset-key="28ca1744054a4810b0ffe57dfc5fb28a:0">Single-File Builds</span></span>

<span data-key="091a5d9ac98a441ca92f011f7beb5a34"><span data-offset-key="091a5d9ac98a441ca92f011f7beb5a34:0">We offer production-ready versions of React and React DOM as single files:</span></span>

1

<span data-key="8f649f0d87df47f8943fb16e5fd63a3f"><span data-offset-key="8f649f0d87df47f8943fb16e5fd63a3f:0">&lt;script src="&lt;https://unpkg.com/<a href="../../cdn-cgi/l/email-protection.html" class="__cf_email__">[email protected]</a>/umd/react.production.min.js&gt;"&gt;&lt;/script&gt;&lt;script src="&lt;https://unpkg.com/<a href="../../cdn-cgi/l/email-protection.html" class="__cf_email__">[email protected]</a>/umd/react-dom.production.min.js&gt;"&gt;&lt;/script&gt;</span></span>

Copied!

<span data-key="b84eb157fa764d888c25ac26531df6bd"><span data-offset-key="b84eb157fa764d888c25ac26531df6bd:0">Remember that only React files ending with </span><span data-offset-key="b84eb157fa764d888c25ac26531df6bd:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">.production.min.js</span></span><span data-offset-key="b84eb157fa764d888c25ac26531df6bd:2"> are suitable for production.</span></span>

<span data-key="9eba8bdf1a5a41198cef7d0993c1b650"><span data-offset-key="9eba8bdf1a5a41198cef7d0993c1b650:0">Brunch</span></span>

<span data-key="1cc09fffcb594545b48efc2ce5260464"><span data-offset-key="1cc09fffcb594545b48efc2ce5260464:0">For the most efficient Brunch production build, install the </span><span data-offset-key="1cc09fffcb594545b48efc2ce5260464:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">\[terser-brunch\](&lt;https://github.com/brunch/terser-brunch&gt;)</span></span><span data-offset-key="1cc09fffcb594545b48efc2ce5260464:2"> plugin:</span></span>

1

<span data-key="3392fc0419f44aea9ce3c4ca39b8b24d"><span data-offset-key="3392fc0419f44aea9ce3c4ca39b8b24d:0">\# If you use npm</span></span>

2

<span data-key="7f03174df67a41e5aac818d5037aa261"><span data-offset-key="7f03174df67a41e5aac818d5037aa261:0">npm install --save-dev terser-brunch</span></span>

3

<span data-key="7f946c53792e44bd97c35905b8fa3303"><span data-offset-key="7f946c53792e44bd97c35905b8fa3303:0"><span data-slate-zero-width="n">​</span></span></span>

4

<span data-key="58d9a578fb27496db63c6a8ce4428d39"><span data-offset-key="58d9a578fb27496db63c6a8ce4428d39:0">\# If you use Yarn</span></span>

5

<span data-key="22735334ad9d4ca283d4116a554f3f7f"><span data-offset-key="22735334ad9d4ca283d4116a554f3f7f:0">yarn add --dev terser-brunch</span></span>

Copied!

<span data-key="28cd6e070b4845bb8fbc92bdddd6fd28"><span data-offset-key="28cd6e070b4845bb8fbc92bdddd6fd28:0">Then, to create a production build, add the </span><span data-offset-key="28cd6e070b4845bb8fbc92bdddd6fd28:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">-p</span></span><span data-offset-key="28cd6e070b4845bb8fbc92bdddd6fd28:2"> flag to the </span><span data-offset-key="28cd6e070b4845bb8fbc92bdddd6fd28:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">build</span></span><span data-offset-key="28cd6e070b4845bb8fbc92bdddd6fd28:4"> command:</span></span>

1

<span data-key="f7d4554b3d344bd4879f7f5bc7dfbc6b"><span data-offset-key="f7d4554b3d344bd4879f7f5bc7dfbc6b:0">brunch build -p</span></span>

Copied!

<span data-key="81d45108509c43fe91384a925ddb9e55"><span data-offset-key="81d45108509c43fe91384a925ddb9e55:0">Remember that you only need to do this for production builds. You shouldn’t pass the </span><span data-offset-key="81d45108509c43fe91384a925ddb9e55:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">-p</span></span><span data-offset-key="81d45108509c43fe91384a925ddb9e55:2"> flag or apply this plugin in development, because it will hide useful React warnings and make the builds much slower.</span></span>

<span data-key="556c791611b245ed8d1b2af245dd172d"><span data-offset-key="556c791611b245ed8d1b2af245dd172d:0">Browserify</span></span>

<span data-key="45f7e95c96474c05a43ac375e6f478c7"><span data-offset-key="45f7e95c96474c05a43ac375e6f478c7:0">For the most efficient Browserify production build, install a few plugins:</span></span>

1

<span data-key="1b3367e936e543c380f05eb4ef06ea30"><span data-offset-key="1b3367e936e543c380f05eb4ef06ea30:0">\# If you use npm</span></span>

2

<span data-key="8847f28196334a7f8176b261048a5dae"><span data-offset-key="8847f28196334a7f8176b261048a5dae:0">npm install --save-dev envify terser uglifyify</span></span>

3

<span data-key="ed5f74dccdbd4e7093878769bb68d235"><span data-offset-key="ed5f74dccdbd4e7093878769bb68d235:0"><span data-slate-zero-width="n">​</span></span></span>

4

<span data-key="51998c0cc4ce47cdb821ef2ce5c2a053"><span data-offset-key="51998c0cc4ce47cdb821ef2ce5c2a053:0">\# If you use Yarn</span></span>

5

<span data-key="383502a68449499488e3a980c3810d99"><span data-offset-key="383502a68449499488e3a980c3810d99:0">yarn add --dev envify terser uglifyify</span></span>

Copied!

<span data-key="645b7b08a5a346ab84263a31095e5e8d"><span data-offset-key="645b7b08a5a346ab84263a31095e5e8d:0">To create a production build, make sure that you add these transforms </span><span data-offset-key="645b7b08a5a346ab84263a31095e5e8d:1"><span class="css-901oao css-16my406 r-b88u0q">(the order matters)</span></span><span data-offset-key="645b7b08a5a346ab84263a31095e5e8d:2">:</span></span>

<span data-key="d4f4ff7b6be3481f879b54df4a4d80de"><span data-offset-key="d4f4ff7b6be3481f879b54df4a4d80de:0">For example:</span></span>

1

<span data-key="9d4990c3f0d34ba39c29fe57e5ee13fc"><span data-offset-key="9d4990c3f0d34ba39c29fe57e5ee13fc:0">browserify ./index.js \\\\</span></span>

2

<span data-key="18e42a7305404d0dbe98bc1bc71ce42d"><span data-offset-key="18e42a7305404d0dbe98bc1bc71ce42d:0"> -g \[ envify --NODE_ENV production \] \\\\</span></span>

3

<span data-key="c505c14f912d473cba0a13e0e4175514"><span data-offset-key="c505c14f912d473cba0a13e0e4175514:0"> -g uglifyify \\\\</span></span>

4

<span data-key="76ee89e2a6454e7c90a2297dba6647ed"><span data-offset-key="76ee89e2a6454e7c90a2297dba6647ed:0"> | terser --compress --mangle &gt; ./bundle.js</span></span>

Copied!

<span data-key="4cb51fd6bdf84f48a61d09a71b3b4b4e"><span data-offset-key="4cb51fd6bdf84f48a61d09a71b3b4b4e:0">Remember that you only need to do this for production builds. You shouldn’t apply these plugins in development because they will hide useful React warnings, and make the builds much slower.</span></span>

<span data-key="7ab40b44289f46879bc630aaa219de0e"><span data-offset-key="7ab40b44289f46879bc630aaa219de0e:0">Rollup</span></span>

<span data-key="2744d36dcae2484d9b75c3987d02bbb1"><span data-offset-key="2744d36dcae2484d9b75c3987d02bbb1:0">For the most efficient Rollup production build, install a few plugins:</span></span>

1

<span data-key="d1443ee8a5e7406aa8ee0586bcf6f7f2"><span data-offset-key="d1443ee8a5e7406aa8ee0586bcf6f7f2:0">\# If you use npm</span></span>

2

<span data-key="f5cb1ba50e354dbab6b0c710e1c80cfb"><span data-offset-key="f5cb1ba50e354dbab6b0c710e1c80cfb:0">npm install --save-dev rollup-plugin-commonjs rollup-plugin-replace rollup-plugin-terser</span></span>

3

<span data-key="85e7e26d1b56447bade4f0db36a01170"><span data-offset-key="85e7e26d1b56447bade4f0db36a01170:0"><span data-slate-zero-width="n">​</span></span></span>

4

<span data-key="afbd32558ad14d499607b7197e1b7c98"><span data-offset-key="afbd32558ad14d499607b7197e1b7c98:0">\# If you use Yarn</span></span>

5

<span data-key="1039b57afed64d5d967ea30c09ca0f83"><span data-offset-key="1039b57afed64d5d967ea30c09ca0f83:0">yarn add --dev rollup-plugin-commonjs rollup-plugin-replace rollup-plugin-terser</span></span>

Copied!

<span data-key="2518d353ae77486893ffb2504844d920"><span data-offset-key="2518d353ae77486893ffb2504844d920:0">To create a production build, make sure that you add these plugins </span><span data-offset-key="2518d353ae77486893ffb2504844d920:1"><span class="css-901oao css-16my406 r-b88u0q">(the order matters)</span></span><span data-offset-key="2518d353ae77486893ffb2504844d920:2">:</span></span>

1

<span data-key="f8cd4f326ce04afeb78e8fac58da10b4"><span data-offset-key="f8cd4f326ce04afeb78e8fac58da10b4:0">plugins: \[</span></span>

2

<span data-key="856838740c514cec936da24e32337ada"><span data-offset-key="856838740c514cec936da24e32337ada:0"> // ...</span></span>

3

<span data-key="b93917411c214ddfbee60e1d6a386a41"><span data-offset-key="b93917411c214ddfbee60e1d6a386a41:0"> require('rollup-plugin-replace')({</span></span>

4

<span data-key="d3b8125a964946f0985cc6f2d9534919"><span data-offset-key="d3b8125a964946f0985cc6f2d9534919:0"> 'process.env.NODE_ENV': JSON.stringify('production')</span></span>

5

<span data-key="bc1dfcb660ef4021b5c796770409fc2c"><span data-offset-key="bc1dfcb660ef4021b5c796770409fc2c:0"> }),</span></span>

6

<span data-key="0dfca1eb9ccc4f479cd09a9f71cc7d08"><span data-offset-key="0dfca1eb9ccc4f479cd09a9f71cc7d08:0"> require('rollup-plugin-commonjs')(),</span></span>

7

<span data-key="5fffa360daf54b3b9dc54f4cd68e0714"><span data-offset-key="5fffa360daf54b3b9dc54f4cd68e0714:0"> require('rollup-plugin-terser')(),</span></span>

8

<span data-key="f020233f29d44f36a3bdd19fb4d4a128"><span data-offset-key="f020233f29d44f36a3bdd19fb4d4a128:0"> // ...</span></span>

9

<span data-key="adafbfea19be43fda9f887b1f3270a97"><span data-offset-key="adafbfea19be43fda9f887b1f3270a97:0">\]</span></span>

Copied!

<span data-key="e3ea4d35a8824a309d689635173101f0"><span data-offset-key="e3ea4d35a8824a309d689635173101f0:0">For a complete setup example </span></span><a href="https://www.notion.so/cb14f4bc0670c47d00d191565be36bf0" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="d7be6ea9116e47cab31e2caaf4d9d3f5"><span data-offset-key="d7be6ea9116e47cab31e2caaf4d9d3f5:0">see this gist</span></span></span></a><span data-key="fededdf8dec74c2294b21ee2400596fd"><span data-offset-key="fededdf8dec74c2294b21ee2400596fd:0">.</span></span>

<span data-key="18b2e675931d4f008e61cf119ce2f5d6"><span data-offset-key="18b2e675931d4f008e61cf119ce2f5d6:0">Remember that you only need to do this for production builds. You shouldn’t apply the </span><span data-offset-key="18b2e675931d4f008e61cf119ce2f5d6:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">terser</span></span><span data-offset-key="18b2e675931d4f008e61cf119ce2f5d6:2"> plugin or the </span><span data-offset-key="18b2e675931d4f008e61cf119ce2f5d6:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">replace</span></span><span data-offset-key="18b2e675931d4f008e61cf119ce2f5d6:4"> plugin with </span><span data-offset-key="18b2e675931d4f008e61cf119ce2f5d6:5"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">'production'</span></span><span data-offset-key="18b2e675931d4f008e61cf119ce2f5d6:6"> value in development because they will hide useful React warnings, and make the builds much slower.</span></span>

<span data-key="a924a664f1b741d9ad527048539c44f3"><span data-offset-key="a924a664f1b741d9ad527048539c44f3:0">webpack</span></span>

<span data-key="86ea0465f2874f2db8bece68707815e6"><span data-offset-key="86ea0465f2874f2db8bece68707815e6:0">Note:If you’re using Create React App, please follow the instructions above.This section is only relevant if you configure webpack directly.</span></span>

<span data-key="c4802d9e3f33450a86696804d11fed4f"><span data-offset-key="c4802d9e3f33450a86696804d11fed4f:0">Webpack v4+ will minify your code by default in production mode.</span></span>

1

<span data-key="82be4f07506445f581cbab8857a80fbc"><span data-offset-key="82be4f07506445f581cbab8857a80fbc:0">const TerserPlugin = require('terser-webpack-plugin');</span></span>

2

<span data-key="bfdf34834bd8487fbb8b288dc1281304"><span data-offset-key="bfdf34834bd8487fbb8b288dc1281304:0"><span data-slate-zero-width="n">​</span></span></span>

3

<span data-key="f86c7d96113847b5a30f4cec7578e597"><span data-offset-key="f86c7d96113847b5a30f4cec7578e597:0">module.exports = {</span></span>

4

<span data-key="78990693dd3d40d88a62d470983d3ac2"><span data-offset-key="78990693dd3d40d88a62d470983d3ac2:0"> mode: 'production',</span></span>

5

<span data-key="74680286015b47dd8644e79e05dfe1c9"><span data-offset-key="74680286015b47dd8644e79e05dfe1c9:0"> optimization: {</span></span>

6

<span data-key="e1a368f9564540af97897f0dda815b93"><span data-offset-key="e1a368f9564540af97897f0dda815b93:0"> minimizer: \[new TerserPlugin({ /\* additional options here \*/ })\],</span></span>

7

<span data-key="285e6b53d3854bd4b856ea07ea1b8632"><span data-offset-key="285e6b53d3854bd4b856ea07ea1b8632:0"> },</span></span>

8

<span data-key="f66d439d29214935b61bd9f629959a4d"><span data-offset-key="f66d439d29214935b61bd9f629959a4d:0">};</span></span>

Copied!

<span data-key="12da29cb0e7649b4a27b69496f382afc"><span data-offset-key="12da29cb0e7649b4a27b69496f382afc:0">You can learn more about this in </span></span><a href="https://webpack.js.org/guides/production/" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="4371a724f2d442d1bea2758ffff20742"><span data-offset-key="4371a724f2d442d1bea2758ffff20742:0">webpack documentation</span></span></span></a><span data-key="66ff964f8ddd4b1b9ea8facd8e41d0b3"><span data-offset-key="66ff964f8ddd4b1b9ea8facd8e41d0b3:0">.</span></span>

<span data-key="e658c47e7dc44619b4ea73b35bd5f119"><span data-offset-key="e658c47e7dc44619b4ea73b35bd5f119:0">Remember that you only need to do this for production builds. You shouldn’t apply </span><span data-offset-key="e658c47e7dc44619b4ea73b35bd5f119:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">TerserPlugin</span></span><span data-offset-key="e658c47e7dc44619b4ea73b35bd5f119:2"> in development because it will hide useful React warnings, and make the builds much slower.</span></span>

<span data-key="8ee582b04c17472a89e32f0ac881faf0"><span data-offset-key="8ee582b04c17472a89e32f0ac881faf0:0">Profiling Components with the DevTools Profiler</span></span>

<span data-key="9e665a5c728f40a5aa3bdfab8d764e56"><span data-offset-key="9e665a5c728f40a5aa3bdfab8d764e56:0"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">react-dom</span></span><span data-offset-key="9e665a5c728f40a5aa3bdfab8d764e56:1"> 16.5+ and </span><span data-offset-key="9e665a5c728f40a5aa3bdfab8d764e56:2"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">react-native</span></span><span data-offset-key="9e665a5c728f40a5aa3bdfab8d764e56:3"> 0.57+ provide enhanced profiling capabilities in DEV mode with the React DevTools Profiler. An overview of the Profiler can be found in the blog post </span></span><a href="https://reactjs.org/blog/2018/09/10/introducing-the-react-profiler.html" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="9c3d6d60fb8e46e28bdbf3985e9fef16"><span data-offset-key="9c3d6d60fb8e46e28bdbf3985e9fef16:0">“Introducing the React Profiler”</span></span></span></a><span data-key="5e8c8fb1dfa646a58a8ddefaa131c418"><span data-offset-key="5e8c8fb1dfa646a58a8ddefaa131c418:0">. A video walkthrough of the profiler is also </span></span><a href="https://www.youtube.com/watch?v=nySib7ipZdk" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="3a5c42a5227b4c51bf6390b8678f5295"><span data-offset-key="3a5c42a5227b4c51bf6390b8678f5295:0">available on YouTube</span></span></span></a><span data-key="4d6cd21129d04e7eb007c54e96598527"><span data-offset-key="4d6cd21129d04e7eb007c54e96598527:0">.</span></span>

<span data-key="7e06fa45ec5a411ea152ffa0b84e3f65"><span data-offset-key="7e06fa45ec5a411ea152ffa0b84e3f65:0">If you haven’t yet installed the React DevTools, you can find them here:</span></span>

<span data-key="b17564fbe7c94fadb84a54db84beb6da"><span data-offset-key="b17564fbe7c94fadb84a54db84beb6da:0">NoteA production profiling bundle of react-dom is also available as react-dom/profiling. Read more about how to use this bundle at </span></span><a href="http://fb.me/react-profiling" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="6efef02ad767409182ce00aa04de85be"><span data-offset-key="6efef02ad767409182ce00aa04de85be:0">fb.me/react-profiling</span></span></span></a><span data-key="c2db051960ed4685bcea38398870733f"><span data-offset-key="c2db051960ed4685bcea38398870733f:0"><span data-slate-zero-width="z">​</span></span></span>

<span data-key="723803c7893046ec9bd074b7f9c7ecd2"><span data-offset-key="723803c7893046ec9bd074b7f9c7ecd2:0">NoteBefore React 17, we use the standard User Timing API to profile components with the chrome performance tab. For a more detailed walkthrough, check out this article by Ben Schwarz.</span></span>

<span data-key="b2aad4275a354d188a4f4b96e8e95de8"><span data-offset-key="b2aad4275a354d188a4f4b96e8e95de8:0">Virtualize Long Lists</span></span>

<span data-key="e5e0e55607484b408e6fb4a5dcd28979"><span data-offset-key="e5e0e55607484b408e6fb4a5dcd28979:0">If your application renders long lists of data (hundreds or thousands of rows), we recommend using a technique known as “windowing”. This technique only renders a small subset of your rows at any given time, and can dramatically reduce the time it takes to re-render the components as well as the number of DOM nodes created.</span></span>

<span data-key="b2defd24482441e083f4e6d5a48fd0df"><span data-offset-key="b2defd24482441e083f4e6d5a48fd0df:0"><span data-slate-zero-width="z">​</span></span></span><a href="https://react-window.now.sh" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="b9dc2e38a90b46cba23431d802ff4f36"><span data-offset-key="b9dc2e38a90b46cba23431d802ff4f36:0">react-window</span></span></span></a><span data-key="da8efaa57c3b47dcaf15a6c57be7fa12"><span data-offset-key="da8efaa57c3b47dcaf15a6c57be7fa12:0"> and </span></span><a href="https://bvaughn.github.io/react-virtualized/" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="d1ee86db424e4ee482a6e5919eb0a2c1"><span data-offset-key="d1ee86db424e4ee482a6e5919eb0a2c1:0">react-virtualized</span></span></span></a><span data-key="1f21606846944c4eabe5ff8e40cd1aeb"><span data-offset-key="1f21606846944c4eabe5ff8e40cd1aeb:0"> are popular windowing libraries. They provide several reusable components for displaying lists, grids, and tabular data. You can also create your own windowing component, like </span></span><a href="https://medium.com/@paularmstrong/twitter-lite-and-high-performance-react-progressive-web-apps-at-scale-d28a00e780a3" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="ef6e4745bc524bf1be700137405b2f16"><span data-offset-key="ef6e4745bc524bf1be700137405b2f16:0">Twitter did</span></span></span></a><span data-key="ac9a0d37a3514898a55137454dedcd0f"><span data-offset-key="ac9a0d37a3514898a55137454dedcd0f:0">, if you want something more tailored to your application’s specific use case.</span></span>

<span data-key="b4963cdc5fac472bb73803c3269ba461"><span data-offset-key="b4963cdc5fac472bb73803c3269ba461:0">Avoid Reconciliation</span></span>

<span data-key="a4390aff068349b990c8d15fde6e5e53"><span data-offset-key="a4390aff068349b990c8d15fde6e5e53:0">React builds and maintains an internal representation of the rendered UI. It includes the React elements you return from your components. This representation lets React avoid creating DOM nodes and accessing existing ones beyond necessity, as that can be slower than operations on JavaScript objects. Sometimes it is referred to as a “virtual DOM”, but it works the same way on React Native.</span></span>

<span data-key="f1a6be798af843a4adc9dc0c2c9bc8fa"><span data-offset-key="f1a6be798af843a4adc9dc0c2c9bc8fa:0">When a component’s props or state change, React decides whether an actual DOM update is necessary by comparing the newly returned element with the previously rendered one. When they are not equal, React will update the DOM.</span></span>

<span data-key="6ce0dd0b3a03470bb286f6a9aea4f3e6"><span data-offset-key="6ce0dd0b3a03470bb286f6a9aea4f3e6:0">Even though React only updates the changed DOM nodes, re-rendering still takes some time. In many cases it’s not a problem, but if the slowdown is noticeable, you can speed all of this up by overriding the lifecycle function </span><span data-offset-key="6ce0dd0b3a03470bb286f6a9aea4f3e6:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">shouldComponentUpdate</span></span><span data-offset-key="6ce0dd0b3a03470bb286f6a9aea4f3e6:2">, which is triggered before the re-rendering process starts. The default implementation of this function returns </span><span data-offset-key="6ce0dd0b3a03470bb286f6a9aea4f3e6:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">true</span></span><span data-offset-key="6ce0dd0b3a03470bb286f6a9aea4f3e6:4">, leaving React to perform the update:</span></span>

1

<span data-key="0dabb832705e48bb8d6a43ec520e063d"><span data-offset-key="0dabb832705e48bb8d6a43ec520e063d:0">shouldComponentUpdate(nextProps, nextState) {</span></span>

2

<span data-key="36807e8d16b548dfbce22e97ca6f6605"><span data-offset-key="36807e8d16b548dfbce22e97ca6f6605:0"> return true;</span></span>

3

<span data-key="2ea8da0acd2c42bf9aff504c66af8b23"><span data-offset-key="2ea8da0acd2c42bf9aff504c66af8b23:0">}</span></span>

Copied!

<span data-key="e3fb16b9e58d48e6b85684be6442870e"><span data-offset-key="e3fb16b9e58d48e6b85684be6442870e:0">If you know that in some situations your component doesn’t need to update, you can return </span><span data-offset-key="e3fb16b9e58d48e6b85684be6442870e:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">false</span></span><span data-offset-key="e3fb16b9e58d48e6b85684be6442870e:2"> from </span><span data-offset-key="e3fb16b9e58d48e6b85684be6442870e:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">shouldComponentUpdate</span></span><span data-offset-key="e3fb16b9e58d48e6b85684be6442870e:4"> instead, to skip the whole rendering process, including calling </span><span data-offset-key="e3fb16b9e58d48e6b85684be6442870e:5"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">render()</span></span><span data-offset-key="e3fb16b9e58d48e6b85684be6442870e:6"> on this component and below.</span></span>

<span data-key="24a1d7831017430cb6dee4c7b82e4935"><span data-offset-key="24a1d7831017430cb6dee4c7b82e4935:0">In most cases, instead of writing </span><span data-offset-key="24a1d7831017430cb6dee4c7b82e4935:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">shouldComponentUpdate()</span></span><span data-offset-key="24a1d7831017430cb6dee4c7b82e4935:2"> by hand, you can inherit from </span><span data-offset-key="24a1d7831017430cb6dee4c7b82e4935:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">\[React.PureComponent\](&lt;https://reactjs.org/docs/react-api.html\#reactpurecomponent&gt;)</span></span><span data-offset-key="24a1d7831017430cb6dee4c7b82e4935:4">. It is equivalent to implementing </span><span data-offset-key="24a1d7831017430cb6dee4c7b82e4935:5"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">shouldComponentUpdate()</span></span><span data-offset-key="24a1d7831017430cb6dee4c7b82e4935:6"> with a shallow comparison of current and previous props and state.</span></span>

<span data-key="6afba8a36ad94e7c8778c16ceb15d263"><span data-offset-key="6afba8a36ad94e7c8778c16ceb15d263:0">shouldComponentUpdate In Action</span></span>

<span data-key="bad5068b8d5d4f768e6c92f0fc507ff8"><span data-offset-key="bad5068b8d5d4f768e6c92f0fc507ff8:0">Here’s a subtree of components. For each one, </span><span data-offset-key="bad5068b8d5d4f768e6c92f0fc507ff8:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">SCU</span></span><span data-offset-key="bad5068b8d5d4f768e6c92f0fc507ff8:2"> indicates what </span><span data-offset-key="bad5068b8d5d4f768e6c92f0fc507ff8:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">shouldComponentUpdate</span></span><span data-offset-key="bad5068b8d5d4f768e6c92f0fc507ff8:4"> returned, and </span><span data-offset-key="bad5068b8d5d4f768e6c92f0fc507ff8:5"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">vDOMEq</span></span><span data-offset-key="bad5068b8d5d4f768e6c92f0fc507ff8:6"> indicates whether the rendered React elements were equivalent. Finally, the circle’s color indicates whether the component had to be reconciled or not.</span></span>

<span data-key="cbd692e8152142969bdf32825534e72c"><span data-offset-key="cbd692e8152142969bdf32825534e72c:0">https://reactjs.org/static/5ee1bdf4779af06072a17b7a0654f6db/cd039/should-component-update.png</span></span>

<span data-key="b513c79fd6f94f1a87b8466b49114a91"><span data-offset-key="b513c79fd6f94f1a87b8466b49114a91:0">Since </span><span data-offset-key="b513c79fd6f94f1a87b8466b49114a91:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">shouldComponentUpdate</span></span><span data-offset-key="b513c79fd6f94f1a87b8466b49114a91:2"> returned </span><span data-offset-key="b513c79fd6f94f1a87b8466b49114a91:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">false</span></span><span data-offset-key="b513c79fd6f94f1a87b8466b49114a91:4"> for the subtree rooted at C2, React did not attempt to render C2, and thus didn’t even have to invoke </span><span data-offset-key="b513c79fd6f94f1a87b8466b49114a91:5"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">shouldComponentUpdate</span></span><span data-offset-key="b513c79fd6f94f1a87b8466b49114a91:6"> on C4 and C5.</span></span>

<span data-key="82fdc8e12ece4e83b23eb3af060b82c9"><span data-offset-key="82fdc8e12ece4e83b23eb3af060b82c9:0">For C1 and C3, </span><span data-offset-key="82fdc8e12ece4e83b23eb3af060b82c9:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">shouldComponentUpdate</span></span><span data-offset-key="82fdc8e12ece4e83b23eb3af060b82c9:2"> returned </span><span data-offset-key="82fdc8e12ece4e83b23eb3af060b82c9:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">true</span></span><span data-offset-key="82fdc8e12ece4e83b23eb3af060b82c9:4">, so React had to go down to the leaves and check them. For C6 </span><span data-offset-key="82fdc8e12ece4e83b23eb3af060b82c9:5"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">shouldComponentUpdate</span></span><span data-offset-key="82fdc8e12ece4e83b23eb3af060b82c9:6"> returned </span><span data-offset-key="82fdc8e12ece4e83b23eb3af060b82c9:7"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">true</span></span><span data-offset-key="82fdc8e12ece4e83b23eb3af060b82c9:8">, and since the rendered elements weren’t equivalent React had to update the DOM.</span></span>

<span data-key="0f61a0ebc2ae445abde0c047a43d166a"><span data-offset-key="0f61a0ebc2ae445abde0c047a43d166a:0">The last interesting case is C8. React had to render this component, but since the React elements it returned were equal to the previously rendered ones, it didn’t have to update the DOM.</span></span>

<span data-key="529290810751408ba332ab558933483d"><span data-offset-key="529290810751408ba332ab558933483d:0">Note that React only had to do DOM mutations for C6, which was inevitable. For C8, it bailed out by comparing the rendered React elements, and for C2’s subtree and C7, it didn’t even have to compare the elements as we bailed out on </span><span data-offset-key="529290810751408ba332ab558933483d:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">shouldComponentUpdate</span></span><span data-offset-key="529290810751408ba332ab558933483d:2">, and </span><span data-offset-key="529290810751408ba332ab558933483d:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">render</span></span><span data-offset-key="529290810751408ba332ab558933483d:4"> was not called.</span></span>

<span data-key="06c0f50f794a433cacdc02c95a158a14"><span data-offset-key="06c0f50f794a433cacdc02c95a158a14:0">Examples</span></span>

<span data-key="014a90581f0c44d5b064735c37bdd709"><span data-offset-key="014a90581f0c44d5b064735c37bdd709:0">If the only way your component ever changes is when the </span><span data-offset-key="014a90581f0c44d5b064735c37bdd709:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">props.color</span></span><span data-offset-key="014a90581f0c44d5b064735c37bdd709:2"> or the </span><span data-offset-key="014a90581f0c44d5b064735c37bdd709:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">state.count</span></span><span data-offset-key="014a90581f0c44d5b064735c37bdd709:4"> variable changes, you could have </span><span data-offset-key="014a90581f0c44d5b064735c37bdd709:5"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">shouldComponentUpdate</span></span><span data-offset-key="014a90581f0c44d5b064735c37bdd709:6"> check that:</span></span>

1

<span data-key="6c3aa14ed3c74ec3b06d8b58ce400b00"><span data-offset-key="6c3aa14ed3c74ec3b06d8b58ce400b00:0">class CounterButton extends React.Component {</span></span>

2

<span data-key="f3124261990f4b7e9c91d9ac79ecd6fc"><span data-offset-key="f3124261990f4b7e9c91d9ac79ecd6fc:0"> constructor(props) {</span></span>

3

<span data-key="32e4dd46bdb04c7694ca6b713ffac717"><span data-offset-key="32e4dd46bdb04c7694ca6b713ffac717:0"> super(props);</span></span>

4

<span data-key="5ddb2e84fa284d65ad9ad92e74c75127"><span data-offset-key="5ddb2e84fa284d65ad9ad92e74c75127:0"> this.state = {count: 1};</span></span>

5

<span data-key="c06d9eb29bff4f399be9207990ec6724"><span data-offset-key="c06d9eb29bff4f399be9207990ec6724:0"> }</span></span>

6

<span data-key="24996101c1414c1180d432ce0be5220c"><span data-offset-key="24996101c1414c1180d432ce0be5220c:0"><span data-slate-zero-width="n">​</span></span></span>

7

<span data-key="f06e16d59ca149f09fbe639bfb232046"><span data-offset-key="f06e16d59ca149f09fbe639bfb232046:0"> shouldComponentUpdate(nextProps, nextState) {</span></span>

8

<span data-key="1520811300f2469ea84c603b7b462a10"><span data-offset-key="1520811300f2469ea84c603b7b462a10:0"> if (this.props.color !== nextProps.color) {</span></span>

9

<span data-key="502de1108d014af0ab3b64e251ea0ee4"><span data-offset-key="502de1108d014af0ab3b64e251ea0ee4:0"> return true;</span></span>

10

<span data-key="d3dd3abc5ca840549b4f207bf784f5ef"><span data-offset-key="d3dd3abc5ca840549b4f207bf784f5ef:0"> }</span></span>

11

<span data-key="14dc39aca7834ca2bce99963e39f7f9b"><span data-offset-key="14dc39aca7834ca2bce99963e39f7f9b:0"> if (this.state.count !== nextState.count) {</span></span>

12

<span data-key="553887ef6f2f4c2fab590fe82e3f7509"><span data-offset-key="553887ef6f2f4c2fab590fe82e3f7509:0"> return true;</span></span>

13

<span data-key="2d690233800b47f08c1a5698d9de5255"><span data-offset-key="2d690233800b47f08c1a5698d9de5255:0"> }</span></span>

14

<span data-key="67249e3fbfe84bd98be3432928923c84"><span data-offset-key="67249e3fbfe84bd98be3432928923c84:0"> return false;</span></span>

15

<span data-key="2c90cd0106c04ab78779d77ca2542b55"><span data-offset-key="2c90cd0106c04ab78779d77ca2542b55:0"> }</span></span>

16

<span data-key="669e43563f374d33a85a0de495b9db0d"><span data-offset-key="669e43563f374d33a85a0de495b9db0d:0"><span data-slate-zero-width="n">​</span></span></span>

17

<span data-key="838d52318be24d808b6c02ee0171cc62"><span data-offset-key="838d52318be24d808b6c02ee0171cc62:0"> render() {</span></span>

18

<span data-key="cffe7c2fcfc44ed59d589aa615a45a5f"><span data-offset-key="cffe7c2fcfc44ed59d589aa615a45a5f:0"> return (</span></span>

19

<span data-key="97becd25c0b4474d9b99e31c2adf5dbc"><span data-offset-key="97becd25c0b4474d9b99e31c2adf5dbc:0"> &lt;button</span></span>

20

<span data-key="54985a39d7964c89abc70e3c7a000ee8"><span data-offset-key="54985a39d7964c89abc70e3c7a000ee8:0"> color={this.props.color}onClick={() =&gt; this.setState(state =&gt; ({count: state.count + 1}))}&gt;</span></span>

21

<span data-key="90eeab5f724843b39525b80c3800e497"><span data-offset-key="90eeab5f724843b39525b80c3800e497:0"> Count: {this.state.count}</span></span>

22

<span data-key="7f277683d31b4c21be2eb3290ac77c9b"><span data-offset-key="7f277683d31b4c21be2eb3290ac77c9b:0"> &lt;/button&gt;);</span></span>

23

<span data-key="afcc1cffc1474f91bc69b08b47d8951f"><span data-offset-key="afcc1cffc1474f91bc69b08b47d8951f:0"> }</span></span>

24

<span data-key="39d91b88fc4b4c7089578404a655e26a"><span data-offset-key="39d91b88fc4b4c7089578404a655e26a:0">}</span></span>

Copied!

<span data-key="916906a41aa14dc98102c3e50e306664"><span data-offset-key="916906a41aa14dc98102c3e50e306664:0">In this code, </span><span data-offset-key="916906a41aa14dc98102c3e50e306664:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">shouldComponentUpdate</span></span><span data-offset-key="916906a41aa14dc98102c3e50e306664:2"> is just checking if there is any change in </span><span data-offset-key="916906a41aa14dc98102c3e50e306664:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">props.color</span></span><span data-offset-key="916906a41aa14dc98102c3e50e306664:4"> or </span><span data-offset-key="916906a41aa14dc98102c3e50e306664:5"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">state.count</span></span><span data-offset-key="916906a41aa14dc98102c3e50e306664:6">. If those values don’t change, the component doesn’t update. If your component got more complex, you could use a similar pattern of doing a “shallow comparison” between all the fields of </span><span data-offset-key="916906a41aa14dc98102c3e50e306664:7"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">props</span></span><span data-offset-key="916906a41aa14dc98102c3e50e306664:8"> and </span><span data-offset-key="916906a41aa14dc98102c3e50e306664:9"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">state</span></span><span data-offset-key="916906a41aa14dc98102c3e50e306664:10"> to determine if the component should update. This pattern is common enough that React provides a helper to use this logic - just inherit from </span><span data-offset-key="916906a41aa14dc98102c3e50e306664:11"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">React.PureComponent</span></span><span data-offset-key="916906a41aa14dc98102c3e50e306664:12">. So this code is a simpler way to achieve the same thing:</span></span>

1

<span data-key="6324335b3ebf41cabec2ebca0a64e033"><span data-offset-key="6324335b3ebf41cabec2ebca0a64e033:0">class CounterButton extends React.PureComponent {</span></span>

2

<span data-key="b228a7f4ef6a404eb66a5f0df4cdcefb"><span data-offset-key="b228a7f4ef6a404eb66a5f0df4cdcefb:0"> constructor(props) {</span></span>

3

<span data-key="2c6044b621f84c0d9ce1b342e0b7dea4"><span data-offset-key="2c6044b621f84c0d9ce1b342e0b7dea4:0"> super(props);</span></span>

4

<span data-key="7e2e326eb01a4c6db6e493c6af2205e3"><span data-offset-key="7e2e326eb01a4c6db6e493c6af2205e3:0"> this.state = {count: 1};</span></span>

5

<span data-key="86398f0c06d449848cfdb5aedaa7af31"><span data-offset-key="86398f0c06d449848cfdb5aedaa7af31:0"> }</span></span>

6

<span data-key="2c13b12f496e4cfb8e22031310754639"><span data-offset-key="2c13b12f496e4cfb8e22031310754639:0"><span data-slate-zero-width="n">​</span></span></span>

7

<span data-key="f1d05bd6c0d7478ba78dfd5dc8fd4759"><span data-offset-key="f1d05bd6c0d7478ba78dfd5dc8fd4759:0"> render() {</span></span>

8

<span data-key="60c081a23cd444a380489258a6e98a75"><span data-offset-key="60c081a23cd444a380489258a6e98a75:0"> return (</span></span>

9

<span data-key="1fd67bddbd4446f1b744918511b40e68"><span data-offset-key="1fd67bddbd4446f1b744918511b40e68:0"> &lt;button</span></span>

10

<span data-key="afdda59d69ea43ca935552b20ae045ac"><span data-offset-key="afdda59d69ea43ca935552b20ae045ac:0"> color={this.props.color}onClick={() =&gt; this.setState(state =&gt; ({count: state.count + 1}))}&gt;</span></span>

11

<span data-key="87f921054b32450b98b2d4994844ee16"><span data-offset-key="87f921054b32450b98b2d4994844ee16:0"> Count: {this.state.count}</span></span>

12

<span data-key="ca002a674e8043ce91e099ca57149cbc"><span data-offset-key="ca002a674e8043ce91e099ca57149cbc:0"> &lt;/button&gt;);</span></span>

13

<span data-key="0c92b69cce5f40f283333daa7dbd8142"><span data-offset-key="0c92b69cce5f40f283333daa7dbd8142:0"> }</span></span>

14

<span data-key="cf0e665da5364d19b1627a163528ebc5"><span data-offset-key="cf0e665da5364d19b1627a163528ebc5:0">}</span></span>

Copied!

<span data-key="ffb8678b83e242469a066d61d9d12983"><span data-offset-key="ffb8678b83e242469a066d61d9d12983:0">Most of the time, you can use </span><span data-offset-key="ffb8678b83e242469a066d61d9d12983:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">React.PureComponent</span></span><span data-offset-key="ffb8678b83e242469a066d61d9d12983:2"> instead of writing your own </span><span data-offset-key="ffb8678b83e242469a066d61d9d12983:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">shouldComponentUpdate</span></span><span data-offset-key="ffb8678b83e242469a066d61d9d12983:4">. It only does a shallow comparison, so you can’t use it if the props or state may have been mutated in a way that a shallow comparison would miss.</span></span>

<span data-key="09075769966e45c6bfe177a07c0b6a89"><span data-offset-key="09075769966e45c6bfe177a07c0b6a89:0">This can be a problem with more complex data structures. For example, let’s say you want a </span><span data-offset-key="09075769966e45c6bfe177a07c0b6a89:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">ListOfWords</span></span><span data-offset-key="09075769966e45c6bfe177a07c0b6a89:2"> component to render a comma-separated list of words, with a parent </span><span data-offset-key="09075769966e45c6bfe177a07c0b6a89:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">WordAdder</span></span><span data-offset-key="09075769966e45c6bfe177a07c0b6a89:4"> component that lets you click a button to add a word to the list. This code does </span><span data-offset-key="09075769966e45c6bfe177a07c0b6a89:5"><span class="css-901oao css-16my406 r-36ujnk">not</span></span><span data-offset-key="09075769966e45c6bfe177a07c0b6a89:6"> work correctly:</span></span>

1

<span data-key="e16c7c24b6b14e50b04956fcf1458031"><span data-offset-key="e16c7c24b6b14e50b04956fcf1458031:0">class ListOfWords extends React.PureComponent {</span></span>

2

<span data-key="a587c701507449cd92d61e551d492165"><span data-offset-key="a587c701507449cd92d61e551d492165:0"> render() {</span></span>

3

<span data-key="de87a8c54ada430cb0cb948b967da130"><span data-offset-key="de87a8c54ada430cb0cb948b967da130:0"> return &lt;div&gt;{this.props.words.join(',')}&lt;/div&gt;;</span></span>

4

<span data-key="f35d07ada7f2489b8e3d647df3af9384"><span data-offset-key="f35d07ada7f2489b8e3d647df3af9384:0"> }</span></span>

5

<span data-key="dfd7ed62041a4c8884c8683f55d38d24"><span data-offset-key="dfd7ed62041a4c8884c8683f55d38d24:0">}</span></span>

6

<span data-key="ac4a449b3eb048a1825e377fa7526038"><span data-offset-key="ac4a449b3eb048a1825e377fa7526038:0"><span data-slate-zero-width="n">​</span></span></span>

7

<span data-key="5c7ec634cb98463182ef72d98c66ea3f"><span data-offset-key="5c7ec634cb98463182ef72d98c66ea3f:0">class WordAdder extends React.Component {</span></span>

8

<span data-key="1365a1876d344b398170cfb59319f579"><span data-offset-key="1365a1876d344b398170cfb59319f579:0"> constructor(props) {</span></span>

9

<span data-key="5f8928b5aa9c4edca2ef871e0b73125c"><span data-offset-key="5f8928b5aa9c4edca2ef871e0b73125c:0"> super(props);</span></span>

10

<span data-key="1bb7266ca62040e6ae0a3795a059c0a0"><span data-offset-key="1bb7266ca62040e6ae0a3795a059c0a0:0"> this.state = {</span></span>

11

<span data-key="1d354ef0069d45b3b079cb20f7996cc5"><span data-offset-key="1d354ef0069d45b3b079cb20f7996cc5:0"> words: \['marklar'\]</span></span>

12

<span data-key="fb1524789b3f462e864c45aebfdae050"><span data-offset-key="fb1524789b3f462e864c45aebfdae050:0"> };</span></span>

13

<span data-key="246307909f714ecf8dd74e10db3ee5bf"><span data-offset-key="246307909f714ecf8dd74e10db3ee5bf:0"> this.handleClick = this.handleClick.bind(this);</span></span>

14

<span data-key="f0fd7bd644f64dd58126b806d88c2700"><span data-offset-key="f0fd7bd644f64dd58126b806d88c2700:0"> }</span></span>

15

<span data-key="fd11864636464048a1b2291fe8c3ec2d"><span data-offset-key="fd11864636464048a1b2291fe8c3ec2d:0"><span data-slate-zero-width="n">​</span></span></span>

16

<span data-key="32cb2be1e58a4b2b8e07d2a15850d942"><span data-offset-key="32cb2be1e58a4b2b8e07d2a15850d942:0"> handleClick() {</span></span>

17

<span data-key="74184493faed4dd7aa5f25da6b109b28"><span data-offset-key="74184493faed4dd7aa5f25da6b109b28:0"> // This section is bad style and causes a bug</span></span>

18

<span data-key="c48560cfd29149ed8cb8fd9eae16ab63"><span data-offset-key="c48560cfd29149ed8cb8fd9eae16ab63:0"> const words = this.state.words;</span></span>

19

<span data-key="ff65d812c7914e23965c955cec6bfaa7"><span data-offset-key="ff65d812c7914e23965c955cec6bfaa7:0"> words.push('marklar');</span></span>

20

<span data-key="673be75e9a31475790a606a5372a9834"><span data-offset-key="673be75e9a31475790a606a5372a9834:0"> this.setState({words: words});</span></span>

21

<span data-key="9ca84183a22042a0b9f6485d2914e32b"><span data-offset-key="9ca84183a22042a0b9f6485d2914e32b:0"> }</span></span>

22

<span data-key="78f789b71dc74cdd9cff851de2a24680"><span data-offset-key="78f789b71dc74cdd9cff851de2a24680:0"><span data-slate-zero-width="n">​</span></span></span>

23

<span data-key="a97c818c19a44e3facd7c4f314cdaa55"><span data-offset-key="a97c818c19a44e3facd7c4f314cdaa55:0"> render() {</span></span>

24

<span data-key="0b9926e71e2b49a891bf32b740fbd0fd"><span data-offset-key="0b9926e71e2b49a891bf32b740fbd0fd:0"> return (</span></span>

25

<span data-key="d2aebe367b8d4862a231912cd52038f9"><span data-offset-key="d2aebe367b8d4862a231912cd52038f9:0"> &lt;div&gt;</span></span>

26

<span data-key="0495b5f672424079a453cdc0ecf562c0"><span data-offset-key="0495b5f672424079a453cdc0ecf562c0:0"> &lt;button onClick={this.handleClick} /&gt;</span></span>

27

<span data-key="ad9e43623c144e44b695db045cf61a8f"><span data-offset-key="ad9e43623c144e44b695db045cf61a8f:0"> &lt;ListOfWords words={this.state.words} /&gt;</span></span>

28

<span data-key="0450375937724b7fbd2e9a5e86a3b284"><span data-offset-key="0450375937724b7fbd2e9a5e86a3b284:0"> &lt;/div&gt;);</span></span>

29

<span data-key="ccb08f499d474de9ae39ee8a44b46d12"><span data-offset-key="ccb08f499d474de9ae39ee8a44b46d12:0"> }</span></span>

30

<span data-key="c538b4ee093944d1ae11c831b196ea1c"><span data-offset-key="c538b4ee093944d1ae11c831b196ea1c:0">}</span></span>

Copied!

<span data-key="2f98f3c16de64c8a88854b3aaeb55059"><span data-offset-key="2f98f3c16de64c8a88854b3aaeb55059:0">The problem is that </span><span data-offset-key="2f98f3c16de64c8a88854b3aaeb55059:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">PureComponent</span></span><span data-offset-key="2f98f3c16de64c8a88854b3aaeb55059:2"> will do a simple comparison between the old and new values of </span><span data-offset-key="2f98f3c16de64c8a88854b3aaeb55059:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">this.props.words</span></span><span data-offset-key="2f98f3c16de64c8a88854b3aaeb55059:4">. Since this code mutates the </span><span data-offset-key="2f98f3c16de64c8a88854b3aaeb55059:5"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">words</span></span><span data-offset-key="2f98f3c16de64c8a88854b3aaeb55059:6"> array in the </span><span data-offset-key="2f98f3c16de64c8a88854b3aaeb55059:7"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">handleClick</span></span><span data-offset-key="2f98f3c16de64c8a88854b3aaeb55059:8"> method of </span><span data-offset-key="2f98f3c16de64c8a88854b3aaeb55059:9"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">WordAdder</span></span><span data-offset-key="2f98f3c16de64c8a88854b3aaeb55059:10">, the old and new values of </span><span data-offset-key="2f98f3c16de64c8a88854b3aaeb55059:11"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">this.props.words</span></span><span data-offset-key="2f98f3c16de64c8a88854b3aaeb55059:12"> will compare as equal, even though the actual words in the array have changed. The </span><span data-offset-key="2f98f3c16de64c8a88854b3aaeb55059:13"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">ListOfWords</span></span><span data-offset-key="2f98f3c16de64c8a88854b3aaeb55059:14"> will thus not update even though it has new words that should be rendered.</span></span>

<span data-key="c8699da326d742dea4bcb40b7a21de7c"><span data-offset-key="c8699da326d742dea4bcb40b7a21de7c:0">The Power Of Not Mutating Data</span></span>

<span data-key="bd72898d59f644418c3c594b748fd782"><span data-offset-key="bd72898d59f644418c3c594b748fd782:0">The simplest way to avoid this problem is to avoid mutating values that you are using as props or state. For example, the </span><span data-offset-key="bd72898d59f644418c3c594b748fd782:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">handleClick</span></span><span data-offset-key="bd72898d59f644418c3c594b748fd782:2"> method above could be rewritten using </span><span data-offset-key="bd72898d59f644418c3c594b748fd782:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">concat</span></span><span data-offset-key="bd72898d59f644418c3c594b748fd782:4"> as:</span></span>

1

<span data-key="d23b4f326c82423d89e9e3acd2679a1c"><span data-offset-key="d23b4f326c82423d89e9e3acd2679a1c:0">handleClick() {</span></span>

2

<span data-key="9a9f54b762304909bde5193e9eb9912f"><span data-offset-key="9a9f54b762304909bde5193e9eb9912f:0"> this.setState(state =&gt; ({</span></span>

3

<span data-key="51496cf1c8374126a911ef1e9c2be564"><span data-offset-key="51496cf1c8374126a911ef1e9c2be564:0"> words: state.words.concat(\['marklar'\])</span></span>

4

<span data-key="a72fad2bf172437491c7d8a08457137a"><span data-offset-key="a72fad2bf172437491c7d8a08457137a:0"> }));</span></span>

5

<span data-key="295f377ce4de4a909818d6f11c340500"><span data-offset-key="295f377ce4de4a909818d6f11c340500:0">}</span></span>

Copied!

<span data-key="847b14ff910c49bd82bc035fd11c8600"><span data-offset-key="847b14ff910c49bd82bc035fd11c8600:0">ES6 supports a </span></span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_operator" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="389dfbab722647a9b87f967ac90d06e1"><span data-offset-key="389dfbab722647a9b87f967ac90d06e1:0">spread syntax</span></span></span></a><span data-key="0b22def416634068bcf27d5e5c57b566"><span data-offset-key="0b22def416634068bcf27d5e5c57b566:0"> for arrays which can make this easier. If you’re using Create React App, this syntax is available by default.</span></span>

1

<span data-key="1bb00cc4f41b4ab4a5e3503c4da2ed2a"><span data-offset-key="1bb00cc4f41b4ab4a5e3503c4da2ed2a:0">handleClick() {</span></span>

2

<span data-key="7ce0ead7cacf42b69ce8cc07abae1d0a"><span data-offset-key="7ce0ead7cacf42b69ce8cc07abae1d0a:0"> this.setState(state =&gt; ({</span></span>

3

<span data-key="9b10df4dd690405d9e41d6ed285f3715"><span data-offset-key="9b10df4dd690405d9e41d6ed285f3715:0"> words: \[...state.words, 'marklar'\],</span></span>

4

<span data-key="c1c4d979a3614d798f57421aca5cd9c8"><span data-offset-key="c1c4d979a3614d798f57421aca5cd9c8:0"> }));</span></span>

5

<span data-key="80f55e82e05147a2bb4250d7ece9c728"><span data-offset-key="80f55e82e05147a2bb4250d7ece9c728:0">};</span></span>

Copied!

<span data-key="e51a0da9f85846b3a5978385e7f78580"><span data-offset-key="e51a0da9f85846b3a5978385e7f78580:0">You can also rewrite code that mutates objects to avoid mutation, in a similar way. For example, let’s say we have an object named </span><span data-offset-key="e51a0da9f85846b3a5978385e7f78580:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">colormap</span></span><span data-offset-key="e51a0da9f85846b3a5978385e7f78580:2"> and we want to write a function that changes </span><span data-offset-key="e51a0da9f85846b3a5978385e7f78580:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">colormap.right</span></span><span data-offset-key="e51a0da9f85846b3a5978385e7f78580:4"> to be </span><span data-offset-key="e51a0da9f85846b3a5978385e7f78580:5"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">'blue'</span></span><span data-offset-key="e51a0da9f85846b3a5978385e7f78580:6">. We could write:</span></span>

<span data-key="bf0afc061a3d4cbb8d05ac4942f6d324"><span data-offset-key="bf0afc061a3d4cbb8d05ac4942f6d324:0"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">function updateColorMap(colormap) { colormap.right = 'blue'; }</span></span></span>

<span data-key="a97c03ffed3b4695a11e828025de1e4f"><span data-offset-key="a97c03ffed3b4695a11e828025de1e4f:0">To write this without mutating the original object, we can use </span></span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="c91cf1e13c36458f84aeb6b6642dc70b"><span data-offset-key="c91cf1e13c36458f84aeb6b6642dc70b:0">Object.assign</span></span></span></a><span data-key="af2c55d838e24610af1f1be5b98958b3"><span data-offset-key="af2c55d838e24610af1f1be5b98958b3:0"> method:</span></span>

1

<span data-key="4448b56a7caa440eb82bf6d7f77d982a"><span data-offset-key="4448b56a7caa440eb82bf6d7f77d982a:0">function updateColorMap(colormap) {</span></span>

2

<span data-key="e5b43f6fbdba4b2fa963d2c026fd1b61"><span data-offset-key="e5b43f6fbdba4b2fa963d2c026fd1b61:0"> return Object.assign({}, colormap, {right: 'blue'});</span></span>

3

<span data-key="f07f68100cee405a912a2833481fa4df"><span data-offset-key="f07f68100cee405a912a2833481fa4df:0">}</span></span>

Copied!

<span data-key="65917dc4284b4261a177a673673bc759"><span data-offset-key="65917dc4284b4261a177a673673bc759:0"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">updateColorMap</span></span><span data-offset-key="65917dc4284b4261a177a673673bc759:1"> now returns a new object, rather than mutating the old one. </span><span data-offset-key="65917dc4284b4261a177a673673bc759:2"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">Object.assign</span></span><span data-offset-key="65917dc4284b4261a177a673673bc759:3"> is in ES6 and requires a polyfill.</span></span>

<span data-key="ece1a06fc77742ecbbc724b8c501926f"><span data-offset-key="ece1a06fc77742ecbbc724b8c501926f:0"><span data-slate-zero-width="z">​</span></span></span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="0bbd9a24e8b94d7cba0c11df2d6aa7f6"><span data-offset-key="0bbd9a24e8b94d7cba0c11df2d6aa7f6:0">Object spread syntax</span></span></span></a><span data-key="914c3c27bdcb4fd6baa895bbec199989"><span data-offset-key="914c3c27bdcb4fd6baa895bbec199989:0"> makes it easier to update objects without mutation as well:</span></span>

1

<span data-key="8ac5fc2f202b410da342e1cbeff241ef"><span data-offset-key="8ac5fc2f202b410da342e1cbeff241ef:0">function updateColorMap(colormap) {</span></span>

2

<span data-key="50777f17a7664f0a8b4c6d7bcbef6bc3"><span data-offset-key="50777f17a7664f0a8b4c6d7bcbef6bc3:0"> return {...colormap, right: 'blue'};</span></span>

3

<span data-key="a350e0c486324acbb0e0267157539504"><span data-offset-key="a350e0c486324acbb0e0267157539504:0">}</span></span>

Copied!

<span data-key="3e2084c5f1d0430d98ab237db098ba26"><span data-offset-key="3e2084c5f1d0430d98ab237db098ba26:0">This feature was added to JavaScript in ES2018.</span></span>

<span data-key="bbff637c2b5e43d290476b952450250d"><span data-offset-key="bbff637c2b5e43d290476b952450250d:0">If you’re using Create React App, both </span><span data-offset-key="bbff637c2b5e43d290476b952450250d:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">Object.assign</span></span><span data-offset-key="bbff637c2b5e43d290476b952450250d:2"> and the object spread syntax are available by default.</span></span>

<span data-key="e0fbdc5cc36746a999294224fc33bc6b"><span data-offset-key="e0fbdc5cc36746a999294224fc33bc6b:0">When you deal with deeply nested objects, updating them in an immutable way can feel convoluted. If you run into this problem, check out </span></span><a href="https://github.com/mweststrate/immer" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="d3f7eeb5724541f38de238f5ccc436e7"><span data-offset-key="d3f7eeb5724541f38de238f5ccc436e7:0">Immer</span></span></span></a><span data-key="2fb659c37897446b9d5eff701e75cf66"><span data-offset-key="2fb659c37897446b9d5eff701e75cf66:0"> or </span></span><a href="https://github.com/kolodny/immutability-helper" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="6adb9703b5b74a1fad3e0bb5686a89ce"><span data-offset-key="6adb9703b5b74a1fad3e0bb5686a89ce:0">immutability-helper</span></span></span></a><span data-key="ca880ee75a6e4f719cb587390aea19a6"><span data-offset-key="ca880ee75a6e4f719cb587390aea19a6:0">. These libraries let you write highly readable code without losing the benefits of immutability.</span></span>

<span data-key="b8213c584e074b6695565263681fb790"><span data-offset-key="b8213c584e074b6695565263681fb790:0">Is this page useful?</span></span><a href="https://github.com/reactjs/reactjs.org/tree/main/content/docs/optimizing-performance.md" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="1e0434df03c74f5494da8ab1aa87e1fa"><span data-offset-key="1e0434df03c74f5494da8ab1aa87e1fa:0">Edit this page</span></span></span></a><span data-key="4377252a07f340a9ada13416d29ac8f7"><span data-offset-key="4377252a07f340a9ada13416d29ac8f7:0"><span data-slate-zero-width="z">​</span></span></span>

<span data-key="beaa3a7adc1a4556b4f50d5ad68563f7"><span data-offset-key="beaa3a7adc1a4556b4f50d5ad68563f7:0"><span class="css-901oao css-16my406 r-b88u0q">Render Props</span></span></span>

<span data-key="cd90783df0cd4d43864b1a0c2752d34d"><span data-offset-key="cd90783df0cd4d43864b1a0c2752d34d:0">The term </span></span><a href="https://cdb.reacttraining.com/use-a-render-prop-50de598f11ce" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="bdb71aeaae554deeb4c1b225d1224306"><span data-offset-key="bdb71aeaae554deeb4c1b225d1224306:0">“render prop”</span></span></span></a><span data-key="b8d82585b75f434892b34148b50d3bb2"><span data-offset-key="b8d82585b75f434892b34148b50d3bb2:0"> refers to a technique for sharing code between React components using a prop whose value is a function.</span></span>

<span data-key="162d756aa2b943018bc4e64afa1a4bfb"><span data-offset-key="162d756aa2b943018bc4e64afa1a4bfb:0">A component with a render prop takes a function that returns a React element and calls it instead of implementing its own render logic.</span></span>

1

<span data-key="22da3764fa344d3690b5f4a8b5f65f54"><span data-offset-key="22da3764fa344d3690b5f4a8b5f65f54:0">&lt;DataProvider render={data =&gt; (</span></span>

2

<span data-key="f0ce77f0a7d64d9d8619f9c290f2340d"><span data-offset-key="f0ce77f0a7d64d9d8619f9c290f2340d:0"> &lt;h1&gt;Hello {data.target}&lt;/h1&gt;)}/&gt;</span></span>

Copied!

<span data-key="1b5563fd239844d6949a42a9d1652a22"><span data-offset-key="1b5563fd239844d6949a42a9d1652a22:0">Libraries that use render props include </span></span><a href="https://reacttraining.com/react-router/web/api/Route/render-func" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="1bd00dd0abdd4e4b89054cf232536d75"><span data-offset-key="1bd00dd0abdd4e4b89054cf232536d75:0">React Router</span></span></span></a><span data-key="938ba216a05d49568057d9a78049ed1a"><span data-offset-key="938ba216a05d49568057d9a78049ed1a:0">, </span></span><a href="https://github.com/paypal/downshift" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="8524282d7ee1463682edf7dabd437ca0"><span data-offset-key="8524282d7ee1463682edf7dabd437ca0:0">Downshift</span></span></span></a><span data-key="ab315dbe176f4aed949dec5a25244594"><span data-offset-key="ab315dbe176f4aed949dec5a25244594:0"> and </span></span><a href="https://github.com/jaredpalmer/formik" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="d6f6543aba61465bb6f2665118194e6d"><span data-offset-key="d6f6543aba61465bb6f2665118194e6d:0">Formik</span></span></span></a><span data-key="9b37b3d26371408abae2830c6a0ede72"><span data-offset-key="9b37b3d26371408abae2830c6a0ede72:0">.</span></span>

<span data-key="df649a9dbd274cc58797dec272ee7d92"><span data-offset-key="df649a9dbd274cc58797dec272ee7d92:0">In this document, we’ll discuss why render props are useful, and how to write your own.</span></span>

<span data-key="6b0bb7fd9bbe473a8a0bc406a12073d8"><span data-offset-key="6b0bb7fd9bbe473a8a0bc406a12073d8:0">Use Render Props for Cross-Cutting Concerns</span></span>

<span data-key="cfc7f80c0f9a4a4395e91200bbcce34f"><span data-offset-key="cfc7f80c0f9a4a4395e91200bbcce34f:0">Components are the primary unit of code reuse in React, but it’s not always obvious how to share the state or behavior that one component encapsulates to other components that need that same state.</span></span>

<span data-key="beaaf53a85894d88aa36ff219e257161"><span data-offset-key="beaaf53a85894d88aa36ff219e257161:0">For example, the following component tracks the mouse position in a web app:</span></span>

1

<span data-key="403276ac356d4d2e9ee7ef33e7c90f41"><span data-offset-key="403276ac356d4d2e9ee7ef33e7c90f41:0">class MouseTracker extends React.Component {</span></span>

2

<span data-key="7569e99f842f481ab2706779e38f72e1"><span data-offset-key="7569e99f842f481ab2706779e38f72e1:0"> constructor(props) {</span></span>

3

<span data-key="dc28be1d62824f0c8fc002fc2c7dff7d"><span data-offset-key="dc28be1d62824f0c8fc002fc2c7dff7d:0"> super(props);</span></span>

4

<span data-key="96cdef0b58f54071a66f0e03f0501f52"><span data-offset-key="96cdef0b58f54071a66f0e03f0501f52:0"> this.handleMouseMove = this.handleMouseMove.bind(this);</span></span>

5

<span data-key="08befffc9ea247e3a7325eaa258581c2"><span data-offset-key="08befffc9ea247e3a7325eaa258581c2:0"> this.state = { x: 0, y: 0 };</span></span>

6

<span data-key="6a85a1f4231c4004b0cbf3bfbd971164"><span data-offset-key="6a85a1f4231c4004b0cbf3bfbd971164:0"> }</span></span>

7

<span data-key="02fb7015582342cea089158d8c4aad4c"><span data-offset-key="02fb7015582342cea089158d8c4aad4c:0"><span data-slate-zero-width="n">​</span></span></span>

8

<span data-key="487892858cb2418992853bd8954b8e0f"><span data-offset-key="487892858cb2418992853bd8954b8e0f:0"> handleMouseMove(event) {</span></span>

9

<span data-key="b47099a5292749128e16c2aa64f1fccd"><span data-offset-key="b47099a5292749128e16c2aa64f1fccd:0"> this.setState({</span></span>

10

<span data-key="9d13a2099d384e19a6c166dcc9165085"><span data-offset-key="9d13a2099d384e19a6c166dcc9165085:0"> x: event.clientX,</span></span>

11

<span data-key="f8a39425a355461fb30c0e62103c45e1"><span data-offset-key="f8a39425a355461fb30c0e62103c45e1:0"> y: event.clientY</span></span>

12

<span data-key="791029bbcd044097b1385516a3eb84f6"><span data-offset-key="791029bbcd044097b1385516a3eb84f6:0"> });</span></span>

13

<span data-key="b113cc8d15cc4743b8db78c062830c01"><span data-offset-key="b113cc8d15cc4743b8db78c062830c01:0"> }</span></span>

14

<span data-key="b039d4cc6e734bc2b1249602d168053a"><span data-offset-key="b039d4cc6e734bc2b1249602d168053a:0"><span data-slate-zero-width="n">​</span></span></span>

15

<span data-key="a78ed839b17a495db1cc736b9b2275df"><span data-offset-key="a78ed839b17a495db1cc736b9b2275df:0"> render() {</span></span>

16

<span data-key="60cdb85027f04f2e8ed4acedb8c4383c"><span data-offset-key="60cdb85027f04f2e8ed4acedb8c4383c:0"> return (</span></span>

17

<span data-key="f169424a532b45279859212161fc7e0f"><span data-offset-key="f169424a532b45279859212161fc7e0f:0"> &lt;div style={{ height: '100vh' }} onMouseMove={this.handleMouseMove}&gt;</span></span>

18

<span data-key="6a52b75688c94bc88fbfdcc7ca0a900b"><span data-offset-key="6a52b75688c94bc88fbfdcc7ca0a900b:0"> &lt;h1&gt;Move the mouse around!&lt;/h1&gt;</span></span>

19

<span data-key="350a0ca52176415888e66671f69ba796"><span data-offset-key="350a0ca52176415888e66671f69ba796:0"> &lt;p&gt;The current mouse position is ({this.state.x}, {this.state.y})&lt;/p&gt;</span></span>

20

<span data-key="bec1fb7f7269439a87cb4c1341c625df"><span data-offset-key="bec1fb7f7269439a87cb4c1341c625df:0"> &lt;/div&gt;);</span></span>

21

<span data-key="6f210c8c1366454b890bddf4c28673fd"><span data-offset-key="6f210c8c1366454b890bddf4c28673fd:0"> }</span></span>

22

<span data-key="ddf7fa74383e49cdb182af2e553208b1"><span data-offset-key="ddf7fa74383e49cdb182af2e553208b1:0">}</span></span>

Copied!

<span data-key="1596f1aecad54aa185ba1d8e89a37eab"><span data-offset-key="1596f1aecad54aa185ba1d8e89a37eab:0">As the cursor moves around the screen, the component displays its (x, y) coordinates in a </span><span data-offset-key="1596f1aecad54aa185ba1d8e89a37eab:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">&lt;p&gt;</span></span><span data-offset-key="1596f1aecad54aa185ba1d8e89a37eab:2">.</span></span>

<span data-key="9d888d41ae55461aa77b286b3281cffb"><span data-offset-key="9d888d41ae55461aa77b286b3281cffb:0">Now the question is: How can we reuse this behavior in another component? In other words, if another component needs to know about the cursor position, can we encapsulate that behavior so that we can easily share it with that component?</span></span>

<span data-key="2414cb77849046b39710327cdc8b2d96"><span data-offset-key="2414cb77849046b39710327cdc8b2d96:0">Since components are the basic unit of code reuse in React, let’s try refactoring the code a bit to use a </span><span data-offset-key="2414cb77849046b39710327cdc8b2d96:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">&lt;Mouse&gt;</span></span><span data-offset-key="2414cb77849046b39710327cdc8b2d96:2"> component that encapsulates the behavior we need to reuse elsewhere.</span></span>

1

<span data-key="15c5a57f67034c4688b3063db04487c3"><span data-offset-key="15c5a57f67034c4688b3063db04487c3:0">// The &lt;Mouse&gt; component encapsulates the behavior we need...</span></span>

2

<span data-key="e45889306cce41ea9ae67082b9afda80"><span data-offset-key="e45889306cce41ea9ae67082b9afda80:0">class Mouse extends React.Component {</span></span>

3

<span data-key="15ed4122d256484aa253bd57bbe7474c"><span data-offset-key="15ed4122d256484aa253bd57bbe7474c:0"> constructor(props) {</span></span>

4

<span data-key="73e90c23029146bbacb42db3cd2e716f"><span data-offset-key="73e90c23029146bbacb42db3cd2e716f:0"> super(props);</span></span>

5

<span data-key="334e6b2232b64f51bee421220020ffbf"><span data-offset-key="334e6b2232b64f51bee421220020ffbf:0"> this.handleMouseMove = this.handleMouseMove.bind(this);</span></span>

6

<span data-key="f0c2809cd6af47199e4cfe4f5e39a9e5"><span data-offset-key="f0c2809cd6af47199e4cfe4f5e39a9e5:0"> this.state = { x: 0, y: 0 };</span></span>

7

<span data-key="a71f928ac4f947fb91b4fe516730104b"><span data-offset-key="a71f928ac4f947fb91b4fe516730104b:0"> }</span></span>

8

<span data-key="6620f845d382404a973eba5fa5adb304"><span data-offset-key="6620f845d382404a973eba5fa5adb304:0"><span data-slate-zero-width="n">​</span></span></span>

9

<span data-key="e09893042d504715b8a87cfbb5816eed"><span data-offset-key="e09893042d504715b8a87cfbb5816eed:0"> handleMouseMove(event) {</span></span>

10

<span data-key="16474e2064b04b218b5f22c5ccb075b2"><span data-offset-key="16474e2064b04b218b5f22c5ccb075b2:0"> this.setState({</span></span>

11

<span data-key="59d83efb7cb740968e0e1b289ad77008"><span data-offset-key="59d83efb7cb740968e0e1b289ad77008:0"> x: event.clientX,</span></span>

12

<span data-key="3352c548eba247b780f4e6139ab082e3"><span data-offset-key="3352c548eba247b780f4e6139ab082e3:0"> y: event.clientY</span></span>

13

<span data-key="9efb9655086a4dee92af2c42fb77a780"><span data-offset-key="9efb9655086a4dee92af2c42fb77a780:0"> });</span></span>

14

<span data-key="300397dd58154a00a2c15668308169db"><span data-offset-key="300397dd58154a00a2c15668308169db:0"> }</span></span>

15

<span data-key="8b91d288241f479a932812da0ce5adfa"><span data-offset-key="8b91d288241f479a932812da0ce5adfa:0"><span data-slate-zero-width="n">​</span></span></span>

16

<span data-key="0bceb8eadb0b450eb71653eb76567325"><span data-offset-key="0bceb8eadb0b450eb71653eb76567325:0"> render() {</span></span>

17

<span data-key="dc04060db0f44053994471e33d4666dd"><span data-offset-key="dc04060db0f44053994471e33d4666dd:0"> return (</span></span>

18

<span data-key="5550f3fe355045188f79af12debe2c75"><span data-offset-key="5550f3fe355045188f79af12debe2c75:0"> &lt;div style={{ height: '100vh' }} onMouseMove={this.handleMouseMove}&gt;</span></span>

19

<span data-key="a8b3e152fcc54e3b9143e2277fd0b226"><span data-offset-key="a8b3e152fcc54e3b9143e2277fd0b226:0"><span data-slate-zero-width="n">​</span></span></span>

20

<span data-key="db10f65c9e5a49958b7774e48b536f91"><span data-offset-key="db10f65c9e5a49958b7774e48b536f91:0"> {/\* ...but how do we render something other than a &lt;p&gt;? \*/}</span></span>

21

<span data-key="28387c86c1c347438d415ee7ff0a8a71"><span data-offset-key="28387c86c1c347438d415ee7ff0a8a71:0"> &lt;p&gt;The current mouse position is ({this.state.x}, {this.state.y})&lt;/p&gt;</span></span>

22

<span data-key="17236489827e41fb9d3ee0073589d4af"><span data-offset-key="17236489827e41fb9d3ee0073589d4af:0"> &lt;/div&gt;);</span></span>

23

<span data-key="7132c38f4c3c4a79a692bc0523cf3067"><span data-offset-key="7132c38f4c3c4a79a692bc0523cf3067:0"> }</span></span>

24

<span data-key="2f915cbe67ff4029a964b6ab16efe524"><span data-offset-key="2f915cbe67ff4029a964b6ab16efe524:0">}</span></span>

25

<span data-key="fed7ba798bb94370891c6eaf367ce282"><span data-offset-key="fed7ba798bb94370891c6eaf367ce282:0"><span data-slate-zero-width="n">​</span></span></span>

26

<span data-key="abdacd9c117d41e4bcc07256b8ee0445"><span data-offset-key="abdacd9c117d41e4bcc07256b8ee0445:0">class MouseTracker extends React.Component {</span></span>

27

<span data-key="7ee41fc25cf54a7e87fcffae6c08b5d2"><span data-offset-key="7ee41fc25cf54a7e87fcffae6c08b5d2:0"> render() {</span></span>

28

<span data-key="1463d674d8a544708b43404633414946"><span data-offset-key="1463d674d8a544708b43404633414946:0"> return (</span></span>

29

<span data-key="7d2d31493ab44c2eaff686d006b18886"><span data-offset-key="7d2d31493ab44c2eaff686d006b18886:0"> &lt;&gt;</span></span>

30

<span data-key="3091fa24939e496c83039a15eedd12e5"><span data-offset-key="3091fa24939e496c83039a15eedd12e5:0"> &lt;h1&gt;Move the mouse around!&lt;/h1&gt;</span></span>

31

<span data-key="0ed4cc41b57747dd91c51e41eb3ae301"><span data-offset-key="0ed4cc41b57747dd91c51e41eb3ae301:0"> &lt;Mouse /&gt;</span></span>

32

<span data-key="c6868e852035415392d449a9fe5f401e"><span data-offset-key="c6868e852035415392d449a9fe5f401e:0"> &lt;/&gt;);</span></span>

33

<span data-key="be36be4a349e473ba647b18b8f18acda"><span data-offset-key="be36be4a349e473ba647b18b8f18acda:0"> }</span></span>

34

<span data-key="c6c44b012d4b4a958272e686119c3461"><span data-offset-key="c6c44b012d4b4a958272e686119c3461:0">}</span></span>

Copied!

<span data-key="8b9135d52e6c45c38de462d84fde4220"><span data-offset-key="8b9135d52e6c45c38de462d84fde4220:0">Now the </span><span data-offset-key="8b9135d52e6c45c38de462d84fde4220:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">&lt;Mouse&gt;</span></span><span data-offset-key="8b9135d52e6c45c38de462d84fde4220:2"> component encapsulates all behavior associated with listening for </span><span data-offset-key="8b9135d52e6c45c38de462d84fde4220:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">mousemove</span></span><span data-offset-key="8b9135d52e6c45c38de462d84fde4220:4"> events and storing the (x, y) position of the cursor, but it’s not yet truly reusable.</span></span>

<span data-key="5a37198f5eb54ef5be6d7de89219d307"><span data-offset-key="5a37198f5eb54ef5be6d7de89219d307:0">For example, let’s say we have a </span><span data-offset-key="5a37198f5eb54ef5be6d7de89219d307:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">&lt;Cat&gt;</span></span><span data-offset-key="5a37198f5eb54ef5be6d7de89219d307:2"> component that renders the image of a cat chasing the mouse around the screen. We might use a </span><span data-offset-key="5a37198f5eb54ef5be6d7de89219d307:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">&lt;Cat mouse={{ x, y }}&gt;</span></span><span data-offset-key="5a37198f5eb54ef5be6d7de89219d307:4"> prop to tell the component the coordinates of the mouse so it knows where to position the image on the screen.</span></span>

<span data-key="a43610c839394797a10dc372076ba281"><span data-offset-key="a43610c839394797a10dc372076ba281:0">As a first pass, you might try rendering the </span><span data-offset-key="a43610c839394797a10dc372076ba281:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">&lt;Cat&gt;</span></span><span data-offset-key="a43610c839394797a10dc372076ba281:2"> </span><span data-offset-key="a43610c839394797a10dc372076ba281:3"><span class="css-901oao css-16my406 r-36ujnk">inside </span></span><span data-offset-key="a43610c839394797a10dc372076ba281:4"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t"><span class="css-901oao css-16my406 r-36ujnk">&lt;Mouse&gt;</span></span></span><span data-offset-key="a43610c839394797a10dc372076ba281:5"><span class="css-901oao css-16my406 r-36ujnk">’s </span></span><span data-offset-key="a43610c839394797a10dc372076ba281:6"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t"><span class="css-901oao css-16my406 r-36ujnk">render</span></span></span><span data-offset-key="a43610c839394797a10dc372076ba281:7"><span class="css-901oao css-16my406 r-36ujnk"> method</span></span><span data-offset-key="a43610c839394797a10dc372076ba281:8">, like this:</span></span>

1

<span data-key="9e35f680c51b407ea693f5415c274f0d"><span data-offset-key="9e35f680c51b407ea693f5415c274f0d:0">class Cat extends React.Component {</span></span>

2

<span data-key="200d1e76e2df4d43809286c5d3bd5e88"><span data-offset-key="200d1e76e2df4d43809286c5d3bd5e88:0"> render() {</span></span>

3

<span data-key="3c69886abaa344a7b6b128ff8f257238"><span data-offset-key="3c69886abaa344a7b6b128ff8f257238:0"> const mouse = this.props.mouse;</span></span>

4

<span data-key="91bf357ae9a64cb9b8d9585ab41495a2"><span data-offset-key="91bf357ae9a64cb9b8d9585ab41495a2:0"> return (</span></span>

5

<span data-key="7f4ccbf58fb24bb08fc06f0f7ba896c9"><span data-offset-key="7f4ccbf58fb24bb08fc06f0f7ba896c9:0"> &lt;img src="/cat.jpg" style={{ position: 'absolute', left: mouse.x, top: mouse.y }} /&gt;);</span></span>

6

<span data-key="4c6a2948030f455ca0f3706536012639"><span data-offset-key="4c6a2948030f455ca0f3706536012639:0"> }</span></span>

7

<span data-key="65c0b846b1a446bc99cce640a6118857"><span data-offset-key="65c0b846b1a446bc99cce640a6118857:0">}</span></span>

8

<span data-key="ea0b0c1110ae4e3c82b1d7eeada708f0"><span data-offset-key="ea0b0c1110ae4e3c82b1d7eeada708f0:0"><span data-slate-zero-width="n">​</span></span></span>

9

<span data-key="c893712e6a504262ae3484aea380f670"><span data-offset-key="c893712e6a504262ae3484aea380f670:0">class MouseWithCat extends React.Component {</span></span>

10

<span data-key="4c5e99afa4874fb98395c6e02a6e7113"><span data-offset-key="4c5e99afa4874fb98395c6e02a6e7113:0"> constructor(props) {</span></span>

11

<span data-key="383cba539e4249a3a328324914c39f54"><span data-offset-key="383cba539e4249a3a328324914c39f54:0"> super(props);</span></span>

12

<span data-key="4f02c6f131374e9a8290974ba36ed5e0"><span data-offset-key="4f02c6f131374e9a8290974ba36ed5e0:0"> this.handleMouseMove = this.handleMouseMove.bind(this);</span></span>

13

<span data-key="de2d2886a60f4954ae7d1b8b3c931931"><span data-offset-key="de2d2886a60f4954ae7d1b8b3c931931:0"> this.state = { x: 0, y: 0 };</span></span>

14

<span data-key="65293da0653e4fa38b22face9c3d3cd7"><span data-offset-key="65293da0653e4fa38b22face9c3d3cd7:0"> }</span></span>

15

<span data-key="0971ad9e395747a0aa8994e950fde38c"><span data-offset-key="0971ad9e395747a0aa8994e950fde38c:0"><span data-slate-zero-width="n">​</span></span></span>

16

<span data-key="efef7f5562de4e05a0a6eeeffafbeb58"><span data-offset-key="efef7f5562de4e05a0a6eeeffafbeb58:0"> handleMouseMove(event) {</span></span>

17

<span data-key="a462188ac6a24133afc239344e0fd9b5"><span data-offset-key="a462188ac6a24133afc239344e0fd9b5:0"> this.setState({</span></span>

18

<span data-key="7c776f8d68c8406b8d8713a67d9954c6"><span data-offset-key="7c776f8d68c8406b8d8713a67d9954c6:0"> x: event.clientX,</span></span>

19

<span data-key="546e0762b86c4f94a0c9f5a47369164e"><span data-offset-key="546e0762b86c4f94a0c9f5a47369164e:0"> y: event.clientY</span></span>

20

<span data-key="aed069cd9367401bbe6dbc85cb858113"><span data-offset-key="aed069cd9367401bbe6dbc85cb858113:0"> });</span></span>

21

<span data-key="c4ce6e56c92744e684bac484cf873cf4"><span data-offset-key="c4ce6e56c92744e684bac484cf873cf4:0"> }</span></span>

22

<span data-key="8771c5483b9b4e20a826726b1730e75d"><span data-offset-key="8771c5483b9b4e20a826726b1730e75d:0"><span data-slate-zero-width="n">​</span></span></span>

23

<span data-key="b42ec9d69f394cc5a4c31a8b75c68656"><span data-offset-key="b42ec9d69f394cc5a4c31a8b75c68656:0"> render() {</span></span>

24

<span data-key="1129fefb7fb44a73ac2779b9315c3e1e"><span data-offset-key="1129fefb7fb44a73ac2779b9315c3e1e:0"> return (</span></span>

25

<span data-key="ae379ade2ad04d489a7b36a5b0db6d11"><span data-offset-key="ae379ade2ad04d489a7b36a5b0db6d11:0"> &lt;div style={{ height: '100vh' }} onMouseMove={this.handleMouseMove}&gt;</span></span>

26

<span data-key="74f5baa55893471db1cc393264ee55ea"><span data-offset-key="74f5baa55893471db1cc393264ee55ea:0"><span data-slate-zero-width="n">​</span></span></span>

27

<span data-key="47abd42685f145bcb1476b6a841ab754"><span data-offset-key="47abd42685f145bcb1476b6a841ab754:0"> {/\*</span></span>

28

<span data-key="816819f8450c425db44c15aa6f2df896"><span data-offset-key="816819f8450c425db44c15aa6f2df896:0"> We could just swap out the &lt;p&gt; for a &lt;Cat&gt; here ... but then</span></span>

29

<span data-key="fd6ccb0d0f094456832090f5debed01a"><span data-offset-key="fd6ccb0d0f094456832090f5debed01a:0"> we would need to create a separate &lt;MouseWithSomethingElse&gt;</span></span>

30

<span data-key="f32d6e7e1a7940298af49eccd0819650"><span data-offset-key="f32d6e7e1a7940298af49eccd0819650:0"> component every time we need to use it, so &lt;MouseWithCat&gt;</span></span>

31

<span data-key="8e8649ae402e4fb4a0e27bee528b9c62"><span data-offset-key="8e8649ae402e4fb4a0e27bee528b9c62:0"> isn't really reusable yet.</span></span>

32

<span data-key="d697816e8549469dab4faeb5fc11979c"><span data-offset-key="d697816e8549469dab4faeb5fc11979c:0"> \*/}</span></span>

33

<span data-key="2f45ee5fd1f04c00a7d9b9014e72f242"><span data-offset-key="2f45ee5fd1f04c00a7d9b9014e72f242:0"> &lt;Cat mouse={this.state} /&gt;</span></span>

34

<span data-key="e37e64cd8f7645f6a8016d380e5c2e4c"><span data-offset-key="e37e64cd8f7645f6a8016d380e5c2e4c:0"> &lt;/div&gt;);</span></span>

35

<span data-key="05f10c47d3bb4202b3787e9d27cf07da"><span data-offset-key="05f10c47d3bb4202b3787e9d27cf07da:0"> }</span></span>

36

<span data-key="d9ad5e53c46946709b104e114cacf9ec"><span data-offset-key="d9ad5e53c46946709b104e114cacf9ec:0">}</span></span>

37

<span data-key="26e5fb97d9e94094999d0e65ac364433"><span data-offset-key="26e5fb97d9e94094999d0e65ac364433:0"><span data-slate-zero-width="n">​</span></span></span>

38

<span data-key="120ead8c602443be92801ad2d25655fa"><span data-offset-key="120ead8c602443be92801ad2d25655fa:0">class MouseTracker extends React.Component {</span></span>

39

<span data-key="852affb4137b4212a38209fa8f44817a"><span data-offset-key="852affb4137b4212a38209fa8f44817a:0"> render() {</span></span>

40

<span data-key="bdb2fff3372840d999d5b99cabc20c0a"><span data-offset-key="bdb2fff3372840d999d5b99cabc20c0a:0"> return (</span></span>

41

<span data-key="d86649eefc834b41ad86421a15df122a"><span data-offset-key="d86649eefc834b41ad86421a15df122a:0"> &lt;div&gt;</span></span>

42

<span data-key="5ec7c984186d451ebdf67927e7691826"><span data-offset-key="5ec7c984186d451ebdf67927e7691826:0"> &lt;h1&gt;Move the mouse around!&lt;/h1&gt;</span></span>

43

<span data-key="6f398d76bf814d54bd254641b7547e53"><span data-offset-key="6f398d76bf814d54bd254641b7547e53:0"> &lt;MouseWithCat /&gt;</span></span>

44

<span data-key="3b8a070cfce34dcdb21c868e23d86b53"><span data-offset-key="3b8a070cfce34dcdb21c868e23d86b53:0"> &lt;/div&gt;);</span></span>

45

<span data-key="1fd8fa2c33ae44bb8642a3ae6118fb39"><span data-offset-key="1fd8fa2c33ae44bb8642a3ae6118fb39:0"> }</span></span>

46

<span data-key="676e726b0f81465a93a412b5e1b199b1"><span data-offset-key="676e726b0f81465a93a412b5e1b199b1:0">}</span></span>

Copied!

<span data-key="bc0904dc873742e5b9399c97074388e2"><span data-offset-key="bc0904dc873742e5b9399c97074388e2:0">This approach will work for our specific use case, but we haven’t achieved the objective of truly encapsulating the behavior in a reusable way. Now, every time we want the mouse position for a different use case, we have to create a new component (i.e. essentially another </span><span data-offset-key="bc0904dc873742e5b9399c97074388e2:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">&lt;MouseWithCat&gt;</span></span><span data-offset-key="bc0904dc873742e5b9399c97074388e2:2">) that renders something specifically for that use case.</span></span>

<span data-key="ce8deb5ffe1341269465ec03ab08fa38"><span data-offset-key="ce8deb5ffe1341269465ec03ab08fa38:0">Here’s where the render prop comes in: Instead of hard-coding a </span><span data-offset-key="ce8deb5ffe1341269465ec03ab08fa38:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">&lt;Cat&gt;</span></span><span data-offset-key="ce8deb5ffe1341269465ec03ab08fa38:2"> inside a </span><span data-offset-key="ce8deb5ffe1341269465ec03ab08fa38:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">&lt;Mouse&gt;</span></span><span data-offset-key="ce8deb5ffe1341269465ec03ab08fa38:4"> component, and effectively changing its rendered output, we can provide </span><span data-offset-key="ce8deb5ffe1341269465ec03ab08fa38:5"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">&lt;Mouse&gt;</span></span><span data-offset-key="ce8deb5ffe1341269465ec03ab08fa38:6"> with a function prop that it uses to dynamically determine what to render–a render prop.</span></span>

1

<span data-key="dfa82366cf6f4d3db5021ecf87c65aee"><span data-offset-key="dfa82366cf6f4d3db5021ecf87c65aee:0">class Cat extends React.Component {</span></span>

2

<span data-key="d5d74fc25de24245ace6a97df22fe9dd"><span data-offset-key="d5d74fc25de24245ace6a97df22fe9dd:0"> render() {</span></span>

3

<span data-key="7f8abac026b342ebaf09262a5b58e6bf"><span data-offset-key="7f8abac026b342ebaf09262a5b58e6bf:0"> const mouse = this.props.mouse;</span></span>

4

<span data-key="9d2d2b2a753a4d49bd8d85ca1d290346"><span data-offset-key="9d2d2b2a753a4d49bd8d85ca1d290346:0"> return (</span></span>

5

<span data-key="cd120a95eaad4890b99ecf09b30492e6"><span data-offset-key="cd120a95eaad4890b99ecf09b30492e6:0"> &lt;img src="/cat.jpg" style={{ position: 'absolute', left: mouse.x, top: mouse.y }} /&gt;);</span></span>

6

<span data-key="b06afccdc58e4fa5bb5a58a5248ee2c8"><span data-offset-key="b06afccdc58e4fa5bb5a58a5248ee2c8:0"> }</span></span>

7

<span data-key="047db65a4994412b87449b48c2611a53"><span data-offset-key="047db65a4994412b87449b48c2611a53:0">}</span></span>

8

<span data-key="d526474a31e54c4a8a7c37fb5450434c"><span data-offset-key="d526474a31e54c4a8a7c37fb5450434c:0"><span data-slate-zero-width="n">​</span></span></span>

9

<span data-key="857bb2e24f5d4983941403136828bf84"><span data-offset-key="857bb2e24f5d4983941403136828bf84:0">class Mouse extends React.Component {</span></span>

10

<span data-key="02df393c4d664b608b849a16fb2581d2"><span data-offset-key="02df393c4d664b608b849a16fb2581d2:0"> constructor(props) {</span></span>

11

<span data-key="6d4845ac14cf48e5ae41bfaac6273547"><span data-offset-key="6d4845ac14cf48e5ae41bfaac6273547:0"> super(props);</span></span>

12

<span data-key="4c92b9e8b5c04610bb0f3c041fda9ee8"><span data-offset-key="4c92b9e8b5c04610bb0f3c041fda9ee8:0"> this.handleMouseMove = this.handleMouseMove.bind(this);</span></span>

13

<span data-key="9f080f4333b44ce6b9b9b7cfd9bf5493"><span data-offset-key="9f080f4333b44ce6b9b9b7cfd9bf5493:0"> this.state = { x: 0, y: 0 };</span></span>

14

<span data-key="b4ea4df56e0e413897ca53a44b46c975"><span data-offset-key="b4ea4df56e0e413897ca53a44b46c975:0"> }</span></span>

15

<span data-key="d963ce5f77fa413a9446f6837c1eab03"><span data-offset-key="d963ce5f77fa413a9446f6837c1eab03:0"><span data-slate-zero-width="n">​</span></span></span>

16

<span data-key="15c7d006f2614552bf37e8a63a7600e5"><span data-offset-key="15c7d006f2614552bf37e8a63a7600e5:0"> handleMouseMove(event) {</span></span>

17

<span data-key="5be302a1893b44a1a8920001e1a64bbc"><span data-offset-key="5be302a1893b44a1a8920001e1a64bbc:0"> this.setState({</span></span>

18

<span data-key="6c4e00ebd441421f88f27e71a6f9b9e9"><span data-offset-key="6c4e00ebd441421f88f27e71a6f9b9e9:0"> x: event.clientX,</span></span>

19

<span data-key="5b9cf121c1dd46fb89ad9c7b07f91407"><span data-offset-key="5b9cf121c1dd46fb89ad9c7b07f91407:0"> y: event.clientY</span></span>

20

<span data-key="fa5e447c3cbb447ea02249c6e08c4b08"><span data-offset-key="fa5e447c3cbb447ea02249c6e08c4b08:0"> });</span></span>

21

<span data-key="ff5d12ba17254b229461574237fb6eb5"><span data-offset-key="ff5d12ba17254b229461574237fb6eb5:0"> }</span></span>

22

<span data-key="4e375ee38948488b899978fef9a4490f"><span data-offset-key="4e375ee38948488b899978fef9a4490f:0"><span data-slate-zero-width="n">​</span></span></span>

23

<span data-key="34166b9802024d9a9ad0c2d73f06a285"><span data-offset-key="34166b9802024d9a9ad0c2d73f06a285:0"> render() {</span></span>

24

<span data-key="4a2b835ca40b41878c17aa2e879a8bfa"><span data-offset-key="4a2b835ca40b41878c17aa2e879a8bfa:0"> return (</span></span>

25

<span data-key="eff30e75304141d3828f009ea15dcf00"><span data-offset-key="eff30e75304141d3828f009ea15dcf00:0"> &lt;div style={{ height: '100vh' }} onMouseMove={this.handleMouseMove}&gt;</span></span>

26

<span data-key="42411a925f9044ac9aace36e07b82cad"><span data-offset-key="42411a925f9044ac9aace36e07b82cad:0"><span data-slate-zero-width="n">​</span></span></span>

27

<span data-key="2b5da17a994f4e3e90ae86d16b352a8b"><span data-offset-key="2b5da17a994f4e3e90ae86d16b352a8b:0"> {/\*</span></span>

28

<span data-key="98e59b82beb54710a35fd4e252b86576"><span data-offset-key="98e59b82beb54710a35fd4e252b86576:0"> Instead of providing a static representation of what &lt;Mouse&gt; renders,</span></span>

29

<span data-key="86fa993708f04d1692010dc5099c182f"><span data-offset-key="86fa993708f04d1692010dc5099c182f:0"> use the \`render\` prop to dynamically determine what to render.</span></span>

30

<span data-key="93ff00aed5a642a898ff7750ff7ed6c5"><span data-offset-key="93ff00aed5a642a898ff7750ff7ed6c5:0"> \*/}</span></span>

31

<span data-key="805b8cfd2c404153aef0f06b5ed277e7"><span data-offset-key="805b8cfd2c404153aef0f06b5ed277e7:0"> {this.props.render(this.state)}</span></span>

32

<span data-key="d2b599268bb54cfba1dea73b983703a7"><span data-offset-key="d2b599268bb54cfba1dea73b983703a7:0"> &lt;/div&gt;);</span></span>

33

<span data-key="eeac80f427b8453c940dd877ae30a8d3"><span data-offset-key="eeac80f427b8453c940dd877ae30a8d3:0"> }</span></span>

34

<span data-key="f98b2eb515a74b3f9e7002c3d1ce9c8d"><span data-offset-key="f98b2eb515a74b3f9e7002c3d1ce9c8d:0">}</span></span>

35

<span data-key="d8f3a5263fcf4ef99a909e56893f0eee"><span data-offset-key="d8f3a5263fcf4ef99a909e56893f0eee:0"><span data-slate-zero-width="n">​</span></span></span>

36

<span data-key="32682e765630439a9523fd337bf735d6"><span data-offset-key="32682e765630439a9523fd337bf735d6:0">class MouseTracker extends React.Component {</span></span>

37

<span data-key="16ef3a33aecd4779b935c3a662546132"><span data-offset-key="16ef3a33aecd4779b935c3a662546132:0"> render() {</span></span>

38

<span data-key="97f6fbc0593841e39d17a2b8e6eae7ef"><span data-offset-key="97f6fbc0593841e39d17a2b8e6eae7ef:0"> return (</span></span>

39

<span data-key="6842a15e2f5f41d2903b6115a3e7b56d"><span data-offset-key="6842a15e2f5f41d2903b6115a3e7b56d:0"> &lt;div&gt;</span></span>

40

<span data-key="0a8779c6342b49f2adbc46978ef04cf5"><span data-offset-key="0a8779c6342b49f2adbc46978ef04cf5:0"> &lt;h1&gt;Move the mouse around!&lt;/h1&gt;</span></span>

41

<span data-key="6d97bde14fd2436b9b585b47a65264ce"><span data-offset-key="6d97bde14fd2436b9b585b47a65264ce:0"> &lt;Mouse render={mouse =&gt; (</span></span>

42

<span data-key="2f76218aba2b4a049c4d85c87f9a29d7"><span data-offset-key="2f76218aba2b4a049c4d85c87f9a29d7:0"> &lt;Cat mouse={mouse} /&gt;)}/&gt;</span></span>

43

<span data-key="5432432cda1644f6bd28cb146efb29f3"><span data-offset-key="5432432cda1644f6bd28cb146efb29f3:0"> &lt;/div&gt;);</span></span>

44

<span data-key="6e9daee4aa4d406b929ff6dba118857d"><span data-offset-key="6e9daee4aa4d406b929ff6dba118857d:0"> }</span></span>

45

<span data-key="9048d004cd4b4bc0bfac01ac31cdfdb4"><span data-offset-key="9048d004cd4b4bc0bfac01ac31cdfdb4:0">}</span></span>

Copied!

<span data-key="8b53c371174b48a98ceb36fd4520bf24"><span data-offset-key="8b53c371174b48a98ceb36fd4520bf24:0">Now, instead of effectively cloning the </span><span data-offset-key="8b53c371174b48a98ceb36fd4520bf24:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">&lt;Mouse&gt;</span></span><span data-offset-key="8b53c371174b48a98ceb36fd4520bf24:2"> component and hard-coding something else in its </span><span data-offset-key="8b53c371174b48a98ceb36fd4520bf24:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">render</span></span><span data-offset-key="8b53c371174b48a98ceb36fd4520bf24:4"> method to solve for a specific use case, we provide a </span><span data-offset-key="8b53c371174b48a98ceb36fd4520bf24:5"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">render</span></span><span data-offset-key="8b53c371174b48a98ceb36fd4520bf24:6"> prop that </span><span data-offset-key="8b53c371174b48a98ceb36fd4520bf24:7"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">&lt;Mouse&gt;</span></span><span data-offset-key="8b53c371174b48a98ceb36fd4520bf24:8"> can use to dynamically determine what it renders.</span></span>

<span data-key="c15e5e61eade4198a90daa74ad4e133f"><span data-offset-key="c15e5e61eade4198a90daa74ad4e133f:0">More concretely, </span><span data-offset-key="c15e5e61eade4198a90daa74ad4e133f:1"><span class="css-901oao css-16my406 r-b88u0q">a render prop is a function prop that a component uses to know what to render.</span></span></span>

<span data-key="30778450552e487fbab0416cb48af3c0"><span data-offset-key="30778450552e487fbab0416cb48af3c0:0">This technique makes the behavior that we need to share extremely portable. To get that behavior, render a </span><span data-offset-key="30778450552e487fbab0416cb48af3c0:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">&lt;Mouse&gt;</span></span><span data-offset-key="30778450552e487fbab0416cb48af3c0:2"> with a </span><span data-offset-key="30778450552e487fbab0416cb48af3c0:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">render</span></span><span data-offset-key="30778450552e487fbab0416cb48af3c0:4"> prop that tells it what to render with the current (x, y) of the cursor.</span></span>

<span data-key="6ede4420ab8b4dd7aa1780918f0bac57"><span data-offset-key="6ede4420ab8b4dd7aa1780918f0bac57:0">One interesting thing to note about render props is that you can implement most </span></span><a href="https://reactjs.org/docs/higher-order-components.html" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="f0fcce332d19408db87278683bec5bd5"><span data-offset-key="f0fcce332d19408db87278683bec5bd5:0">higher-order components</span></span></span></a><span data-key="ad4abcf391ee466d81912a3d1421bf35"><span data-offset-key="ad4abcf391ee466d81912a3d1421bf35:0"> (HOC) using a regular component with a render prop. For example, if you would prefer to have a </span><span data-offset-key="ad4abcf391ee466d81912a3d1421bf35:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">withMouse</span></span><span data-offset-key="ad4abcf391ee466d81912a3d1421bf35:2"> HOC instead of a </span><span data-offset-key="ad4abcf391ee466d81912a3d1421bf35:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">&lt;Mouse&gt;</span></span><span data-offset-key="ad4abcf391ee466d81912a3d1421bf35:4"> component, you could easily create one using a regular </span><span data-offset-key="ad4abcf391ee466d81912a3d1421bf35:5"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">&lt;Mouse&gt;</span></span><span data-offset-key="ad4abcf391ee466d81912a3d1421bf35:6"> with a render prop:</span></span>

1

<span data-key="081c970dec8449939db0548e5d68aec0"><span data-offset-key="081c970dec8449939db0548e5d68aec0:0">// If you really want a HOC for some reason, you can easily</span></span>

2

<span data-key="fcc27ca7300d410bbde6a9e8731b4d6b"><span data-offset-key="fcc27ca7300d410bbde6a9e8731b4d6b:0">// create one using a regular component with a render prop!</span></span>

3

<span data-key="4f637c55fea94f448920cfbac2c8810e"><span data-offset-key="4f637c55fea94f448920cfbac2c8810e:0">function withMouse(Component) {</span></span>

4

<span data-key="3c2d363855a3468aa6e6a10cb6a1bfbf"><span data-offset-key="3c2d363855a3468aa6e6a10cb6a1bfbf:0"> return class extends React.Component {</span></span>

5

<span data-key="eeaa4be97ec743c7a05904d69059405a"><span data-offset-key="eeaa4be97ec743c7a05904d69059405a:0"> render() {</span></span>

6

<span data-key="bc10d63c3ff640c19218975c75812807"><span data-offset-key="bc10d63c3ff640c19218975c75812807:0"> return (</span></span>

7

<span data-key="a6a1490894fc4b338e0ab7808cf0e558"><span data-offset-key="a6a1490894fc4b338e0ab7808cf0e558:0"> &lt;Mouse render={mouse =&gt; (</span></span>

8

<span data-key="5ce2ae6480e949f4b1f867cfcf19836b"><span data-offset-key="5ce2ae6480e949f4b1f867cfcf19836b:0"> &lt;Component {...this.props} mouse={mouse} /&gt;)}/&gt;);</span></span>

9

<span data-key="718652a3dd8540c9bfd5d6853c22814d"><span data-offset-key="718652a3dd8540c9bfd5d6853c22814d:0"> }</span></span>

10

<span data-key="68ebb447ed6548528e3b006b2116d232"><span data-offset-key="68ebb447ed6548528e3b006b2116d232:0"> }</span></span>

11

<span data-key="2e2c65f2cc5241fc832c90dc1b9bf3f2"><span data-offset-key="2e2c65f2cc5241fc832c90dc1b9bf3f2:0">}</span></span>

Copied!

<span data-key="5885bdd888514093b08c3e00db012b63"><span data-offset-key="5885bdd888514093b08c3e00db012b63:0">So using a render prop makes it possible to use either pattern.</span></span>

<span data-key="4f9ec620f173492fb8d879b0d889d604"><span data-offset-key="4f9ec620f173492fb8d879b0d889d604:0">Using Props Other Than </span><span data-offset-key="4f9ec620f173492fb8d879b0d889d604:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">render</span></span></span>

<span data-key="12cd01ecbf0349c8985deee0bd9c3098"><span data-offset-key="12cd01ecbf0349c8985deee0bd9c3098:0">It’s important to remember that just because the pattern is called “render props” you don’t </span><span data-offset-key="12cd01ecbf0349c8985deee0bd9c3098:1"><span class="css-901oao css-16my406 r-36ujnk">have to use a prop named </span></span><span data-offset-key="12cd01ecbf0349c8985deee0bd9c3098:2"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t"><span class="css-901oao css-16my406 r-36ujnk">render</span></span></span><span data-offset-key="12cd01ecbf0349c8985deee0bd9c3098:3"><span class="css-901oao css-16my406 r-36ujnk"> to use this pattern</span></span><span data-offset-key="12cd01ecbf0349c8985deee0bd9c3098:4">. In fact, \*</span></span><a href="https://cdb.reacttraining.com/use-a-render-prop-50de598f11ce" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="0581911311394e1eae57c74ca24d0275"><span data-offset-key="0581911311394e1eae57c74ca24d0275:0">any\* prop that is a function that a component uses to know what to render is technically a “render prop”</span></span></span></a><span data-key="0b0ef082467940f0b95c283f3b2fb2e6"><span data-offset-key="0b0ef082467940f0b95c283f3b2fb2e6:0">.</span></span>

<span data-key="2796d572ea5840149f95e19b22fd1ecc"><span data-offset-key="2796d572ea5840149f95e19b22fd1ecc:0">Although the examples above use </span><span data-offset-key="2796d572ea5840149f95e19b22fd1ecc:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">render</span></span><span data-offset-key="2796d572ea5840149f95e19b22fd1ecc:2">, we could just as easily use the </span><span data-offset-key="2796d572ea5840149f95e19b22fd1ecc:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">children</span></span><span data-offset-key="2796d572ea5840149f95e19b22fd1ecc:4"> prop!</span></span>

1

<span data-key="cbeae63bb3cd433894477a57047cf250"><span data-offset-key="cbeae63bb3cd433894477a57047cf250:0">&lt;Mouse children={mouse =&gt; (</span></span>

2

<span data-key="b12b495a64414dae8396693ad52df40b"><span data-offset-key="b12b495a64414dae8396693ad52df40b:0"> &lt;p&gt;The mouse position is {mouse.x}, {mouse.y}&lt;/p&gt;)}/&gt;</span></span>

Copied!

<span data-key="c5ef84931a3f4077b41f40a39d3a46c8"><span data-offset-key="c5ef84931a3f4077b41f40a39d3a46c8:0">And remember, the </span><span data-offset-key="c5ef84931a3f4077b41f40a39d3a46c8:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">children</span></span><span data-offset-key="c5ef84931a3f4077b41f40a39d3a46c8:2"> prop doesn’t actually need to be named in the list of “attributes” in your JSX element. Instead, you can put it directly </span><span data-offset-key="c5ef84931a3f4077b41f40a39d3a46c8:3"><span class="css-901oao css-16my406 r-36ujnk">inside</span></span><span data-offset-key="c5ef84931a3f4077b41f40a39d3a46c8:4"> the element!</span></span>

1

<span data-key="c83ff31f7b6a491a8ca477a3c420d06c"><span data-offset-key="c83ff31f7b6a491a8ca477a3c420d06c:0">&lt;Mouse&gt;</span></span>

2

<span data-key="311c12ced365411181bebc4c3b501b55"><span data-offset-key="311c12ced365411181bebc4c3b501b55:0"> {mouse =&gt; (</span></span>

3

<span data-key="f59a4d87ea3a46d2a7e17f1c3dea4686"><span data-offset-key="f59a4d87ea3a46d2a7e17f1c3dea4686:0"> &lt;p&gt;The mouse position is {mouse.x}, {mouse.y}&lt;/p&gt;)}</span></span>

4

<span data-key="486b3cd4af2b429e90416fad90aa70c2"><span data-offset-key="486b3cd4af2b429e90416fad90aa70c2:0">&lt;/Mouse&gt;</span></span>

Copied!

<span data-key="15c4aec336ab4038a4e70ce71e616f90"><span data-offset-key="15c4aec336ab4038a4e70ce71e616f90:0">You’ll see this technique used in the </span></span><a href="https://github.com/chenglou/react-motion" class="css-4rbku5 css-1dbjc4n r-1loqt21 r-1471scf r-1otgn73 r-1i6wzkk r-lrvibr"><span class="css-901oao css-16my406" data-rnw-int-class="257-20744_259-20745-237__"><span data-key="6fc62d628db1472b8d97c11faba3f5d2"><span data-offset-key="6fc62d628db1472b8d97c11faba3f5d2:0">react-motion</span></span></span></a><span data-key="1c20fefff0434d0a988e84eed1791a5a"><span data-offset-key="1c20fefff0434d0a988e84eed1791a5a:0"> API.</span></span>

<span data-key="4ee9b3149bd142498890fe8f3e1994b7"><span data-offset-key="4ee9b3149bd142498890fe8f3e1994b7:0">Since this technique is a little unusual, you’ll probably want to explicitly state that </span><span data-offset-key="4ee9b3149bd142498890fe8f3e1994b7:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">children</span></span><span data-offset-key="4ee9b3149bd142498890fe8f3e1994b7:2"> should be a function in your </span><span data-offset-key="4ee9b3149bd142498890fe8f3e1994b7:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">propTypes</span></span><span data-offset-key="4ee9b3149bd142498890fe8f3e1994b7:4"> when designing an API like this.</span></span>

1

<span data-key="e9014298be664ea780f57105342bd9cd"><span data-offset-key="e9014298be664ea780f57105342bd9cd:0">Mouse.propTypes = {</span></span>

2

<span data-key="e0034aee095e44e9bbeb3e56af414654"><span data-offset-key="e0034aee095e44e9bbeb3e56af414654:0"> children: PropTypes.func.isRequired</span></span>

3

<span data-key="b8226b8de9954cbf910354d360b62f52"><span data-offset-key="b8226b8de9954cbf910354d360b62f52:0">};</span></span>

Copied!

<span data-key="08fa6124dd0d4151823eae21007ddc16"><span data-offset-key="08fa6124dd0d4151823eae21007ddc16:0">Caveats</span></span>

<span data-key="c5babb73078f476c8d50495c9ecf7d53"><span data-offset-key="c5babb73078f476c8d50495c9ecf7d53:0">Be careful when using Render Props with React.PureComponent</span></span>

<span data-key="bc44641f64fb42d8b6d987c912b59417"><span data-offset-key="bc44641f64fb42d8b6d987c912b59417:0">Using a render prop can negate the advantage that comes from using </span><span data-offset-key="bc44641f64fb42d8b6d987c912b59417:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">\[React.PureComponent\](&lt;https://reactjs.org/docs/react-api.html\#reactpurecomponent&gt;)</span></span><span data-offset-key="bc44641f64fb42d8b6d987c912b59417:2"> if you create the function inside a </span><span data-offset-key="bc44641f64fb42d8b6d987c912b59417:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">render</span></span><span data-offset-key="bc44641f64fb42d8b6d987c912b59417:4"> method. This is because the shallow prop comparison will always return </span><span data-offset-key="bc44641f64fb42d8b6d987c912b59417:5"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">false</span></span><span data-offset-key="bc44641f64fb42d8b6d987c912b59417:6"> for new props, and each </span><span data-offset-key="bc44641f64fb42d8b6d987c912b59417:7"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">render</span></span><span data-offset-key="bc44641f64fb42d8b6d987c912b59417:8"> in this case will generate a new value for the render prop.</span></span>

<span data-key="9e5c537acf7d43569e5aa8239d27aafa"><span data-offset-key="9e5c537acf7d43569e5aa8239d27aafa:0">For example, continuing with our </span><span data-offset-key="9e5c537acf7d43569e5aa8239d27aafa:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">&lt;Mouse&gt;</span></span><span data-offset-key="9e5c537acf7d43569e5aa8239d27aafa:2"> component from above, if </span><span data-offset-key="9e5c537acf7d43569e5aa8239d27aafa:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">Mouse</span></span><span data-offset-key="9e5c537acf7d43569e5aa8239d27aafa:4"> were to extend </span><span data-offset-key="9e5c537acf7d43569e5aa8239d27aafa:5"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">React.PureComponent</span></span><span data-offset-key="9e5c537acf7d43569e5aa8239d27aafa:6"> instead of </span><span data-offset-key="9e5c537acf7d43569e5aa8239d27aafa:7"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">React.Component</span></span><span data-offset-key="9e5c537acf7d43569e5aa8239d27aafa:8">, our example would look like this:</span></span>

1

<span data-key="aecbc769b2d94615b81aa763830f33cb"><span data-offset-key="aecbc769b2d94615b81aa763830f33cb:0">class Mouse extends React.PureComponent {</span></span>

2

<span data-key="80d4a51cbb4542a2b1a63a050c08ca06"><span data-offset-key="80d4a51cbb4542a2b1a63a050c08ca06:0"> // Same implementation as above...</span></span>

3

<span data-key="4af11e63cd044bc19339f4c38b30825d"><span data-offset-key="4af11e63cd044bc19339f4c38b30825d:0">}</span></span>

4

<span data-key="1b64fcbce0c6443a83ff175dd3d7c98c"><span data-offset-key="1b64fcbce0c6443a83ff175dd3d7c98c:0"><span data-slate-zero-width="n">​</span></span></span>

5

<span data-key="3d598948632c4f5d94dd2f70787c4203"><span data-offset-key="3d598948632c4f5d94dd2f70787c4203:0">class MouseTracker extends React.Component {</span></span>

6

<span data-key="2e001539245143858bd51ed16219a6da"><span data-offset-key="2e001539245143858bd51ed16219a6da:0"> render() {</span></span>

7

<span data-key="b63e5e39fb5048958dff7c039723fac8"><span data-offset-key="b63e5e39fb5048958dff7c039723fac8:0"> return (</span></span>

8

<span data-key="f9d80487910a4cf19e1e6ad751488473"><span data-offset-key="f9d80487910a4cf19e1e6ad751488473:0"> &lt;div&gt;</span></span>

9

<span data-key="ee9af5f0d74c45caa031c3357ee7b3a9"><span data-offset-key="ee9af5f0d74c45caa031c3357ee7b3a9:0"> &lt;h1&gt;Move the mouse around!&lt;/h1&gt;</span></span>

10

<span data-key="7b4c75d8ed0f4596a906e6ac9c0ca9e9"><span data-offset-key="7b4c75d8ed0f4596a906e6ac9c0ca9e9:0"><span data-slate-zero-width="n">​</span></span></span>

11

<span data-key="e89127914a15499f813bcfa6d0e3dae9"><span data-offset-key="e89127914a15499f813bcfa6d0e3dae9:0"> {/\*</span></span>

12

<span data-key="7ecf69d48ec343ed881b74cc2235311d"><span data-offset-key="7ecf69d48ec343ed881b74cc2235311d:0"> This is bad! The value of the \`render\` prop will</span></span>

13

<span data-key="e60e477b1f6b47eaa0f90e4766ce063a"><span data-offset-key="e60e477b1f6b47eaa0f90e4766ce063a:0"> be different on each render.</span></span>

14

<span data-key="e9d24ef0033d418ea355f30257a1db54"><span data-offset-key="e9d24ef0033d418ea355f30257a1db54:0"> \*/}</span></span>

15

<span data-key="ee573b380ae542e88b1c8f577c74ec29"><span data-offset-key="ee573b380ae542e88b1c8f577c74ec29:0"> &lt;Mouse render={mouse =&gt; (</span></span>

16

<span data-key="beafbe2db4df4b40a3f5a8124239ad75"><span data-offset-key="beafbe2db4df4b40a3f5a8124239ad75:0"> &lt;Cat mouse={mouse} /&gt;)}/&gt;</span></span>

17

<span data-key="ba826cc88509476ba96639023156e02d"><span data-offset-key="ba826cc88509476ba96639023156e02d:0"> &lt;/div&gt;);</span></span>

18

<span data-key="9ee06678c7db499792078d8adcfab29a"><span data-offset-key="9ee06678c7db499792078d8adcfab29a:0"> }</span></span>

19

<span data-key="b235984e27ba44ed847880a6dac9dbb8"><span data-offset-key="b235984e27ba44ed847880a6dac9dbb8:0">}</span></span>

Copied!

<span data-key="9a3034c6d6b94f9e9fe329a701e163d9"><span data-offset-key="9a3034c6d6b94f9e9fe329a701e163d9:0">In this example, each time </span><span data-offset-key="9a3034c6d6b94f9e9fe329a701e163d9:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">&lt;MouseTracker&gt;</span></span><span data-offset-key="9a3034c6d6b94f9e9fe329a701e163d9:2"> renders, it generates a new function as the value of the </span><span data-offset-key="9a3034c6d6b94f9e9fe329a701e163d9:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">&lt;Mouse render&gt;</span></span><span data-offset-key="9a3034c6d6b94f9e9fe329a701e163d9:4"> prop, thus negating the effect of </span><span data-offset-key="9a3034c6d6b94f9e9fe329a701e163d9:5"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">&lt;Mouse&gt;</span></span><span data-offset-key="9a3034c6d6b94f9e9fe329a701e163d9:6"> extending </span><span data-offset-key="9a3034c6d6b94f9e9fe329a701e163d9:7"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">React.PureComponent</span></span><span data-offset-key="9a3034c6d6b94f9e9fe329a701e163d9:8"> in the first place!</span></span>

<span data-key="011374c85f0b4ca5babd050fff9fe87b"><span data-offset-key="011374c85f0b4ca5babd050fff9fe87b:0">To get around this problem, you can sometimes define the prop as an instance method, like so:</span></span>

1

<span data-key="8f04d59642f74f118dfa57d12599c8cb"><span data-offset-key="8f04d59642f74f118dfa57d12599c8cb:0">class MouseTracker extends React.Component {</span></span>

2

<span data-key="6d3ea68ed87c4730baa4a800511fc6b7"><span data-offset-key="6d3ea68ed87c4730baa4a800511fc6b7:0"> // Defined as an instance method, \`this.renderTheCat\` always</span></span>

3

<span data-key="cfe13d570254439488c2a4aba00459d9"><span data-offset-key="cfe13d570254439488c2a4aba00459d9:0"> // refers to \*same\* function when we use it in render</span></span>

4

<span data-key="5c079516585140759d229503ab746d48"><span data-offset-key="5c079516585140759d229503ab746d48:0"> renderTheCat(mouse) {</span></span>

5

<span data-key="7f86933985d14141b842d76db6604349"><span data-offset-key="7f86933985d14141b842d76db6604349:0"> return &lt;Cat mouse={mouse} /&gt;;</span></span>

6

<span data-key="e7d4692ecfd84044b54be8deb221e639"><span data-offset-key="e7d4692ecfd84044b54be8deb221e639:0"> }</span></span>

7

<span data-key="4ed08b9756f44905aa6e83a8ea11cdc8"><span data-offset-key="4ed08b9756f44905aa6e83a8ea11cdc8:0"><span data-slate-zero-width="n">​</span></span></span>

8

<span data-key="2b5e706a7fcd4019b905251267b96fac"><span data-offset-key="2b5e706a7fcd4019b905251267b96fac:0"> render() {</span></span>

9

<span data-key="40a4f2bd2a1f4b318e91bfd53e730c26"><span data-offset-key="40a4f2bd2a1f4b318e91bfd53e730c26:0"> return (</span></span>

10

<span data-key="a0972aef50564555b38019d3a9d87f1c"><span data-offset-key="a0972aef50564555b38019d3a9d87f1c:0"> &lt;div&gt;</span></span>

11

<span data-key="2346b584938d47bba8a93cb5af20103d"><span data-offset-key="2346b584938d47bba8a93cb5af20103d:0"> &lt;h1&gt;Move the mouse around!&lt;/h1&gt;</span></span>

12

<span data-key="c9c3a074233b493497775c59eed2c876"><span data-offset-key="c9c3a074233b493497775c59eed2c876:0"> &lt;Mouse render={this.renderTheCat} /&gt;</span></span>

13

<span data-key="0fd71aa9257545da8bfe7162f08bff75"><span data-offset-key="0fd71aa9257545da8bfe7162f08bff75:0"> &lt;/div&gt;);</span></span>

14

<span data-key="681b000906ac4dd198d2ca2695dbda34"><span data-offset-key="681b000906ac4dd198d2ca2695dbda34:0"> }</span></span>

15

<span data-key="7cd2508199404268ab998ebb60c41a39"><span data-offset-key="7cd2508199404268ab998ebb60c41a39:0">}</span></span>

Copied!

<span data-key="c7fc82fcd36148ecad23028a24926168"><span data-offset-key="c7fc82fcd36148ecad23028a24926168:0">In cases where you cannot define the prop statically (e.g. because you need to close over the component’s props and/or state) </span><span data-offset-key="c7fc82fcd36148ecad23028a24926168:1"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">&lt;Mouse&gt;</span></span><span data-offset-key="c7fc82fcd36148ecad23028a24926168:2"> should extend </span><span data-offset-key="c7fc82fcd36148ecad23028a24926168:3"><span class="css-901oao css-16my406 r-1vckr1u r-z2wwpe r-uibjmv r-m2pi6t r-1hvjb8t">React.Component</span></span><span data-offset-key="c7fc82fcd36148ecad23028a24926168:4"> instead.</span></span>

<a href="../prerequisites/prerequisites/untitled.html" class="css-4rbku5 css-1dbjc4n r-1awozwy r-14lw9ot r-190qawg r-z2wwpe r-rs99b7 r-4dj0k7 r-1loqt21 r-1quu1zo r-1ro0kt6 r-18u37iz r-16y2uox r-1wbh5a2 r-nsbfu8 r-1otgn73 r-1i6wzkk r-lrvibr"></a>

Previous

Glossary

<a href="../my_docs/docs.html" class="css-4rbku5 css-1dbjc4n r-1awozwy r-14lw9ot r-190qawg r-z2wwpe r-rs99b7 r-4dj0k7 r-1loqt21 r-1quu1zo r-1ro0kt6 r-18u37iz r-16y2uox r-1wbh5a2 r-nsbfu8 r-1otgn73 r-1i6wzkk r-lrvibr"></a>

Next - MY_DOCS

Docs

Last modified <span class="css-901oao css-16my406" aria-label="2021-09-11 16:45 UTC">30d ago</span>

Copy link

Contents

<a href="advanced.html#accessibility" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Accessibility

<a href="advanced.html#why-accessibility" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Why Accessibility?

<a href="advanced.html#standards-and-guidelines" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Standards and Guidelines

<a href="advanced.html#wcag" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

WCAG

<a href="advanced.html#wai-aria" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

WAI-ARIA

<a href="advanced.html#semantic-html" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Semantic HTML

<a href="advanced.html#accessible-forms" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Accessible Forms

<a href="advanced.html#labeling" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Labeling

<a href="advanced.html#notifying-the-user-of-errors" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Notifying the user of errors

<a href="advanced.html#focus-control" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Focus Control

<a href="advanced.html#keyboard-focus-and-focus-outline" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Keyboard focus and focus outline

<a href="advanced.html#mechanisms-to-skip-to-desired-content" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Mechanisms to skip to desired content

<a href="advanced.html#programmatically-managing-focus" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Programmatically managing focus

<a href="advanced.html#mouse-and-pointer-events" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Mouse and pointer events

<a href="advanced.html#more-complex-widgets" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

More Complex Widgets

<a href="advanced.html#other-points-for-consideration" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Other Points for Consideration

<a href="advanced.html#setting-the-language" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Setting the language

<a href="advanced.html#setting-the-document-title" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Setting the document title

<a href="advanced.html#color-contrast" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Color contrast

<a href="advanced.html#development-and-testing-tools" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Development and Testing Tools

<a href="advanced.html#the-keyboard" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

The keyboard

<a href="advanced.html#development-assistance" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Development assistance

<a href="advanced.html#testing-accessibility-in-the-browser" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Testing accessibility in the browser

<a href="advanced.html#screen-readers" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Screen readers

<a href="advanced.html#commonly-used-screen-readers" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Commonly Used Screen Readers

<a href="advanced.html#other-screen-readers" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Other Screen Readers

<a href="advanced.html#code-splitting" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Code-Splitting

<a href="advanced.html#bundling" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Bundling

<a href="advanced.html#code-splitting-1" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Code Splitting

<a href="advanced.html#import" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

import()

<a href="advanced.html#react.lazy" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

React.lazy

<a href="advanced.html#error-boundaries" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Error boundaries

<a href="advanced.html#route-based-code-splitting" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Route-based code splitting

<a href="advanced.html#named-exports" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Named Exports

<a href="advanced.html#context" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Context

<a href="advanced.html#context-provides-a-way-to-pass-data-through-the-component-tree-without-having-to-pass-props-down-man" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Context provides a way to pass data through the component tree without having to pass props down manually at every level.

<a href="advanced.html#when-to-use-context" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

When to Use Context

<a href="advanced.html#before-you-use-context" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Before You Use Context

<a href="advanced.html#api" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

API

<a href="advanced.html#react.createcontext" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

React.createContext

<a href="advanced.html#context.provider" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Context.Provider

<a href="advanced.html#class.contexttype" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Class.contextType

<a href="advanced.html#context.consumer" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Context.Consumer

<a href="advanced.html#context.displayname" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Context.displayName

<a href="advanced.html#examples" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Examples

<a href="advanced.html#dynamic-context" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Dynamic Context

<a href="advanced.html#updating-context-from-a-nested-component" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Updating Context from a Nested Component

<a href="advanced.html#consuming-multiple-contexts" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Consuming Multiple Contexts

<a href="advanced.html#caveats" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Caveats

<a href="advanced.html#legacy-api" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Legacy API

<a href="advanced.html#fragments" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Fragments

<a href="advanced.html#a-common-pattern-in-react-is-for-a-component-to-return-multiple-elements.-fragments-let-you-group-a" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

A common pattern in React is for a component to return multiple elements. Fragments let you group a list of children without adding extra nodes to the DOM.

<a href="advanced.html#motivation" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Motivation

<a href="advanced.html#usage" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Usage

<a href="advanced.html#short-syntax" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Short Syntax

<a href="advanced.html#keyed-fragments" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Keyed Fragments

<a href="advanced.html#live-demo" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Live Demo

<a href="advanced.html#higher-order-components" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Higher-Order Components

<a href="advanced.html#a-higher-order-component-hoc-is-an-advanced-technique-in-react-for-reusing-component-logic.-hocs-are" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

A higher-order component (HOC) is an advanced technique in React for reusing component logic. HOCs are not part of the React API, per se. They are a pattern that emerges from React’s compositional nature.

<a href="advanced.html#use-hocs-for-cross-cutting-concerns" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Use HOCs For Cross-Cutting Concerns

<a href="advanced.html#dont-mutate-the-original-component.-use-composition." class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Don’t Mutate the Original Component. Use Composition.

<a href="advanced.html#convention-pass-unrelated-props-through-to-the-wrapped-component" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Convention: Pass Unrelated Props Through to the Wrapped Component

<a href="advanced.html#convention-maximizing-composability" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Convention: Maximizing Composability

<a href="advanced.html#convention-wrap-the-display-name-for-easy-debugging" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Convention: Wrap the Display Name for Easy Debugging

<a href="advanced.html#caveats-1" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Caveats

<a href="advanced.html#dont-use-hocs-inside-the-render-method" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Don’t Use HOCs Inside the render Method

<a href="advanced.html#static-methods-must-be-copied-over" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Static Methods Must Be Copied Over

<a href="advanced.html#refs-arent-passed-through" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Refs Aren’t Passed Through

<a href="advanced.html#jsx-in-depth" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

JSX In Depth

<a href="advanced.html#fundamentally-jsx-just-provides-syntactic-sugar-for-the-react.createelement-component-props-...child" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Fundamentally, JSX just provides syntactic sugar for the React.createElement(component, props, ...children) function. The JSX code:

<a href="advanced.html#specifying-the-react-element-type" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Specifying The React Element Type

<a href="advanced.html#react-must-be-in-scope" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

React Must Be in Scope

<a href="advanced.html#using-dot-notation-for-jsx-type" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Using Dot Notation for JSX Type

<a href="advanced.html#user-defined-components-must-be-capitalized" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

User-Defined Components Must Be Capitalized

<a href="advanced.html#choosing-the-type-at-runtime" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Choosing the Type at Runtime

<a href="advanced.html#props-in-jsx" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Props in JSX

<a href="advanced.html#javascript-expressions-as-props" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

JavaScript Expressions as Props

<a href="advanced.html#string-literals" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

String Literals

<a href="advanced.html#props-default-to-true" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Props Default to “True”

<a href="advanced.html#spread-attributes" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Spread Attributes

<a href="advanced.html#children-in-jsx" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Children in JSX

<a href="advanced.html#string-literals-1" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

String Literals

<a href="advanced.html#jsx-children" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

JSX Children

<a href="advanced.html#javascript-expressions-as-children" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

JavaScript Expressions as Children

<a href="advanced.html#functions-as-children" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Functions as Children

<a href="advanced.html#booleans-null-and-undefined-are-ignored" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Booleans, Null, and Undefined Are Ignored

<a href="advanced.html#optimizing-performance" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Optimizing Performance

<a href="advanced.html#internally-react-uses-several-clever-techniques-to-minimize-the-number-of-costly-dom-operations-requ" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Internally, React uses several clever techniques to minimize the number of costly DOM operations required to update the UI. For many applications, using React will lead to a fast user interface without doing much work to specifically optimize for performance. Nevertheless, there are several ways you can speed up your React application.

<a href="advanced.html#use-the-production-build" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Use the Production Build

<a href="advanced.html#create-react-app" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Create React App

<a href="advanced.html#single-file-builds" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Single-File Builds

<a href="advanced.html#brunch" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Brunch

<a href="advanced.html#browserify" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Browserify

<a href="advanced.html#rollup" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Rollup

<a href="advanced.html#webpack" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

webpack

<a href="advanced.html#profiling-components-with-the-devtools-profiler" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Profiling Components with the DevTools Profiler

<a href="advanced.html#virtualize-long-lists" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Virtualize Long Lists

<a href="advanced.html#avoid-reconciliation" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Avoid Reconciliation

<a href="advanced.html#shouldcomponentupdate-in-action" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

shouldComponentUpdate In Action

<a href="advanced.html#examples-1" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Examples

<a href="advanced.html#the-power-of-not-mutating-data" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

The Power Of Not Mutating Data

<a href="advanced.html#render-props" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Render Props

<a href="advanced.html#the-term-render-prop-refers-to-a-technique-for-sharing-code-between-react-components-using-a-prop-wh" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

The term “render prop” refers to a technique for sharing code between React components using a prop whose value is a function.

<a href="advanced.html#use-render-props-for-cross-cutting-concerns" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Use Render Props for Cross-Cutting Concerns

<a href="advanced.html#using-props-other-than-render" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Using Props Other Than render

<a href="advanced.html#caveats-2" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Caveats

<a href="advanced.html#be-careful-when-using-render-props-with-react.purecomponent" class="css-4rbku5 css-1dbjc4n r-855088 r-dwliz8 r-1loqt21 r-18u37iz r-lqms97 r-dnmrzs r-iphfwy r-1guathk r-1h8ys4a r-1otgn73 r-1i6wzkk r-lrvibr r-7xmw5f"></a>

Be careful when using Render Props with React.PureComponent
