<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>README</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<h1 id="postcss-custom-media-postcss">PostCSS Custom Media <a href="https://github.com/postcss/postcss"><img src="https://postcss.github.io/postcss/logo.svg" alt="PostCSS" width="90" height="90" align="right"></a></h1>
<p><a href="https://www.npmjs.com/package/postcss-custom-media"><img src="https://img.shields.io/npm/v/postcss-custom-media.svg" alt="NPM Version" /></a> <a href="https://cssdb.org/#custom-media-queries"><img src="https://cssdb.org/badge/custom-media-queries.svg" alt="CSS Standard Status" /></a> <a href="https://travis-ci.org/postcss/postcss-custom-media"><img src="https://img.shields.io/travis/postcss/postcss-custom-media/master.svg" alt="Build Status" /></a> <a href="https://gitter.im/postcss/postcss"><img src="https://img.shields.io/badge/support-chat-blue.svg" alt="Support Chat" /></a></p>
<p><a href="https://github.com/postcss/postcss-custom-media">PostCSS Custom Media</a> lets you use Custom Media Queries in CSS, following the <a href="https://drafts.csswg.org/mediaqueries-5/#custom-mq">CSS Media Queries</a> specification.</p>
<pre class="pcss"><code>@custom-media --small-viewport (max-width: 30em);

@media (--small-viewport) {
  /* styles for small viewport */
}

/* becomes */

@media (max-width: 30em) {
  /* styles for small viewport */
}</code></pre>
<h2 id="usage">Usage</h2>
<p>Add <a href="https://github.com/postcss/postcss-custom-media">PostCSS Custom Media</a> to your project:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb2-1" title="1"><span class="ex">npm</span> install postcss-custom-media --save-dev</a></code></pre></div>
<p>Use <a href="https://github.com/postcss/postcss-custom-media">PostCSS Custom Media</a> to process your CSS:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="kw">const</span> postcssCustomMedia <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;postcss-custom-media&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-2" title="2"></a>
<a class="sourceLine" id="cb3-3" title="3"><span class="va">postcssCustomMedia</span>.<span class="at">process</span>(YOUR_CSS <span class="co">/*, processOptions, pluginOptions */</span>)<span class="op">;</span></a></code></pre></div>
<p>Or use it as a <a href="https://github.com/postcss/postcss">PostCSS</a> plugin:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1"><span class="kw">const</span> postcss <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;postcss&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-2" title="2"><span class="kw">const</span> postcssCustomMedia <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;postcss-custom-media&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-3" title="3"></a>
<a class="sourceLine" id="cb4-4" title="4"><span class="at">postcss</span>([</a>
<a class="sourceLine" id="cb4-5" title="5">  <span class="at">postcssCustomMedia</span>(<span class="co">/* pluginOptions */</span>)</a>
<a class="sourceLine" id="cb4-6" title="6">]).<span class="at">process</span>(YOUR_CSS <span class="co">/*, processOptions */</span>)<span class="op">;</span></a></code></pre></div>
<p><a href="https://github.com/postcss/postcss-custom-media">PostCSS Custom Media</a> runs in all Node environments, with special instructions for:</p>
<table>
<thead>
<tr class="header">
<th><a href="INSTALL.md#node">Node</a></th>
<th><a href="INSTALL.md#postcss-cli">PostCSS CLI</a></th>
<th><a href="INSTALL.md#webpack">Webpack</a></th>
<th><a href="INSTALL.md#create-react-app">Create React App</a></th>
<th><a href="INSTALL.md#gulp">Gulp</a></th>
<th><a href="INSTALL.md#grunt">Grunt</a></th>
</tr>
</thead>
<tbody>
</tbody>
</table>
<h2 id="options">Options</h2>
<h3 id="preserve">preserve</h3>
<p>The <code>preserve</code> option determines whether custom media and atrules using custom media should be preserved in their original form.</p>
<pre class="pcss"><code>@custom-media --small-viewport (max-width: 30em);

@media (--small-viewport) {
  /* styles for small viewport */
}

/* becomes */

@custom-media --small-viewport (max-width: 30em);

@media (max-width: 30em) {
  /* styles for small viewport */
}

@media (--small-viewport) {
  /* styles for small viewport */
}</code></pre>
<h3 id="importfrom">importFrom</h3>
<p>The <code>importFrom</code> option specifies sources where custom media can be imported from, which might be CSS, JS, and JSON files, functions, and directly passed objects.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb6-1" title="1"><span class="at">postcssCustomMedia</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb6-2" title="2">  <span class="dt">importFrom</span><span class="op">:</span> <span class="st">&#39;path/to/file.css&#39;</span> <span class="co">// =&gt; @custom-selector --small-viewport (max-width: 30em);</span></a>
<a class="sourceLine" id="cb6-3" title="3"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<pre class="pcss"><code>@media (max-width: 30em) {
  /* styles for small viewport */
}

@media (--small-viewport) {
  /* styles for small viewport */
}</code></pre>
<p>Multiple sources can be passed into this option, and they will be parsed in the order they are received. JavaScript files, JSON files, functions, and objects will need to namespace custom media using the <code>customMedia</code> or <code>custom-media</code> key.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb8-1" title="1"><span class="at">postcssCustomMedia</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb8-2" title="2">  <span class="dt">importFrom</span><span class="op">:</span> [</a>
<a class="sourceLine" id="cb8-3" title="3">    <span class="st">&#39;path/to/file.css&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb8-4" title="4">    <span class="st">&#39;and/then/this.js&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb8-5" title="5">    <span class="st">&#39;and/then/that.json&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb8-6" title="6">    <span class="op">{</span></a>
<a class="sourceLine" id="cb8-7" title="7">      <span class="dt">customMedia</span><span class="op">:</span> <span class="op">{</span> <span class="st">&#39;--small-viewport&#39;</span><span class="op">:</span> <span class="st">&#39;(max-width: 30em)&#39;</span> <span class="op">}</span></a>
<a class="sourceLine" id="cb8-8" title="8">    <span class="op">},</span></a>
<a class="sourceLine" id="cb8-9" title="9">    () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb8-10" title="10">      <span class="kw">const</span> customMedia <span class="op">=</span> <span class="op">{</span> <span class="st">&#39;--small-viewport&#39;</span><span class="op">:</span> <span class="st">&#39;(max-width: 30em)&#39;</span> <span class="op">};</span></a>
<a class="sourceLine" id="cb8-11" title="11"></a>
<a class="sourceLine" id="cb8-12" title="12">      <span class="cf">return</span> <span class="op">{</span> customMedia <span class="op">};</span></a>
<a class="sourceLine" id="cb8-13" title="13">    <span class="op">}</span></a>
<a class="sourceLine" id="cb8-14" title="14">  ]</a>
<a class="sourceLine" id="cb8-15" title="15"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<h3 id="exportto">exportTo</h3>
<p>The <code>exportTo</code> option specifies destinations where custom media can be exported to, which might be CSS, JS, and JSON files, functions, and directly passed objects.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb9-1" title="1"><span class="at">postcssCustomMedia</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb9-2" title="2">  <span class="dt">exportTo</span><span class="op">:</span> <span class="st">&#39;path/to/file.css&#39;</span> <span class="co">// @custom-media --small-viewport (max-width: 30em);</span></a>
<a class="sourceLine" id="cb9-3" title="3"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>Multiple destinations can be passed into this option, and they will be parsed in the order they are received. JavaScript files, JSON files, and objects will need to namespace custom media using the <code>customMedia</code> or <code>custom-media</code> key.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb10-1" title="1"><span class="kw">const</span> cachedObject <span class="op">=</span> <span class="op">{</span> <span class="dt">customMedia</span><span class="op">:</span> <span class="op">{}</span> <span class="op">};</span></a>
<a class="sourceLine" id="cb10-2" title="2"></a>
<a class="sourceLine" id="cb10-3" title="3"><span class="at">postcssCustomMedia</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb10-4" title="4">  <span class="dt">exportTo</span><span class="op">:</span> [</a>
<a class="sourceLine" id="cb10-5" title="5">    <span class="st">&#39;path/to/file.css&#39;</span><span class="op">,</span>   <span class="co">// @custom-media --small-viewport (max-width: 30em);</span></a>
<a class="sourceLine" id="cb10-6" title="6">    <span class="st">&#39;and/then/this.js&#39;</span><span class="op">,</span>   <span class="co">// module.exports = { customMedia: { &#39;--small-viewport&#39;: &#39;(max-width: 30em)&#39; } }</span></a>
<a class="sourceLine" id="cb10-7" title="7">    <span class="st">&#39;and/then/this.mjs&#39;</span><span class="op">,</span>  <span class="co">// export const customMedia = { &#39;--small-viewport&#39;: &#39;(max-width: 30em)&#39; } }</span></a>
<a class="sourceLine" id="cb10-8" title="8">    <span class="st">&#39;and/then/that.json&#39;</span><span class="op">,</span> <span class="co">// { &quot;custom-media&quot;: { &quot;--small-viewport&quot;: &quot;(max-width: 30em)&quot; } }</span></a>
<a class="sourceLine" id="cb10-9" title="9">    cachedObject<span class="op">,</span></a>
<a class="sourceLine" id="cb10-10" title="10">    customMedia <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb10-11" title="11">      customMedia    <span class="co">// { &#39;--small-viewport&#39;: &#39;(max-width: 30em)&#39; }</span></a>
<a class="sourceLine" id="cb10-12" title="12">    <span class="op">}</span></a>
<a class="sourceLine" id="cb10-13" title="13">  ]</a>
<a class="sourceLine" id="cb10-14" title="14"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>See example exports written to <a href="test/export-media.css">CSS</a>, <a href="test/export-media.js">JS</a>, <a href="test/export-media.mjs">MJS</a>, and <a href="test/export-media.json">JSON</a>.</p>
</body>
</html>
