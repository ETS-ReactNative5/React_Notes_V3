<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>README</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<h1 id="postcss-color-mod-function-postcss">PostCSS color-mod() Function <a href="https://github.com/postcss/postcss"><img src="https://postcss.github.io/postcss/logo.svg" alt="PostCSS Logo" width="90" height="90" align="right"></a></h1>
<p><a href="https://www.npmjs.com/package/postcss-color-mod-function"><img src="https://img.shields.io/npm/v/postcss-color-mod-function.svg" alt="NPM Version" /></a> <a href="https://preset-env.cssdb.org/features#color-mod-function"><img src="https://cssdb.org/badge/color-mod-function.svg" alt="CSS Standard Status" /></a> <a href="https://travis-ci.org/jonathantneal/postcss-color-mod-function"><img src="https://img.shields.io/travis/jonathantneal/postcss-color-mod-function.svg" alt="Build Status" /></a> <a href="https://gitter.im/postcss/postcss"><img src="https://img.shields.io/badge/support-chat-blue.svg" alt="Support Chat" /></a></p>
<p><a href="https://github.com/jonathantneal/postcss-color-mod-function">PostCSS color-mod() Function</a> lets you modify colors using the <code>color-mod()</code> function in CSS, following the <a href="https://www.w3.org/TR/css-color-4/#funcdef-color-mod">CSS Color Module Level 4</a> specification.</p>
<p><strong><code>color-mod()</code> has been removed from the Color Module Level 4 specification.</strong></p>
<pre class="pcss"><code>:root {
  --brand-red:      color-mod(yellow blend(red 50%));
  --brand-red-hsl:  color-mod(yellow blend(red 50% hsl));
  --brand-red-hwb:  color-mod(yellow blend(red 50% hwb));
  --brand-red-dark: color-mod(red blackness(20%));
}

/* becomes */

:root {
  --brand-red:      rgb(255, 127.5, 0);
  --brand-red-hsl:  rgb(255, 127.5, 255);
  --brand-red-hwb:  rgb(255, 127.5, 0);
  --brand-red-dark: rgb(204, 0, 0);
}

/* or, using stringifier(color) { return color.toString() } */

:root {
  --brand-red:      rgb(100% 50% 0% / 100%);
  --brand-red-hsl:  hsl(30 100% 50% / 100%);
  --brand-red-hwb:  hwb(30 0% 0% / 100%);
  --brand-red-dark: hwb(0 0% 20% / 100%);
}</code></pre>
<h3 id="supported-colors">Supported Colors</h3>
<p>The <code>color-mod()</code> function accepts <code>rgb()</code>, legacy comma-separated <code>rgb()</code>, <code>rgba()</code>, <code>hsl()</code>, legacy comma-separated <code>hsl()</code>, <code>hsla()</code>, <code>hwb()</code>, and <code>color-mod()</code> colors, as well as 3, 4, 6, and 8 digit hex colors, and named colors without the need for additional plugins.</p>
<p>Implemention details are available in <a href="https://drafts.csswg.org/css-color/#funcdef-color-mod">the specification</a>.</p>
<h3 id="supported-color-adjusters">Supported Color Adjusters</h3>
<p>The <code>color-mod()</code> function accepts <code>red()</code>, <code>green()</code>, <code>blue()</code>, <code>a()</code> / <code>alpha()</code>, <code>rgb()</code>, <code>h()</code> / <code>hue()</code>, <code>s()</code> / <code>saturation()</code>, <code>l()</code> / <code>lightness()</code>, <code>w()</code> / <code>whiteness()</code>, <code>b()</code> / <code>blackness()</code>, <code>tint()</code>, <code>shade()</code>, <code>blend()</code>, <code>blenda()</code>, and <code>contrast()</code> color adjusters.</p>
<p>Implemention details are available in <a href="https://drafts.csswg.org/css-color/#typedef-color-adjuster">the specification</a>.</p>
<h3 id="supported-variables">Supported Variables</h3>
<p>By default, <code>var()</code> variables will be used if their corresponding Custom Properties are found in a <code>:root</code> rule, or if a fallback value is specified.</p>
<h2 id="usage">Usage</h2>
<p>Add <a href="https://github.com/jonathantneal/postcss-color-mod-function">PostCSS color-mod() Function</a> to your project:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb2-1" title="1"><span class="ex">npm</span> install postcss-color-mod-function --save-dev</a></code></pre></div>
<p>Use <a href="https://github.com/jonathantneal/postcss-color-mod-function">PostCSS color-mod() Function</a> to process your CSS:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="kw">const</span> postcssColorMod <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;postcss-color-mod-function&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-2" title="2"></a>
<a class="sourceLine" id="cb3-3" title="3"><span class="va">postcssColorMod</span>.<span class="at">process</span>(YOUR_CSS <span class="co">/*, processOptions, pluginOptions */</span>)<span class="op">;</span></a></code></pre></div>
<p>Or use it as a <a href="https://github.com/postcss/postcss">PostCSS</a> plugin:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1"><span class="kw">const</span> postcss <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;postcss&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-2" title="2"><span class="kw">const</span> postcssColorMod <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;postcss-color-mod-function&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-3" title="3"></a>
<a class="sourceLine" id="cb4-4" title="4"><span class="at">postcss</span>([</a>
<a class="sourceLine" id="cb4-5" title="5">  <span class="at">postcssColorMod</span>(<span class="co">/* pluginOptions */</span>)</a>
<a class="sourceLine" id="cb4-6" title="6">]).<span class="at">process</span>(YOUR_CSS <span class="co">/*, processOptions */</span>)<span class="op">;</span></a></code></pre></div>
<p><a href="https://github.com/jonathantneal/postcss-color-mod-function">PostCSS color-mod() Function</a> runs in all Node environments, with special instructions for:</p>
<table>
<thead>
<tr class="header">
<th><a href="INSTALL.md#node">Node</a></th>
<th><a href="INSTALL.md#postcss-cli">PostCSS CLI</a></th>
<th><a href="INSTALL.md#webpack">Webpack</a></th>
<th><a href="INSTALL.md#create-react-app">Create React App</a></th>
<th><a href="INSTALL.md#gulp">Gulp</a></th>
<th><a href="INSTALL.md#grunt">Grunt</a></th>
</tr>
</thead>
<tbody>
</tbody>
</table>
<h2 id="options">Options</h2>
<h3 id="stringifier">stringifier</h3>
<p>The <code>stringifier</code> option defines how transformed colors will be produced in CSS. By default, legacy <code>rbg()</code> and <code>rgba()</code> colors are produced, but this can be easily updated to support [CSS Color Module Level 4 colors] colors.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb5-1" title="1"><span class="im">import</span> postcssColorMod <span class="im">from</span> <span class="st">&#39;postcss-color-mod-function&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb5-2" title="2"></a>
<a class="sourceLine" id="cb5-3" title="3"><span class="at">postcssColorMod</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb5-4" title="4">  <span class="at">stringifier</span>(color) <span class="op">{</span></a>
<a class="sourceLine" id="cb5-5" title="5">    <span class="cf">return</span> <span class="va">color</span>.<span class="at">toString</span>()<span class="op">;</span> <span class="co">// use CSS Color Module Level 4 colors (rgb, hsl, hwb)</span></a>
<a class="sourceLine" id="cb5-6" title="6">  <span class="op">}</span></a>
<a class="sourceLine" id="cb5-7" title="7"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>Future major releases of <a href="https://github.com/jonathantneal/postcss-color-mod-function">PostCSS color-mod() Function</a> may reverse this functionality so that CSS Color Module Level 4 colors are produced by default.</p>
<h3 id="unresolved">unresolved</h3>
<p>The <code>unresolved</code> option defines how unresolved functions and arguments should be handled. The available options are <code>throw</code>, <code>warn</code>, and <code>ignore</code>. The default option is to <code>throw</code>.</p>
<p>If <code>ignore</code> is used, the <code>color-mod()</code> function will remain unchanged.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb6-1" title="1"><span class="im">import</span> postcssColorMod <span class="im">from</span> <span class="st">&#39;postcss-color-mod-function&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb6-2" title="2"></a>
<a class="sourceLine" id="cb6-3" title="3"><span class="at">postcssColorMod</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb6-4" title="4">  <span class="dt">unresolved</span><span class="op">:</span> <span class="st">&#39;ignore&#39;</span> <span class="co">// ignore unresolved color-mod() functions</span></a>
<a class="sourceLine" id="cb6-5" title="5"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<h3 id="transformvars">transformVars</h3>
<p>The <code>transformVars</code> option defines whether <code>var()</code> variables used within <code>color-mod()</code> should be transformed into their corresponding Custom Properties available in <code>:root</code>, or their fallback value if it is specified. By default, <code>var()</code> variables will be transformed.</p>
<p>However, because these transformations occur at build time, they cannot be considered accurate. Accurately resolving cascading variables relies on knowledge of the living DOM tree.</p>
<h3 id="importfrom">importFrom</h3>
<p>The <code>importFrom</code> option allows you to import variables from other sources, which might be CSS, JS, and JSON files, and directly passed objects.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb7-1" title="1"><span class="at">postcssColorMod</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb7-2" title="2">  <span class="dt">importFrom</span><span class="op">:</span> <span class="st">&#39;path/to/file.css&#39;</span> <span class="co">// :root { --brand-dark: blue; --brand-main: var(--brand-dark); }</span></a>
<a class="sourceLine" id="cb7-3" title="3"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<pre class="pcss"><code>.brand-faded {
  color: color-mod(var(--brand-main) a(50%));
}

/* becomes */

.brand-faded {
  color: rgba(0, 0, 255, .5);
}</code></pre>
<p>Multiple files can be passed into this option, and they will be parsed in the order they were received. JavaScript files, JSON files, and objects will need to namespace custom properties under a <code>customProperties</code> or <code>custom-properties</code> key.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb9-1" title="1"><span class="at">postcssColorMod</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb9-2" title="2">  <span class="dt">importFrom</span><span class="op">:</span> [</a>
<a class="sourceLine" id="cb9-3" title="3">    <span class="st">&#39;path/to/file.css&#39;</span><span class="op">,</span>   <span class="co">// :root { --brand-dark: blue; --brand-main: var(--brand-dark); }</span></a>
<a class="sourceLine" id="cb9-4" title="4">    <span class="st">&#39;and/then/this.js&#39;</span><span class="op">,</span>   <span class="co">// module.exports = { customProperties: { &#39;--brand-dark&#39;: &#39;blue&#39;, &#39;--brand-main&#39;: &#39;var(--brand-dark)&#39; } }</span></a>
<a class="sourceLine" id="cb9-5" title="5">    <span class="st">&#39;and/then/that.json&#39;</span><span class="op">,</span> <span class="co">// { &quot;custom-properties&quot;: { &quot;--brand-dark&quot;: &quot;blue&quot;, &quot;--brand-main&quot;: &quot;var(--brand-dark)&quot; } }</span></a>
<a class="sourceLine" id="cb9-6" title="6">    <span class="op">{</span></a>
<a class="sourceLine" id="cb9-7" title="7">      <span class="dt">customProperties</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb9-8" title="8">        <span class="st">&#39;--brand-dark&#39;</span><span class="op">:</span> <span class="st">&#39;blue&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb9-9" title="9">        <span class="st">&#39;--brand-main&#39;</span><span class="op">:</span> <span class="st">&#39;var(--brand-dark)&#39;</span></a>
<a class="sourceLine" id="cb9-10" title="10">      <span class="op">}</span></a>
<a class="sourceLine" id="cb9-11" title="11">    <span class="op">}</span></a>
<a class="sourceLine" id="cb9-12" title="12">  ]</a>
<a class="sourceLine" id="cb9-13" title="13"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>Variables may reference other variables, and this plugin will attempt to resolve them. If <code>transformVars</code> is set to <code>false</code> then <code>importFrom</code> will not be used.</p>
</body>
</html>
