<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>README</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<h1 id="postcss-image-set-function-postcss">PostCSS image-set() Function <a href="https://github.com/postcss/postcss"><img src="https://postcss.github.io/postcss/logo.svg" alt="PostCSS Logo" width="90" height="90" align="right"></a></h1>
<p><a href="https://www.npmjs.com/package/postcss-image-set-function"><img src="https://img.shields.io/npm/v/postcss-image-set-function.svg" alt="NPM Version" /></a> <a href="https://cssdb.org/#image-set-function"><img src="https://cssdb.org/badge/image-set-function.svg" alt="CSS Standard Status" /></a> <a href="https://travis-ci.org/jonathantneal/postcss-image-set-function"><img src="https://img.shields.io/travis/jonathantneal/postcss-image-set-function.svg" alt="Build Status" /></a> <a href="https://gitter.im/postcss/postcss"><img src="https://img.shields.io/badge/support-chat-blue.svg" alt="Support Chat" /></a></p>
<p><a href="https://github.com/jonathantneal/postcss-image-set-function">PostCSS image-set() Function</a> lets you display resolution-dependent images using the <code>image-set()</code> function in CSS, following the <a href="https://drafts.csswg.org/css-images-4/#image-set-notation">CSS Images</a> specification.</p>
<pre class="pcss"><code>.example {
  background-image: image-set(
    url(img.png) 1x,
    url(img@2x.png) 2x,
    url(img@print.png) 600dpi
  );
}

/* becomes */

.example {
  background-image: url(img.png);
}

@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  .example {
    background-image: url(img@2x.png);
  }
}


@media (-webkit-min-device-pixel-ratio: 6.25), (min-resolution: 600dpi) {
  .example {
    background-image: url(my@print.png);
  }
}

.example {
  background-image: image-set(
    url(img.png) 1x,
    url(img@2x.png) 2x,
    url(img@print.png) 600dpi
  );
}</code></pre>
<h2 id="usage">Usage</h2>
<p>Add <a href="https://github.com/jonathantneal/postcss-image-set-function">PostCSS image-set() Function</a> to your project:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb2-1" title="1"><span class="ex">npm</span> install postcss-image-set-function --save-dev</a></code></pre></div>
<p>Use <a href="https://github.com/jonathantneal/postcss-image-set-function">PostCSS image-set() Function</a> to process your CSS:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="kw">const</span> postcssImageSetFunction <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;postcss-image-set-function&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-2" title="2"></a>
<a class="sourceLine" id="cb3-3" title="3"><span class="va">postcssImageSetFunction</span>.<span class="at">process</span>(YOUR_CSS <span class="co">/*, processOptions, pluginOptions */</span>)<span class="op">;</span></a></code></pre></div>
<p>Or use it as a <a href="https://github.com/postcss/postcss">PostCSS</a> plugin:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1"><span class="kw">const</span> postcss <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;postcss&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-2" title="2"><span class="kw">const</span> postcssImageSetFunction <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;postcss-image-set-function&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-3" title="3"></a>
<a class="sourceLine" id="cb4-4" title="4"><span class="at">postcss</span>([</a>
<a class="sourceLine" id="cb4-5" title="5">  <span class="at">postcssImageSetFunction</span>(<span class="co">/* pluginOptions */</span>)</a>
<a class="sourceLine" id="cb4-6" title="6">]).<span class="at">process</span>(YOUR_CSS <span class="co">/*, processOptions */</span>)<span class="op">;</span></a></code></pre></div>
<p><a href="https://github.com/jonathantneal/postcss-image-set-function">PostCSS image-set() Function</a> runs in all Node environments, with special instructions for:</p>
<table>
<thead>
<tr class="header">
<th><a href="INSTALL.md#node">Node</a></th>
<th><a href="INSTALL.md#postcss-cli">PostCSS CLI</a></th>
<th><a href="INSTALL.md#webpack">Webpack</a></th>
<th><a href="INSTALL.md#create-react-app">Create React App</a></th>
<th><a href="INSTALL.md#gulp">Gulp</a></th>
<th><a href="INSTALL.md#grunt">Grunt</a></th>
</tr>
</thead>
<tbody>
</tbody>
</table>
<h2 id="options">Options</h2>
<h3 id="preserve">preserve</h3>
<p>The <code>preserve</code> option determines whether the original declaration using <code>image-set()</code> is preserved. By default, it is preserved.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb5-1" title="1"><span class="at">postcssImageSetFunction</span>(<span class="op">{</span> <span class="dt">preserve</span><span class="op">:</span> <span class="kw">false</span> <span class="op">}</span>)</a></code></pre></div>
<pre class="pcss"><code>.example {
  background-image: image-set(
    url(img.png) 1x,
    url(img@2x.png) 2x,
    url(img@print.png) 600dpi
  );
}

/* becomes */

.example {
  background-image: url(img.png);
}

@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  .example {
    background-image: url(img@2x.png);
  }
}


@media (-webkit-min-device-pixel-ratio: 6.25), (min-resolution: 600dpi) {
  .example {
    background-image: url(my@print.png);
  }
}</code></pre>
<h3 id="onvalid">onvalid</h3>
<p>The <code>oninvalid</code> option determines how invalid usage of <code>image-set()</code> should be handled. By default, invalid usages of <code>image-set()</code> are ignored. They can be configured to display a <code>warning</code> or <code>throw</code> an error.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb7-1" title="1"><span class="at">postcssImageSetFunction</span>(<span class="op">{</span> <span class="dt">oninvalid</span><span class="op">:</span> <span class="st">&#39;warning&#39;</span> <span class="op">}</span>) <span class="co">// warn on invalid usages</span></a></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb8-1" title="1"><span class="at">postcssImageSetFunction</span>(<span class="op">{</span> <span class="dt">oninvalid</span><span class="op">:</span> <span class="st">&#39;throw&#39;</span> <span class="op">}</span>) <span class="co">// throw on invalid usages</span></a></code></pre></div>
<h2 id="image-resolution">Image Resolution</h2>
<p>The <code>image-set()</code> function allows an author to provide multiple resolutions of an image and let the browser decide which is most appropriate in a given situation. The <code>image-set()</code> also never fails to choose an image; the <code>&lt;resolution&gt;</code> just helps determine which of the images is chosen.</p>
<p>Since this plugin is not a browser, the image options are sorted by device pixel ratio and the lowest ratio is used as the default, while the remaining images are pushed behind media queries.</p>
<p>Therefore, this plugin can only approximate native browser behavior. While images should typically match the resolution as the device they’re being viewed in, other factors can affect the chosen image. For example, if the user is on a slow mobile connection, the browser may prefer to select a lower-res image rather than wait for a larger, resolution-matching image to load.</p>
</body>
</html>
