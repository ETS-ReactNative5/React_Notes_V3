<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>README</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<h1 id="note-pending-imminent-deprecation">Note: pending imminent deprecation</h1>
<p><strong>This module will be deprecated once npm v7 is released. Please do not rely on it more than absolutely necessary (ie, only if you are depending on it for use with npm v6 internal dependencies).</strong></p>
<hr />
<h1 id="figgy-pudding-npm-version-license-travis-coverage-status">figgy-pudding <a href="https://npm.im/figgy-pudding"><img src="https://img.shields.io/npm/v/figgy-pudding.svg" alt="npm version" /></a> <a href="https://npm.im/figgy-pudding"><img src="https://img.shields.io/npm/l/figgy-pudding.svg" alt="license" /></a> <a href="https://travis-ci.org/npm/figgy-pudding"><img src="https://img.shields.io/travis/npm/figgy-pudding.svg" alt="Travis" /></a> <a href="https://coveralls.io/github/npm/figgy-pudding?branch=latest"><img src="https://coveralls.io/repos/github/npm/figgy-pudding/badge.svg?branch=latest" alt="Coverage Status" /></a></h1>
<p><a href="https://github.com/npm/figgy-pudding"><code>figgy-pudding</code></a> is a small JavaScript library for managing and composing cascading options objects â€“ hiding what needs to be hidden from each layer, without having to do a lot of manual munging and passing of options.</p>
<h3 id="the-god-object-is-dead">The God Object is Dead!</h3>
<h3 id="now-bring-us-some-figgy-pudding">Now Bring Us Some Figgy Pudding!</h3>
<h2 id="install">Install</h2>
<p><code>$ npm install figgy-pudding</code></p>
<h2 id="table-of-contents">Table of Contents</h2>
<ul>
<li><a href="#example">Example</a></li>
<li><a href="#features">Features</a></li>
<li><a href="#api">API</a>
<ul>
<li><a href="#figgy-pudding"><code>figgyPudding(spec)</code></a></li>
<li><a href="#pudding-factory"><code>PuddingFactory(values)</code></a>
<ul>
<li><a href="#opts-get"><code>opts.get()</code></a></li>
<li><a href="#opts-concat"><code>opts.concat()</code></a></li>
<li><a href="#opts-to-json"><code>opts.toJSON()</code></a></li>
<li><a href="#opts-for-each"><code>opts.forEach()</code></a></li>
<li><a href="#opts-symbol-iterator"><code>opts[Symbol.iterator]()</code></a></li>
<li><a href="#opts-entries"><code>opts.entries()</code></a></li>
<li><a href="#opts-keys"><code>opts.keys()</code></a></li>
<li><a href="#opts-values"><code>opts.value()</code></a></li>
</ul></li>
</ul></li>
</ul>
<h3 id="example">Example</h3>
<div class="sourceCode" id="cb1"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="co">// print-package.js</span></a>
<a class="sourceLine" id="cb1-2" title="2"><span class="kw">const</span> fetch <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;./fetch.js&#39;</span>)</a>
<a class="sourceLine" id="cb1-3" title="3"><span class="kw">const</span> puddin <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;figgy-pudding&#39;</span>)</a>
<a class="sourceLine" id="cb1-4" title="4"></a>
<a class="sourceLine" id="cb1-5" title="5"><span class="kw">const</span> PrintOpts <span class="op">=</span> <span class="at">puddin</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb1-6" title="6">  <span class="dt">json</span><span class="op">:</span> <span class="op">{</span> <span class="cf">default</span><span class="op">:</span> <span class="kw">false</span> <span class="op">}</span></a>
<a class="sourceLine" id="cb1-7" title="7"><span class="op">}</span>)</a>
<a class="sourceLine" id="cb1-8" title="8"></a>
<a class="sourceLine" id="cb1-9" title="9"><span class="kw">async</span> <span class="kw">function</span> <span class="at">printPkg</span> (name<span class="op">,</span> opts) <span class="op">{</span></a>
<a class="sourceLine" id="cb1-10" title="10">  <span class="co">// Expected pattern is to call this in every interface function. If `opts` is</span></a>
<a class="sourceLine" id="cb1-11" title="11">  <span class="co">// not passed in, it will automatically create an (empty) object for it.</span></a>
<a class="sourceLine" id="cb1-12" title="12">  opts <span class="op">=</span> <span class="at">PrintOpts</span>(opts)</a>
<a class="sourceLine" id="cb1-13" title="13">  <span class="kw">const</span> uri <span class="op">=</span> <span class="vs">`https://registry.npmjs.com/</span><span class="sc">${</span>name<span class="sc">}</span><span class="vs">`</span></a>
<a class="sourceLine" id="cb1-14" title="14">  <span class="kw">const</span> res <span class="op">=</span> <span class="cf">await</span> <span class="at">fetch</span>(uri<span class="op">,</span> <span class="va">opts</span>.<span class="at">concat</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb1-15" title="15">    <span class="co">// Add or override any passed-in configs and pass them down.</span></a>
<a class="sourceLine" id="cb1-16" title="16">    <span class="dt">log</span><span class="op">:</span> customLogger</a>
<a class="sourceLine" id="cb1-17" title="17">  <span class="op">}</span>))</a>
<a class="sourceLine" id="cb1-18" title="18">  <span class="co">// The following would throw an error, because it&#39;s not in PrintOpts:</span></a>
<a class="sourceLine" id="cb1-19" title="19">  <span class="co">// console.log(opts.log)</span></a>
<a class="sourceLine" id="cb1-20" title="20">  <span class="cf">if</span> (<span class="va">opts</span>.<span class="at">json</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb1-21" title="21">    <span class="cf">return</span> <span class="va">res</span>.<span class="at">json</span>()</a>
<a class="sourceLine" id="cb1-22" title="22">  <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb1-23" title="23">    <span class="cf">return</span> <span class="va">res</span>.<span class="at">text</span>()</a>
<a class="sourceLine" id="cb1-24" title="24">  <span class="op">}</span></a>
<a class="sourceLine" id="cb1-25" title="25"><span class="op">}</span></a>
<a class="sourceLine" id="cb1-26" title="26"></a>
<a class="sourceLine" id="cb1-27" title="27"><span class="va">console</span>.<span class="at">log</span>(<span class="cf">await</span> <span class="at">printPkg</span>(<span class="st">&#39;figgy&#39;</span><span class="op">,</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb1-28" title="28">  <span class="co">// Pass in *all* configs at the toplevel, as a regular object.</span></a>
<a class="sourceLine" id="cb1-29" title="29">  <span class="dt">json</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></a>
<a class="sourceLine" id="cb1-30" title="30">  <span class="dt">cache</span><span class="op">:</span> <span class="st">&#39;./tmp-cache&#39;</span></a>
<a class="sourceLine" id="cb1-31" title="31"><span class="op">}</span>))</a></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="co">// fetch.js</span></a>
<a class="sourceLine" id="cb2-2" title="2"><span class="kw">const</span> puddin <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;figgy-pudding&#39;</span>)</a>
<a class="sourceLine" id="cb2-3" title="3"></a>
<a class="sourceLine" id="cb2-4" title="4"><span class="kw">const</span> FetchOpts <span class="op">=</span> <span class="at">puddin</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb2-5" title="5">  <span class="dt">log</span><span class="op">:</span> <span class="op">{</span> <span class="cf">default</span><span class="op">:</span> <span class="at">require</span>(<span class="st">&#39;npmlog&#39;</span>) <span class="op">},</span></a>
<a class="sourceLine" id="cb2-6" title="6">  <span class="dt">cache</span><span class="op">:</span> <span class="op">{}</span></a>
<a class="sourceLine" id="cb2-7" title="7"><span class="op">}</span>)</a>
<a class="sourceLine" id="cb2-8" title="8"></a>
<a class="sourceLine" id="cb2-9" title="9"><span class="va">module</span>.<span class="at">exports</span> <span class="op">=</span> <span class="kw">async</span> <span class="kw">function</span> (...<span class="op">,</span> opts) <span class="op">{</span></a>
<a class="sourceLine" id="cb2-10" title="10">  opts <span class="op">=</span> <span class="at">FetchOpts</span>(opts)</a>
<a class="sourceLine" id="cb2-11" title="11"><span class="op">}</span></a></code></pre></div>
<h3 id="features">Features</h3>
<ul>
<li>hide options from layer that didnâ€™t ask for it</li>
<li>shared multi-layer options</li>
<li>make sure <code>opts</code> argument is available</li>
<li>transparent key access like normal keys, through a Proxy. No need for<code>.get()</code>!</li>
<li>default values</li>
<li>key aliases</li>
<li>arbitrary key filter functions</li>
<li>key/value iteration</li>
<li>serialization</li>
<li>100% test coverage using <code>tap --100</code></li>
</ul>
<h3 id="api">API</h3>
<h4 id="figgypudding-key-default-val-string-opts---puddingfactory"><a name="figgy-pudding"></a> <code>&gt; figgyPudding({ key: { default: val } | String }, [opts]) -&gt; PuddingFactory</code></h4>
<p>Defines an Options constructor that can be used to collect only the needed options.</p>
<p>An optional <code>default</code> property for specs can be used to specify default values if nothing was passed in.</p>
<p>If the value for a spec is a string, it will be treated as an alias to that other key.</p>
<h5 id="example-1">Example</h5>
<div class="sourceCode" id="cb3"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="kw">const</span> MyAppOpts <span class="op">=</span> <span class="at">figgyPudding</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb3-2" title="2">  <span class="dt">lg</span><span class="op">:</span> <span class="st">&#39;log&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb3-3" title="3">  <span class="dt">log</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb3-4" title="4">    <span class="cf">default</span><span class="op">:</span> () <span class="kw">=&gt;</span> <span class="at">require</span>(<span class="st">&#39;npmlog&#39;</span>)</a>
<a class="sourceLine" id="cb3-5" title="5">  <span class="op">},</span></a>
<a class="sourceLine" id="cb3-6" title="6">  <span class="dt">cache</span><span class="op">:</span> <span class="op">{}</span></a>
<a class="sourceLine" id="cb3-7" title="7"><span class="op">}</span>)</a></code></pre></div>
<h4 id="puddingfactory...providers---figgypudding"><a name="pudding-factory"></a> <code>&gt; PuddingFactory(...providers) -&gt; FiggyPudding{}</code></h4>
<p>Instantiates an options object defined by <code>figgyPudding()</code>, which uses <code>providers</code>, in order, to find requested properties.</p>
<p>Each provider can be either a plain object, a <code>Map</code>-like object (that is, one with a <code>.get()</code> method) or another figgyPudding <code>Opts</code> object.</p>
<p>When nesting <code>Opts</code> objects, their properties will not become available to the new object, but any further nested <code>Opts</code> that reference that property <em>will</em> be able to read from their grandparent, as long as they define that key. Default values for nested <code>Opts</code> parents will be used, if found.</p>
<h5 id="example-2">Example</h5>
<div class="sourceCode" id="cb4"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1"><span class="kw">const</span> ReqOpts <span class="op">=</span> <span class="at">figgyPudding</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb4-2" title="2">  <span class="dt">follow</span><span class="op">:</span> <span class="op">{}</span></a>
<a class="sourceLine" id="cb4-3" title="3"><span class="op">}</span>)</a>
<a class="sourceLine" id="cb4-4" title="4"></a>
<a class="sourceLine" id="cb4-5" title="5"><span class="kw">const</span> opts <span class="op">=</span> <span class="at">ReqOpts</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb4-6" title="6">  <span class="dt">follow</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></a>
<a class="sourceLine" id="cb4-7" title="7">  <span class="dt">log</span><span class="op">:</span> <span class="at">require</span>(<span class="st">&#39;npmlog&#39;</span>)</a>
<a class="sourceLine" id="cb4-8" title="8"><span class="op">}</span>)</a>
<a class="sourceLine" id="cb4-9" title="9"></a>
<a class="sourceLine" id="cb4-10" title="10"><span class="va">opts</span>.<span class="at">follow</span> <span class="co">// =&gt; true</span></a>
<a class="sourceLine" id="cb4-11" title="11"><span class="va">opts</span>.<span class="at">log</span> <span class="co">// =&gt; Error: ReqOpts does not define `log`</span></a>
<a class="sourceLine" id="cb4-12" title="12"></a>
<a class="sourceLine" id="cb4-13" title="13"><span class="kw">const</span> MoreOpts <span class="op">=</span> <span class="at">figgyPudding</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb4-14" title="14">  <span class="dt">log</span><span class="op">:</span> <span class="op">{}</span></a>
<a class="sourceLine" id="cb4-15" title="15"><span class="op">}</span>)</a>
<a class="sourceLine" id="cb4-16" title="16"><span class="at">MoreOpts</span>(opts).<span class="at">log</span> <span class="co">// =&gt; npmlog object (passed in from original plain obj)</span></a>
<a class="sourceLine" id="cb4-17" title="17"><span class="at">MoreOpts</span>(opts).<span class="at">follow</span> <span class="co">// =&gt; Error: MoreOpts does not define `follow`</span></a></code></pre></div>
<h4 id="opts.getkey---value"><a name="opts-get"></a> <code>&gt; opts.get(key) -&gt; Value</code></h4>
<p>Gets a value from the options object.</p>
<h5 id="example-3">Example</h5>
<div class="sourceCode" id="cb5"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb5-1" title="1"><span class="kw">const</span> opts <span class="op">=</span> <span class="at">MyOpts</span>(config)</a>
<a class="sourceLine" id="cb5-2" title="2"><span class="va">opts</span>.<span class="at">get</span>(<span class="st">&#39;foo&#39;</span>) <span class="co">// value of `foo`</span></a>
<a class="sourceLine" id="cb5-3" title="3"><span class="va">opts</span>.<span class="at">foo</span> <span class="co">// Proxy-based access through `.get()`</span></a></code></pre></div>
<h4 id="opts.concat...moreproviders---figgypudding"><a name="opts-concat"></a> <code>&gt; opts.concat(...moreProviders) -&gt; FiggyPudding{}</code></h4>
<p>Creates a new opts object of the same type as <code>opts</code> with additional providers. Providers further to the right shadow providers to the left, with properties in the original <code>opts</code> being shadows by the new providers.</p>
<h5 id="example-4">Example</h5>
<div class="sourceCode" id="cb6"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb6-1" title="1"><span class="kw">const</span> opts <span class="op">=</span> <span class="at">MyOpts</span>(<span class="op">{</span><span class="dt">x</span><span class="op">:</span> <span class="dv">1</span><span class="op">}</span>)</a>
<a class="sourceLine" id="cb6-2" title="2"><span class="va">opts</span>.<span class="at">get</span>(<span class="st">&#39;x&#39;</span>) <span class="co">// 1</span></a>
<a class="sourceLine" id="cb6-3" title="3"><span class="va">opts</span>.<span class="at">concat</span>(<span class="op">{</span><span class="dt">x</span><span class="op">:</span> <span class="dv">2</span><span class="op">}</span>).<span class="at">get</span>(<span class="st">&#39;x&#39;</span>) <span class="co">// 2</span></a>
<a class="sourceLine" id="cb6-4" title="4"><span class="va">opts</span>.<span class="at">get</span>(<span class="st">&#39;x&#39;</span>) <span class="co">// 1 (original opts object left intact)</span></a></code></pre></div>
<h4 id="opts.tojson---value"><a name="opts-to-json"></a> <code>&gt; opts.toJSON() -&gt; Value</code></h4>
<p>Converts <code>opts</code> to a plain, JSON-stringifiable JavaScript value. Used internally by JavaScript to get <code>JSON.stringify()</code> working.</p>
<p>Only keys that are readable by the current pudding type will be serialized.</p>
<h5 id="example-5">Example</h5>
<div class="sourceCode" id="cb7"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb7-1" title="1"><span class="kw">const</span> opts <span class="op">=</span> <span class="at">MyOpts</span>(<span class="op">{</span><span class="dt">x</span><span class="op">:</span> <span class="dv">1</span><span class="op">}</span>)</a>
<a class="sourceLine" id="cb7-2" title="2"><span class="va">opts</span>.<span class="at">toJSON</span>() <span class="co">// {x: 1}</span></a>
<a class="sourceLine" id="cb7-3" title="3"><span class="va">JSON</span>.<span class="at">stringify</span>(opts) <span class="co">// &#39;{&quot;x&quot;:1}&#39;</span></a></code></pre></div>
<h4 id="opts.foreachvalue-key-opts-thisarg---undefined"><a name="opts-for-each"></a> <code>&gt; opts.forEach((value, key, opts) =&gt; {}, thisArg) -&gt; undefined</code></h4>
<p>Iterates over the values of <code>opts</code>, limited to the keys readable by the current pudding type. <code>thisArg</code> will be used to set the <code>this</code> argument when calling the <code>fn</code>.</p>
<h5 id="example-6">Example</h5>
<div class="sourceCode" id="cb8"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb8-1" title="1"><span class="kw">const</span> opts <span class="op">=</span> <span class="at">MyOpts</span>(<span class="op">{</span><span class="dt">x</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">2</span><span class="op">}</span>)</a>
<a class="sourceLine" id="cb8-2" title="2"><span class="va">opts</span>.<span class="at">forEach</span>((value<span class="op">,</span> key) <span class="kw">=&gt;</span> <span class="va">console</span>.<span class="at">log</span>(key<span class="op">,</span> <span class="st">&#39;=&#39;</span><span class="op">,</span> value))</a></code></pre></div>
<h4 id="opts.entries---iteratorkey-value-..."><a name="opts-entries"></a> <code>&gt; opts.entries() -&gt; Iterator&lt;[[key, value], ...]&gt;</code></h4>
<p>Returns an iterator that iterates over the keys and values in <code>opts</code>, limited to the keys readable by the current pudding type. Each iteration returns an array of <code>[key, value]</code>.</p>
<h5 id="example-7">Example</h5>
<div class="sourceCode" id="cb9"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb9-1" title="1"><span class="kw">const</span> opts <span class="op">=</span> <span class="at">MyOpts</span>(<span class="op">{</span><span class="dt">x</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">2</span><span class="op">}</span>)</a>
<a class="sourceLine" id="cb9-2" title="2">[...<span class="at">opts</span>(<span class="op">{</span><span class="dt">x</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">2</span><span class="op">}</span>).<span class="at">entries</span>()] <span class="co">// [[&#39;x&#39;, 1], [&#39;y&#39;, 2]]</span></a></code></pre></div>
<h4 id="optssymbol.iterator---iteratorkey-value-..."><a name="opts-symbol-iterator"></a> <code>&gt; opts[Symbol.iterator]() -&gt; Iterator&lt;[[key, value], ...]&gt;</code></h4>
<p>Returns an iterator that iterates over the keys and values in <code>opts</code>, limited to the keys readable by the current pudding type. Each iteration returns an array of <code>[key, value]</code>. Makes puddings work natively with JS iteration mechanisms.</p>
<h5 id="example-8">Example</h5>
<div class="sourceCode" id="cb10"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb10-1" title="1"><span class="kw">const</span> opts <span class="op">=</span> <span class="at">MyOpts</span>(<span class="op">{</span><span class="dt">x</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">2</span><span class="op">}</span>)</a>
<a class="sourceLine" id="cb10-2" title="2">[...<span class="at">opts</span>(<span class="op">{</span><span class="dt">x</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">2</span><span class="op">}</span>)] <span class="co">// [[&#39;x&#39;, 1], [&#39;y&#39;, 2]]</span></a>
<a class="sourceLine" id="cb10-3" title="3"><span class="cf">for</span> (<span class="kw">let</span> [key<span class="op">,</span> value] <span class="kw">of</span> <span class="at">opts</span>(<span class="op">{</span><span class="dt">x</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">2</span><span class="op">}</span>)) <span class="op">{</span></a>
<a class="sourceLine" id="cb10-4" title="4">  <span class="va">console</span>.<span class="at">log</span>(key<span class="op">,</span> <span class="st">&#39;=&#39;</span><span class="op">,</span> value)</a>
<a class="sourceLine" id="cb10-5" title="5"><span class="op">}</span></a></code></pre></div>
<h4 id="opts.keys---iteratorkey-..."><a name="opts-keys"></a> <code>&gt; opts.keys() -&gt; Iterator&lt;[key, ...]&gt;</code></h4>
<p>Returns an iterator that iterates over the keys in <code>opts</code>, limited to the keys readable by the current pudding type.</p>
<h5 id="example-9">Example</h5>
<div class="sourceCode" id="cb11"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb11-1" title="1"><span class="kw">const</span> opts <span class="op">=</span> <span class="at">MyOpts</span>(<span class="op">{</span><span class="dt">x</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">2</span><span class="op">}</span>)</a>
<a class="sourceLine" id="cb11-2" title="2">[...<span class="at">opts</span>(<span class="op">{</span><span class="dt">x</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">2</span><span class="op">}</span>).<span class="at">keys</span>()] <span class="co">// [&#39;x&#39;, &#39;y&#39;]</span></a></code></pre></div>
<h4 id="opts.values---iteratorvalue-..."><a name="opts-values"></a> <code>&gt; opts.values() -&gt; Iterator&lt;[value, ...]&gt;</code></h4>
<p>Returns an iterator that iterates over the values in <code>opts</code>, limited to the keys readable by the current pudding type.</p>
<h5 id="example-10">Example</h5>
<p>â€™</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb12-1" title="1"><span class="kw">const</span> opts <span class="op">=</span> <span class="at">MyOpts</span>(<span class="op">{</span><span class="dt">x</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">2</span><span class="op">}</span>)</a>
<a class="sourceLine" id="cb12-2" title="2">[...<span class="at">opts</span>(<span class="op">{</span><span class="dt">x</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">2</span><span class="op">}</span>).<span class="at">values</span>()] <span class="co">// [1, 2]</span></a></code></pre></div>
</body>
</html>
